/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e,t,r,i={1325:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const n=r(2361),s=i(r(445)),o=i(r(9860)),a=s.default("agent-base");function c(){const{stack:e}=new Error;return"string"==typeof e&&e.split("\n").some((e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:")))}function l(e,t){return new l.Agent(e,t)}!function(e){class t extends n.EventEmitter{constructor(e,t){super();let r=t;"function"==typeof e?this.callback=e:e&&(r=e),this.timeout=null,r&&"number"==typeof r.timeout&&(this.timeout=r.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return"number"==typeof this.explicitDefaultPort?this.explicitDefaultPort:c()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){return"string"==typeof this.explicitProtocol?this.explicitProtocol:c()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,r){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const r=Object.assign({},t);"boolean"!=typeof r.secureEndpoint&&(r.secureEndpoint=c()),null==r.host&&(r.host="localhost"),null==r.port&&(r.port=r.secureEndpoint?443:80),null==r.protocol&&(r.protocol=r.secureEndpoint?"https:":"http:"),r.host&&r.path&&delete r.path,delete r.agent,delete r.hostname,delete r._defaultAgent,delete r.defaultPort,delete r.createConnection,e._last=!0,e.shouldKeepAlive=!1;let i=!1,n=null;const s=r.timeout||this.timeout,l=t=>{e._hadError||(e.emit("error",t),e._hadError=!0)},u=()=>{n=null,i=!0;const e=new Error(`A "socket" was not created for HTTP request before ${s}ms`);e.code="ETIMEOUT",l(e)},h=e=>{i||(null!==n&&(clearTimeout(n),n=null),l(e))},d=t=>{if(i)return;if(null!=n&&(clearTimeout(n),n=null),s=t,Boolean(s)&&"function"==typeof s.addRequest)return a("Callback returned another Agent instance %o",t.constructor.name),void t.addRequest(e,r);var s;if(t)return t.once("free",(()=>{this.freeSocket(t,r)})),void e.onSocket(t);const o=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);l(o)};if("function"==typeof this.callback){this.promisifiedCallback||(this.callback.length>=3?(a("Converting legacy callback function to promise"),this.promisifiedCallback=o.default(this.callback)):this.promisifiedCallback=this.callback),"number"==typeof s&&s>0&&(n=setTimeout(u,s)),"port"in r&&"number"!=typeof r.port&&(r.port=Number(r.port));try{a("Resolving socket for %o request: %o",r.protocol,`${e.method} ${e.path}`),Promise.resolve(this.promisifiedCallback(e,r)).then(d,h)}catch(e){Promise.reject(e).catch(h)}}else l(new Error("`callback` is not defined"))}freeSocket(e,t){a("Freeing socket %o %o",e.constructor.name,t),e.destroy()}destroy(){a("Destroying agent %o",this.constructor.name)}}e.Agent=t,e.prototype=e.Agent.prototype}(l||(l={})),e.exports=l},9860:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){return new Promise(((i,n)=>{e.call(this,t,r,((e,t)=>{e?n(e):i(t)}))}))}}},2294:e=>{"use strict";function t(e,t,n){e instanceof RegExp&&(e=r(e,n)),t instanceof RegExp&&(t=r(t,n));var s=i(e,t,n);return s&&{start:s[0],end:s[1],pre:n.slice(0,s[0]),body:n.slice(s[0]+e.length,s[1]),post:n.slice(s[1]+t.length)}}function r(e,t){var r=t.match(e);return r?r[0]:null}function i(e,t,r){var i,n,s,o,a,c=r.indexOf(e),l=r.indexOf(t,c+1),u=c;if(c>=0&&l>0){if(e===t)return[c,l];for(i=[],s=r.length;u>=0&&!a;)u==c?(i.push(u),c=r.indexOf(e,u+1)):1==i.length?a=[i.pop(),l]:((n=i.pop())<s&&(s=n,o=l),l=r.indexOf(t,u+1)),u=c<l&&c>=0?c:l;i.length&&(a=[s,o])}return a}e.exports=t,t.range=i},6888:(e,t,r)=>{"use strict";const{Buffer:i}=r(4300),n=Symbol.for("BufferList");function s(e){if(!(this instanceof s))return new s(e);s._init.call(this,e)}s._init=function(e){Object.defineProperty(this,n,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},s.prototype._new=function(e){return new s(e)},s.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){const i=t+this._bufs[r].length;if(e<i||r===this._bufs.length-1)return[r,e-t];t=i}},s.prototype._reverseOffset=function(e){const t=e[0];let r=e[1];for(let e=0;e<t;e++)r+=this._bufs[e].length;return r},s.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},s.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},s.prototype.copy=function(e,t,r,n){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof n||n>this.length)&&(n=this.length),r>=this.length)return e||i.alloc(0);if(n<=0)return e||i.alloc(0);const s=!!e,o=this._offset(r),a=n-r;let c=a,l=s&&t||0,u=o[1];if(0===r&&n===this.length){if(!s)return 1===this._bufs.length?this._bufs[0]:i.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,l),l+=this._bufs[t].length;return e}if(c<=this._bufs[o[0]].length-u)return s?this._bufs[o[0]].copy(e,t,u,u+c):this._bufs[o[0]].slice(u,u+c);s||(e=i.allocUnsafe(a));for(let t=o[0];t<this._bufs.length;t++){const r=this._bufs[t].length-u;if(!(c>r)){this._bufs[t].copy(e,l,u,u+c),l+=r;break}this._bufs[t].copy(e,l,u),l+=r,c-=r,u&&(u=0)}return e.length>l?e.slice(0,l):e},s.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const r=this._offset(e),i=this._offset(t),n=this._bufs.slice(r[0],i[0]+1);return 0===i[1]?n.pop():n[n.length-1]=n[n.length-1].slice(0,i[1]),0!==r[1]&&(n[0]=n[0].slice(r[1])),this._new(n)},s.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},s.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},s.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},s.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(i.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(i.from(e));return this},s.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},s.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=i.from([e]):"string"==typeof e?e=i.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=i.from(e.buffer,e.byteOffset,e.byteLength):i.isBuffer(e)||(e=i.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const n=this._offset(t);let s=n[0],o=n[1];for(;s<this._bufs.length;s++){const t=this._bufs[s];for(;o<t.length;)if(t.length-o>=e.length){const r=t.indexOf(e,o);if(-1!==r)return this._reverseOffset([s,r]);o=t.length-e.length+1}else{const t=this._reverseOffset([s,o]);if(this._match(t,e))return t;o++}o=0}return-1},s.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){s.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(r=0){return this.slice(r,r+e[t])[t](0)}}(t)}(),s.prototype._isBufferList=function(e){return e instanceof s||s.isBufferList(e)},s.isBufferList=function(e){return null!=e&&e[n]},e.exports=s},9050:(e,t,r)=>{"use strict";const i=r(5408).Duplex,n=r(8874),s=r(6888);function o(e){if(!(this instanceof o))return new o(e);if("function"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}s._init.call(this,e),i.call(this)}n(o,i),Object.assign(o.prototype,s.prototype),o.prototype._new=function(e){return new o(e)},o.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},o.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},o.prototype.end=function(e){i.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},o.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},o.prototype._isBufferList=function(e){return e instanceof o||e instanceof s||o.isBufferList(e)},o.isBufferList=s.isBufferList,e.exports=o,e.exports.BufferListStream=o,e.exports.BufferList=s},9122:e=>{"use strict";const t={};function r(e,r,i){i||(i=Error);class n extends i{constructor(e,t,i){super(function(e,t,i){return"string"==typeof r?r:r(e,t,i)}(e,t,i))}}n.prototype.name=i.name,n.prototype.code=e,t[e]=n}function i(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map((e=>String(e))),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;var s;let o;if("string"==typeof t&&(s="not ",t.substr(0,s.length)===s)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o=`The ${e} ${n} ${i(t,"type")}`;else{o=`The "${e}" ${"number"!=typeof c&&(c=0),c+".".length>(a=e).length||-1===a.indexOf(".",c)?"argument":"property"} ${n} ${i(t,"type")}`}var a,c;return o+=". Received type "+typeof r,o}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6970:(e,t,r)=>{"use strict";var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var n=r(8284),s=r(2105);r(8874)(l,n);for(var o=i(s.prototype),a=0;a<o.length;a++){var c=o[a];l.prototype[c]||(l.prototype[c]=s.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);n.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||process.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},1142:(e,t,r)=>{"use strict";e.exports=n;var i=r(6131);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(8874)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},8284:(e,t,r)=>{"use strict";var i;e.exports=E,E.ReadableState=S,r(2361).EventEmitter;var n,s=function(e,t){return e.listeners(t).length},o=r(5711),a=r(4300).Buffer,c=global.Uint8Array||function(){},l=r(3837);n=l&&l.debuglog?l.debuglog("stream"):function(){};var u,h,d,f=r(3379),p=r(9628),m=r(7727).getHighWaterMark,g=r(9122).q,y=g.ERR_INVALID_ARG_TYPE,_=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(8874)(E,o);var v=p.errorOrDestroy,k=["error","close","destroy","pause","resume"];function S(e,t,n){i=i||r(6970),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",n),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=r(6775).s),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function E(e){if(i=i||r(6970),!(this instanceof E))return new E(e);var t=this instanceof i;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function x(e,t,r,i,s){n("readableAddChunk",t);var o,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}}(e,l);else if(s||(o=function(e,t){var r,i;return i=t,a.isBuffer(i)||i instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(l,t)),o)v(e,o);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),i)l.endEmitted?v(e,new w):C(e,l,t,!0);else if(l.ended)v(e,new _);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!r?(t=l.decoder.write(t),l.objectMode||0!==t.length?C(e,l,t,!1):O(e,l)):C(e,l,t,!1)}else i||(l.reading=!1,O(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function C(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&R(e)),O(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=a.from(e,t),t=""),r=!0),x(this,e,t,!1,r)},E.prototype.unshift=function(e){return x(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){u||(u=r(6775).s);var t=new u(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var T=1073741824;function M(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(P,e))}function P(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(A,e,t))}function A(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(n("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){n("readable nexttick read 0"),e.read(0)}function N(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function D(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(B,t,e))}function B(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function q(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return n("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):R(this),null;if(0===(e=M(e,t))&&t.ended)return 0===t.length&&D(this),null;var i,s=t.needReadable;return n("need readable",s),(0===t.length||t.length-e<t.highWaterMark)&&n("length less than watermark",s=!0),t.ended||t.reading?n("reading or ended",s=!1):s&&(n("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=M(r,t))),null===(i=e>0?j(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==i&&this.emit("data",i),i},E.prototype._read=function(e){v(this,new b("_read()"))},E.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,n("pipe count=%d opts=%j",i.pipesCount,t);var o=t&&!1===t.end||e===process.stdout||e===process.stderr?p:a;function a(){n("onend"),e.end()}i.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",(function t(s,o){n("onunpipe"),s===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,n("cleanup"),e.removeListener("close",d),e.removeListener("finish",f),e.removeListener("drain",c),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",u),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;n("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,F(e))}}(r);e.on("drain",c);var l=!1;function u(t){n("ondata");var s=e.write(t);n("dest.write",s),!1===s&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==q(i.pipes,e))&&!l&&(n("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function h(t){n("onerror",t),p(),e.removeListener("error",h),0===s(e,"error")&&v(e,t)}function d(){e.removeListener("finish",f),p()}function f(){n("onfinish"),e.removeListener("close",d),p()}function p(){n("unpipe"),r.unpipe(e)}return r.on("data",u),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",h),e.once("close",d),e.once("finish",f),e.emit("pipe",r),i.flowing||(n("pipe resume"),r.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=q(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,n("on readable",i.length,i.reading),i.length?R(this):i.reading||process.nextTick(I,this))),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(L,this),r},E.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(L,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(n("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(N,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var s in e.on("end",(function(){if(n("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(s){n("wrapped data"),r.decoder&&(s=r.decoder.write(s)),r.objectMode&&null==s||(r.objectMode||s&&s.length)&&(t.push(s)||(i=!0,e.pause()))})),e)void 0===this[s]&&"function"==typeof e[s]&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));for(var o=0;o<k.length;o++)e.on(k[o],this.emit.bind(this,k[o]));return this._read=function(t){n("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(742)),h(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=j,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return void 0===d&&(d=r(9430)),d(E,e,t)})},6131:(e,t,r)=>{"use strict";e.exports=u;var i=r(9122).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,s=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,c=r(6970);function l(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}r(8874)(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new n("_transform()"))},u.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},2105:(e,t,r)=>{"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(undefined),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}var n;e.exports=E,E.WritableState=S;var s,o={deprecate:r(3854)},a=r(5711),c=r(4300).Buffer,l=global.Uint8Array||function(){},u=r(9628),h=r(7727).getHighWaterMark,d=r(9122).q,f=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,_=d.ERR_STREAM_NULL_VALUES,b=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,v=u.errorOrDestroy;function k(){}function S(e,t,s){n=n||r(6970),e=e||{},"boolean"!=typeof s&&(s=t instanceof n),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if("function"!=typeof n)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,n){--t.pendingcb,r?(process.nextTick(n,i),process.nextTick(P,e,t),e._writableState.errorEmitted=!0,v(e,i)):(n(i),e._writableState.errorEmitted=!0,v(e,i),P(e,t))}(e,r,i,t,n);else{var s=M(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||T(e,r),i?process.nextTick(C,e,r,s,n):C(e,r,s,n)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function E(e){var t=this instanceof(n=n||r(6970));if(!t&&!s.call(E,this))return new E(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function x(e,t,r,i,n,s,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(n,t.onwrite):e._write(n,s,t.onwrite),t.sync=!1}function C(e,t,r,i){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),P(e,t)}function T(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,s=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)s[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;s.allBuffers=c,x(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,h=r.callback;if(x(e,t,!1,t.objectMode?1:l.length,l,u,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function M(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),P(e,t)}))}function P(e,t){var r=M(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}r(8874)(E,a),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===E&&e&&e._writableState instanceof S}})):s=function(e){return e instanceof this},E.prototype.pipe=function(){v(this,new g)},E.prototype.write=function(e,t,r){var i,n=this._writableState,s=!1,o=!n.objectMode&&(i=e,c.isBuffer(i)||i instanceof l);return o&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=k),n.ending?function(e,t){var r=new b;v(e,r),process.nextTick(t,r)}(this,r):(o||function(e,t,r,i){var n;return null===r?n=new _:"string"==typeof r||t.objectMode||(n=new f("chunk",["string","Buffer"],r)),!n||(v(e,n),process.nextTick(i,n),!1)}(this,n,e,r))&&(n.pendingcb++,s=function(e,t,r,i,n,s){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=t.objectMode?1:i.length;t.length+=a;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,a,i,n,s);return l}(this,n,o,e,t,r)),s},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new p("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,P(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=u.destroy,E.prototype._undestroy=u.undestroy,E.prototype._destroy=function(e,t){t(e)}},742:(e,t,r)=>{"use strict";var i;function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(6180),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[d].read();null!==r&&(e[u]=null,e[o]=null,e[a]=null,t(f(r,!1)))}}function m(e){process.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((n(i={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(f(void 0,!0))}))}));var r,i=this[u];if(i)r=new Promise(function(e,t){return function(r,i){e.then((function(){t[l]?r(f(void 0,!0)):t[h](r,i)}),i)}}(i,this));else{var n=this[d].read();if(null!==n)return Promise.resolve(f(n,!1));r=new Promise(this[h])}return this[u]=r,r}},Symbol.asyncIterator,(function(){return this})),n(i,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(f(void 0,!0))}))}))})),i),g);e.exports=function(e){var t,r=Object.create(y,(n(t={},d,{value:e,writable:!0}),n(t,o,{value:null,writable:!0}),n(t,a,{value:null,writable:!0}),n(t,c,{value:null,writable:!0}),n(t,l,{value:e._readableState.endEmitted,writable:!0}),n(t,h,{value:function(e,t){var i=r[d].read();i?(r[u]=null,r[o]=null,r[a]=null,e(f(i,!1))):(r[o]=e,r[a]=t)},writable:!0}),t));return r[u]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[u]=null,r[o]=null,r[a]=null,t(e)),void(r[c]=e)}var i=r[o];null!==i&&(r[u]=null,r[o]=null,r[a]=null,i(f(void 0,!0))),r[l]=!0})),e.on("readable",m.bind(null,r)),r}},3379:(e,t,r)=>{"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=r(4300).Buffer,a=r(3837).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,i,n=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=n,i=a,o.prototype.copy.call(t,r,i),a+=s.data.length,s=s.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,s=e>n.length?n.length:e;if(s===n.length?i+=n:i+=n.slice(0,e),0==(e-=s)){s===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(s));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,s=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,s),0==(e-=s)){s===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(s));break}++i}return this.length-=i,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&s(t.prototype,r),e}()},9628:e=>{"use strict";function t(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,n){var s=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(n?n(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,e)):process.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!n&&e?s._writableState?s._writableState.errorEmitted?process.nextTick(r,s):(s._writableState.errorEmitted=!0,process.nextTick(t,s,e)):process.nextTick(t,s,e):n?(process.nextTick(r,s),n(e)):process.nextTick(r,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},6180:(e,t,r)=>{"use strict";var i=r(9122).q.ERR_STREAM_PREMATURE_CLOSE;function n(){}e.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}(s||n);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){a=!1,l=!0,o||s.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,h=!0,a||s.call(t)},f=function(e){s.call(t,e)},p=function(){var e;return o&&!h?(t._readableState&&t._readableState.ended||(e=new i),s.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new i),s.call(t,e)):void 0},m=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",p),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",d),t.on("finish",u),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}},9430:(e,t,r)=>{"use strict";function i(e,t,r,i,n,s,o){try{var a=e[s](o),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(i,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var o=e.apply(t,r);function a(e){i(o,n,s,a,c,"next",e)}function c(e){i(o,n,s,a,c,"throw",e)}a(void 0)}))}}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(9122).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){var i;if(t&&"function"==typeof t.next)i=t;else if(t&&t[Symbol.asyncIterator])i=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);i=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objectMode:!0},r)),l=!1;function u(){return h.apply(this,arguments)}function h(){return(h=n((function*(){try{var e=yield i.next(),t=e.value;e.done?c.push(null):c.push(yield t)?u():l=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){l||(l=!0,u())},c}},9495:(e,t,r)=>{"use strict";var i,n=r(9122).q,s=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,n,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;e.on("close",(function(){a=!0})),void 0===i&&(i=r(6180)),i(e,{readable:t,writable:n},(function(e){if(e)return s(e);a=!0,s()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new o("pipe"))}}function l(e){e()}function u(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,n=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,r){var s=r<t.length-1;return c(e,s,r>0,(function(e){i||(i=e),e&&o.forEach(l),s||(o.forEach(l),n(i))}))}));return t.reduce(u)}},7727:(e,t,r)=>{"use strict";var i=r(9122).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,n){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new i(n?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},5711:(e,t,r)=>{e.exports=r(2781)},5408:(e,t,r)=>{var i=r(2781);"disable"===process.env.READABLE_STREAM&&i?(e.exports=i.Readable,Object.assign(e.exports,i),e.exports.Stream=i):((t=e.exports=r(8284)).Stream=i||t,t.Readable=t,t.Writable=r(2105),t.Duplex=r(6970),t.Transform=r(6131),t.PassThrough=r(1142),t.finished=r(6180),t.pipeline=r(9495))},6775:(e,t,r)=>{"use strict";var i=r(7834).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var n=o(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=o(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=o(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},402:(e,t,r)=>{var i=r(4114),n=r(2294);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),y(function(e){return e.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(a).split("\\,").join(c).split("\\.").join(l)}(e),!0).map(h)):[]};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function h(e){return e.split(s).join("\\").split(o).join("{").split(a).join("}").split(c).join(",").split(l).join(".")}function d(e){if(!e)return[""];var t=[],r=n("{","}",e);if(!r)return e.split(",");var i=r.pre,s=r.body,o=r.post,a=i.split(",");a[a.length-1]+="{"+s+"}";var c=d(o);return o.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function f(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function m(e,t){return e<=t}function g(e,t){return e>=t}function y(e,t){var r=[],s=n("{","}",e);if(!s||/\$$/.test(s.pre))return[e];var o,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),l=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),h=c||l,_=s.body.indexOf(",")>=0;if(!h&&!_)return s.post.match(/,.*\}/)?y(e=s.pre+"{"+s.body+a+s.post):[e];if(h)o=s.body.split(/\.\./);else if(1===(o=d(s.body)).length&&1===(o=y(o[0],!1).map(f)).length)return(v=s.post.length?y(s.post,!1):[""]).map((function(e){return s.pre+o[0]+e}));var b,w=s.pre,v=s.post.length?y(s.post,!1):[""];if(h){var k=u(o[0]),S=u(o[1]),E=Math.max(o[0].length,o[1].length),x=3==o.length?Math.abs(u(o[2])):1,C=m;S<k&&(x*=-1,C=g);var T=o.some(p);b=[];for(var M=k;C(M,S);M+=x){var R;if(l)"\\"===(R=String.fromCharCode(M))&&(R="");else if(R=String(M),T){var P=E-R.length;if(P>0){var O=new Array(P+1).join("0");R=M<0?"-"+O+R.slice(1):O+R}}b.push(R)}}else b=i(o,(function(e){return y(e,!1)}));for(var A=0;A<b.length;A++)for(var L=0;L<v.length;L++){var I=w+b[A]+v[L];(!t||h||I)&&r.push(I)}return r}},9666:(e,t,r)=>{var i=r(4300).Buffer,n=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function s(e){if(i.isBuffer(e))return e;var t="function"==typeof i.alloc&&"function"==typeof i.from;if("number"==typeof e)return t?i.alloc(e):new i(e);if("string"==typeof e)return t?i.from(e):new i(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function o(e){var t=s(4);return t.writeInt32BE(e,0),t}function a(e,t){e=s(e),i.isBuffer(t)&&(t=t.readUInt32BE(0));for(var r=-1^~~t,o=0;o<e.length;o++)r=n[255&(r^e[o])]^r>>>8;return-1^r}function c(){return o(a.apply(null,arguments))}"undefined"!=typeof Int32Array&&(n=new Int32Array(n)),c.signed=function(){return a.apply(null,arguments)},c.unsigned=function(){return a.apply(null,arguments)>>>0},e.exports=c},4114:e=>{e.exports=function(e,r){for(var i=[],n=0;n<e.length;n++){var s=r(e[n],n);t(s)?i.push.apply(i,s):i.push(s)}return i};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},7646:(e,t,r)=>{function i(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===i(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===i(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===i(e)},t.isError=function(e){return"[object Error]"===i(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(4300).Buffer.isBuffer},5130:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let i=0,n=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(n=i))})),t.splice(n,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(7123)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},7123:(e,t,r)=>{e.exports=function(e){function t(e){let r,n,s,o=null;function a(...e){if(!a.enabled)return;const i=a,n=Number(new Date),s=n-(r||n);i.diff=s,i.prev=r,i.curr=n,r=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,n)=>{if("%%"===r)return"%";o++;const s=t.formatters[n];if("function"==typeof s){const t=e[o];r=s.call(i,t),e.splice(o,1),o--}return r})),t.formatArgs.call(i,e),(i.log||t.log).apply(i,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=i,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(n!==t.namespaces&&(n=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function i(e,r){const i=t(this.namespace+(void 0===r?":":r)+e);return i.log=this.log,i}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(n),...t.skips.map(n).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),n=i.length;for(r=0;r<n;r++)i[r]&&("-"===(e=i[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,i;for(r=0,i=t.skips.length;r<i;r++)if(t.skips[r].test(e))return!1;for(r=0,i=t.names.length;r<i;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(1378),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},445:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(5130):e.exports=r(8414)},8414:(e,t,r)=>{const i=r(6224),n=r(3837);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let i=0;i<r.length;i++)e.inspectOpts[r[i]]=t.inspectOpts[r[i]]},t.log=function(...e){return process.stderr.write(n.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:i,useColors:n}=this;if(n){const t=this.color,n="[3"+(t<8?t:"8;5;"+t),s=`  ${n};1m${i} [0m`;r[0]=s+r[0].split("\n").join("\n"+s),r.push(n+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+i+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):i.isatty(process.stderr.fd)},t.destroy=n.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(7013);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let i=process.env[t];return i=!!/^(yes|on|true|enabled)$/i.test(i)||!/^(no|off|false|disabled)$/i.test(i)&&("null"===i?null:Number(i)),e[r]=i,e}),{}),e.exports=r(7123)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts)}},8797:(e,t,r)=>{var i=r(9928),n=function(){},s=function(e,t,r){if("function"==typeof t)return s(e,null,t);t||(t={}),r=i(r||n);var o=e._writableState,a=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,u=!1,h=function(){e.writable||d()},d=function(){l=!1,c||r.call(e)},f=function(){c=!1,l||r.call(e)},p=function(t){r.call(e,t?new Error("exited with error code: "+t):null)},m=function(t){r.call(e,t)},g=function(){process.nextTick(y)},y=function(){if(!u)return(!c||a&&a.ended&&!a.destroyed)&&(!l||o&&o.ended&&!o.destroyed)?void 0:r.call(e,new Error("premature close"))},_=function(){e.req.on("finish",d)};return function(e){return e.setHeader&&"function"==typeof e.abort}(e)?(e.on("complete",d),e.on("abort",g),e.req?_():e.on("request",_)):l&&!o&&(e.on("end",h),e.on("close",h)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",p),e.on("end",f),e.on("finish",d),!1!==t.error&&e.on("error",m),e.on("close",g),function(){u=!0,e.removeListener("complete",d),e.removeListener("abort",g),e.removeListener("request",_),e.req&&e.req.removeListener("finish",d),e.removeListener("end",h),e.removeListener("close",h),e.removeListener("finish",d),e.removeListener("exit",p),e.removeListener("end",f),e.removeListener("error",m),e.removeListener("close",g)}};e.exports=s},7691:(e,t,r)=>{const i=r(445)("extract-zip"),{createWriteStream:n,promises:s}=r(7147),o=r(367),a=r(1017),{promisify:c}=r(3837),l=r(2781),u=r(5234),h=c(u.open),d=c(l.pipeline);class f{constructor(e,t){this.zipPath=e,this.opts=t}async extract(){return i("opening",this.zipPath,"with opts",this.opts),this.zipfile=await h(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise(((e,t)=>{this.zipfile.on("error",(e=>{this.canceled=!0,t(e)})),this.zipfile.readEntry(),this.zipfile.on("close",(()=>{this.canceled||(i("zip extraction complete"),e())})),this.zipfile.on("entry",(async e=>{if(this.canceled)return void i("skipping entry",e.fileName,{cancelled:this.canceled});if(i("zipfile entry",e.fileName),e.fileName.startsWith("__MACOSX/"))return void this.zipfile.readEntry();const r=a.dirname(a.join(this.opts.dir,e.fileName));try{await s.mkdir(r,{recursive:!0});const t=await s.realpath(r);if(a.relative(this.opts.dir,t).split(a.sep).includes(".."))throw new Error(`Out of bound path "${t}" found while processing file ${e.fileName}`);await this.extractEntry(e),i("finished processing",e.fileName),this.zipfile.readEntry()}catch(e){this.canceled=!0,this.zipfile.close(),t(e)}}))}))}async extractEntry(e){if(this.canceled)return void i("skipping entry extraction",e.fileName,{cancelled:this.canceled});this.opts.onEntry&&this.opts.onEntry(e,this.zipfile);const t=a.join(this.opts.dir,e.fileName),r=e.externalFileAttributes>>16&65535,l=40960==(61440&r);let u=16384==(61440&r);!u&&e.fileName.endsWith("/")&&(u=!0);const h=e.versionMadeBy>>8;u||(u=0===h&&16===e.externalFileAttributes),i("extracting entry",{filename:e.fileName,isDir:u,isSymlink:l});const f=511&this.getExtractedMode(r,u),p=u?t:a.dirname(t),m={recursive:!0};if(u&&(m.mode=f),i("mkdir",{dir:p,...m}),await s.mkdir(p,m),u)return;i("opening read stream",t);const g=await c(this.zipfile.openReadStream.bind(this.zipfile))(e);if(l){const e=await o(g);i("creating symlink",e,t),await s.symlink(e,t)}else await d(g,n(t,{mode:f}))}getExtractedMode(e,t){let r=e;return 0===r&&(t?(this.opts.defaultDirMode&&(r=parseInt(this.opts.defaultDirMode,10)),r||(r=493)):(this.opts.defaultFileMode&&(r=parseInt(this.opts.defaultFileMode,10)),r||(r=420))),r}}e.exports=async function(e,t){if(i("creating target directory",t.dir),!a.isAbsolute(t.dir))throw new Error("Target directory is expected to be absolute");return await s.mkdir(t.dir,{recursive:!0}),t.dir=await s.realpath(t.dir),new f(e,t).extract()}},2601:(e,t,r)=>{"use strict";const{PassThrough:i}=r(2781);e.exports=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const n="buffer"===r;let s=!1;t?s=!(r||n):r=r||"utf8",n&&(r=null);const o=new i({objectMode:s});r&&o.setEncoding(r);let a=0;const c=[];return o.on("data",(e=>{c.push(e),s?a=c.length:a+=e.length})),o.getBufferedValue=()=>t?c:n?Buffer.concat(c,a):c.join(""),o.getBufferedLength=()=>a,o}},367:(e,t,r)=>{"use strict";const{constants:i}=r(4300),n=r(3171),s=r(2601);class o extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function a(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};const{maxBuffer:r}=t;let a;return await new Promise(((c,l)=>{const u=e=>{e&&a.getBufferedLength()<=i.MAX_LENGTH&&(e.bufferedData=a.getBufferedValue()),l(e)};a=n(e,s(t),(e=>{e?u(e):c()})),a.on("data",(()=>{a.getBufferedLength()>r&&u(new o)}))})),a.getBufferedValue()}e.exports=a,e.exports.default=a,e.exports.buffer=(e,t)=>a(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>a(e,{...t,array:!0}),e.exports.MaxBufferError=o},4906:(e,t,r)=>{var i=r(7147),n=r(3837),s=r(2781),o=s.Readable,a=s.Writable,c=s.PassThrough,l=r(3174),u=r(2361).EventEmitter;function h(e,t){t=t||{},u.call(this),this.fd=e,this.pend=new l,this.pend.max=1,this.refCount=0,this.autoClose=!!t.autoClose}function d(e,t){t=t||{},o.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=t.end,this.pos=this.start,this.destroyed=!1}function f(e,t){t=t||{},a.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=null==t.end?1/0:+t.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}function p(e,t){u.call(this),t=t||{},this.refCount=0,this.buffer=e,this.maxChunkSize=t.maxChunkSize||Number.MAX_SAFE_INTEGER}t.createFromBuffer=function(e,t){return new p(e,t)},t.createFromFd=function(e,t){return new h(e,t)},t.BufferSlicer=p,t.FdSlicer=h,n.inherits(h,u),h.prototype.read=function(e,t,r,n,s){var o=this;o.pend.go((function(a){i.read(o.fd,e,t,r,n,(function(e,t,r){a(),s(e,t,r)}))}))},h.prototype.write=function(e,t,r,n,s){var o=this;o.pend.go((function(a){i.write(o.fd,e,t,r,n,(function(e,t,r){a(),s(e,t,r)}))}))},h.prototype.createReadStream=function(e){return new d(this,e)},h.prototype.createWriteStream=function(e){return new f(this,e)},h.prototype.ref=function(){this.refCount+=1},h.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.autoClose&&i.close(e.fd,(function(t){t?e.emit("error",t):e.emit("close")}))}},n.inherits(d,o),d.prototype._read=function(e){var t=this;if(!t.destroyed){var r=Math.min(t._readableState.highWaterMark,e);if(null!=t.endOffset&&(r=Math.min(r,t.endOffset-t.pos)),r<=0)return t.destroyed=!0,t.push(null),void t.context.unref();t.context.pend.go((function(e){if(t.destroyed)return e();var n=new Buffer(r);i.read(t.context.fd,n,0,r,t.pos,(function(r,i){r?t.destroy(r):0===i?(t.destroyed=!0,t.push(null),t.context.unref()):(t.pos+=i,t.push(n.slice(0,i))),e()}))}))}},d.prototype.destroy=function(e){this.destroyed||(e=e||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",e),this.context.unref())},n.inherits(f,a),f.prototype._write=function(e,t,r){var n=this;if(!n.destroyed){if(n.pos+e.length>n.endOffset){var s=new Error("maximum file length exceeded");return s.code="ETOOBIG",n.destroy(),void r(s)}n.context.pend.go((function(t){if(n.destroyed)return t();i.write(n.context.fd,e,0,e.length,n.pos,(function(e,i){e?(n.destroy(),t(),r(e)):(n.bytesWritten+=i,n.pos+=i,n.emit("progress"),t(),r())}))}))}},f.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())},n.inherits(p,u),p.prototype.read=function(e,t,r,i,n){var s=i+r,o=s-this.buffer.length,a=o>0?o:r;this.buffer.copy(e,t,i,s),setImmediate((function(){n(null,a)}))},p.prototype.write=function(e,t,r,i,n){e.copy(this.buffer,i,t,t+r),setImmediate((function(){n(null,r,e)}))},p.prototype.createReadStream=function(e){var t=new c(e=e||{});t.destroyed=!1,t.start=e.start||0,t.endOffset=e.end,t.pos=t.endOffset||this.buffer.length;for(var r=this.buffer.slice(t.start,t.pos),i=0;;){var n=i+this.maxChunkSize;if(n>=r.length){i<r.length&&t.write(r.slice(i,r.length));break}t.write(r.slice(i,n)),i=n}return t.end(),t.destroy=function(){t.destroyed=!0},t},p.prototype.createWriteStream=function(e){var t=this,r=new a(e=e||{});return r.start=e.start||0,r.endOffset=null==e.end?this.buffer.length:+e.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(e,i,n){if(!r.destroyed){var s=r.pos+e.length;if(s>r.endOffset){var o=new Error("maximum file length exceeded");return o.code="ETOOBIG",r.destroyed=!0,void n(o)}e.copy(t.buffer,r.pos,0,e.length),r.bytesWritten+=e.length,r.pos=s,r.emit("progress"),n()}},r.destroy=function(){r.destroyed=!0},r},p.prototype.ref=function(){this.refCount+=1},p.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")}},8526:(e,t,r)=>{e.exports=r(7147).constants||r(2057)},1019:(e,t,r)=>{e.exports=u,u.realpath=u,u.sync=h,u.realpathSync=h,u.monkeypatch=function(){i.realpath=u,i.realpathSync=h},u.unmonkeypatch=function(){i.realpath=n,i.realpathSync=s};var i=r(7147),n=i.realpath,s=i.realpathSync,o=process.version,a=/^v[0-5]\./.test(o),c=r(103);function l(e){return e&&"realpath"===e.syscall&&("ELOOP"===e.code||"ENOMEM"===e.code||"ENAMETOOLONG"===e.code)}function u(e,t,r){if(a)return n(e,t,r);"function"==typeof t&&(r=t,t=null),n(e,t,(function(i,n){l(i)?c.realpath(e,t,r):r(i,n)}))}function h(e,t){if(a)return s(e,t);try{return s(e,t)}catch(r){if(l(r))return c.realpathSync(e,t);throw r}}},103:(e,t,r)=>{var i=r(1017),n="win32"===process.platform,s=r(7147),o=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);if(i.normalize,n)var a=/(.*?)(?:[\/\\]+|$)/g;else a=/(.*?)(?:[\/]+|$)/g;if(n)var c=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else c=/^[\/]*/;t.realpathSync=function(e,t){if(e=i.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return t[e];var r,o,l,u,h=e,d={},f={};function p(){var t=c.exec(e);r=t[0].length,o=t[0],l=t[0],u="",n&&!f[l]&&(s.lstatSync(l),f[l]=!0)}for(p();r<e.length;){a.lastIndex=r;var m=a.exec(e);if(u=o,o+=m[0],l=u+m[1],r=a.lastIndex,!(f[l]||t&&t[l]===l)){var g;if(t&&Object.prototype.hasOwnProperty.call(t,l))g=t[l];else{var y=s.lstatSync(l);if(!y.isSymbolicLink()){f[l]=!0,t&&(t[l]=l);continue}var _=null;if(!n){var b=y.dev.toString(32)+":"+y.ino.toString(32);d.hasOwnProperty(b)&&(_=d[b])}null===_&&(s.statSync(l),_=s.readlinkSync(l)),g=i.resolve(u,_),t&&(t[l]=g),n||(d[b]=_)}e=i.resolve(g,e.slice(r)),p()}}return t&&(t[h]=e),e},t.realpath=function(e,t,r){if("function"!=typeof r&&(r=function(e){return"function"==typeof e?e:function(){var e;if(o){var t=new Error;e=function(e){e&&(t.message=e.message,r(e=t))}}else e=r;return e;function r(e){if(e){if(process.throwDeprecation)throw e;if(!process.noDeprecation){var t="fs: missing callback "+(e.stack||e.message);process.traceDeprecation?console.trace(t):console.error(t)}}}}()}(t),t=null),e=i.resolve(e),t&&Object.prototype.hasOwnProperty.call(t,e))return process.nextTick(r.bind(null,null,t[e]));var l,u,h,d,f=e,p={},m={};function g(){var t=c.exec(e);l=t[0].length,u=t[0],h=t[0],d="",n&&!m[h]?s.lstat(h,(function(e){if(e)return r(e);m[h]=!0,y()})):process.nextTick(y)}function y(){if(l>=e.length)return t&&(t[f]=e),r(null,e);a.lastIndex=l;var i=a.exec(e);return d=u,u+=i[0],h=d+i[1],l=a.lastIndex,m[h]||t&&t[h]===h?process.nextTick(y):t&&Object.prototype.hasOwnProperty.call(t,h)?w(t[h]):s.lstat(h,_)}function _(e,i){if(e)return r(e);if(!i.isSymbolicLink())return m[h]=!0,t&&(t[h]=h),process.nextTick(y);if(!n){var o=i.dev.toString(32)+":"+i.ino.toString(32);if(p.hasOwnProperty(o))return b(null,p[o],h)}s.stat(h,(function(e){if(e)return r(e);s.readlink(h,(function(e,t){n||(p[o]=t),b(e,t)}))}))}function b(e,n,s){if(e)return r(e);var o=i.resolve(d,n);t&&(t[s]=o),w(o)}function w(t){e=i.resolve(t,e.slice(l)),g()}g()}},207:(e,t,r)=>{function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.setopts=function(e,t,r){if(r||(r={}),r.matchBase&&-1===t.indexOf("/")){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=!1!==r.strict,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||n,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),function(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(u))}(e,r),e.changedCwd=!1;var o=process.cwd();i(r,"cwd")?(e.cwd=s.resolve(r.cwd),e.changedCwd=e.cwd!==o):e.cwd=o,e.root=r.root||s.resolve(e.cwd,"/"),e.root=s.resolve(e.root),"win32"===process.platform&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=a(e.cwd)?e.cwd:h(e,e.cwd),"win32"===process.platform&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new c(t,r),e.options=e.minimatch.options},t.ownProp=i,t.makeAbs=h,t.finish=function(e){for(var t=e.nounique,r=t?[]:Object.create(null),i=0,n=e.matches.length;i<n;i++){var s=e.matches[i];if(s&&0!==Object.keys(s).length){var o=Object.keys(s);t?r.push.apply(r,o):o.forEach((function(e){r[e]=!0}))}else if(e.nonull){var a=e.minimatch.globSet[i];t?r.push(a):r[a]=!0}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(l)),e.mark){for(i=0;i<r.length;i++)r[i]=e._mark(r[i]);e.nodir&&(r=r.filter((function(t){var r=!/\/$/.test(t),i=e.cache[t]||e.cache[h(e,t)];return r&&i&&(r="DIR"!==i&&!Array.isArray(i)),r})))}e.ignore.length&&(r=r.filter((function(t){return!d(e,t)}))),e.found=r},t.mark=function(e,t){var r=h(e,t),i=e.cache[r],n=t;if(i){var s="DIR"===i||Array.isArray(i),o="/"===t.slice(-1);if(s&&!o?n+="/":!s&&o&&(n=n.slice(0,-1)),n!==t){var a=h(e,n);e.statCache[a]=e.statCache[r],e.cache[a]=e.cache[r]}}return n},t.isIgnored=d,t.childrenIgnored=function(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return!(!e.gmatcher||!e.gmatcher.match(t))}))};var n=r(7147),s=r(1017),o=r(7339),a=r(691),c=o.Minimatch;function l(e,t){return e.localeCompare(t,"en")}function u(e){var t=null;if("/**"===e.slice(-3)){var r=e.replace(/(\/\*\*)+$/,"");t=new c(r,{dot:!0})}return{matcher:new c(e,{dot:!0}),gmatcher:t}}function h(e,t){var r=t;return r="/"===t.charAt(0)?s.join(e.root,t):a(t)||""===t?t:e.changedCwd?s.resolve(e.cwd,t):s.resolve(t),"win32"===process.platform&&(r=r.replace(/\\/g,"/")),r}function d(e,t){return!!e.ignore.length&&e.ignore.some((function(e){return e.matcher.match(t)||!(!e.gmatcher||!e.gmatcher.match(t))}))}},9086:(e,t,r)=>{e.exports=_;var i=r(1019),n=r(7339),s=(n.Minimatch,r(8874)),o=r(2361).EventEmitter,a=r(1017),c=r(9491),l=r(691),u=r(4278),h=r(207),d=h.setopts,f=h.ownProp,p=r(4522),m=(r(3837),h.childrenIgnored),g=h.isIgnored,y=r(9928);function _(e,t,r){if("function"==typeof t&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return u(e,t)}return new w(e,t,r)}_.sync=u;var b=_.GlobSync=u.GlobSync;function w(e,t,r){if("function"==typeof t&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new b(e,t)}if(!(this instanceof w))return new w(e,t,r);d(this,e,t),this._didRealPath=!1;var i=this.minimatch.set.length;this.matches=new Array(i),"function"==typeof r&&(r=y(r),this.on("error",r),this.on("end",(function(e){r(null,e)})));var n=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===i)return o();for(var s=0;s<i;s++)this._process(this.minimatch.set[s],s,!1,o);function o(){--n._processing,n._processing<=0&&n._finish()}}_.glob=_,_.hasMagic=function(e,t){var r=function(e,t){if(null===t||"object"!=typeof t)return e;for(var r=Object.keys(t),i=r.length;i--;)e[r[i]]=t[r[i]];return e}({},t);r.noprocess=!0;var i=new w(e,r).minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var n=0;n<i[0].length;n++)if("string"!=typeof i[0][n])return!0;return!1},_.Glob=w,s(w,o),w.prototype._finish=function(){if(c(this instanceof w),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();h.finish(this),this.emit("end",this.found)}},w.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var e=this.matches.length;if(0===e)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,i)}function i(){0==--e&&t._finish()}},w.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),s=this,o=n.length;if(0===o)return t();var a=this.matches[e]=Object.create(null);n.forEach((function(r,n){r=s._makeAbs(r),i.realpath(r,s.realpathCache,(function(i,n){i?"stat"===i.syscall?a[r]=!0:s.emit("error",i):a[n]=!0,0==--o&&(s.matches[e]=a,t())}))}))},w.prototype._mark=function(e){return h.mark(this,e)},w.prototype._makeAbs=function(e){return h.makeAbs(this,e)},w.prototype.abort=function(){this.aborted=!0,this.emit("abort")},w.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},w.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var i=this._processQueue.slice(0);for(this._processQueue.length=0,t=0;t<i.length;t++){var n=i[t];this._processing--,this._process(n[0],n[1],n[2],n[3])}}}},w.prototype._process=function(e,t,r,i){if(c(this instanceof w),c("function"==typeof i),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([e,t,r,i]);else{for(var s,o=0;"string"==typeof e[o];)o++;switch(o){case e.length:return void this._processSimple(e.join("/"),t,i);case 0:s=null;break;default:s=e.slice(0,o).join("/")}var a,u=e.slice(o);null===s?a=".":l(s)||l(e.join("/"))?(s&&l(s)||(s="/"+s),a=s):a=s;var h=this._makeAbs(a);if(m(this,a))return i();u[0]===n.GLOBSTAR?this._processGlobStar(s,a,h,u,t,r,i):this._processReaddir(s,a,h,u,t,r,i)}},w.prototype._processReaddir=function(e,t,r,i,n,s,o){var a=this;this._readdir(r,s,(function(c,l){return a._processReaddir2(e,t,r,i,n,s,l,o)}))},w.prototype._processReaddir2=function(e,t,r,i,n,s,o,c){if(!o)return c();for(var l=i[0],u=!!this.minimatch.negate,h=l._glob,d=this.dot||"."===h.charAt(0),f=[],p=0;p<o.length;p++)("."!==(g=o[p]).charAt(0)||d)&&(u&&!e?!g.match(l):g.match(l))&&f.push(g);var m=f.length;if(0===m)return c();if(1===i.length&&!this.mark&&!this.stat){for(this.matches[n]||(this.matches[n]=Object.create(null)),p=0;p<m;p++){var g=f[p];e&&(g="/"!==e?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=a.join(this.root,g)),this._emitMatch(n,g)}return c()}for(i.shift(),p=0;p<m;p++)g=f[p],e&&(g="/"!==e?e+"/"+g:e+g),this._process([g].concat(i),n,s,c);c()},w.prototype._emitMatch=function(e,t){if(!this.aborted&&!g(this,t))if(this.paused)this._emitQueue.push([e,t]);else{var r=l(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var i=this.cache[r];if("DIR"===i||Array.isArray(i))return}this.matches[e][t]=!0;var n=this.statCache[r];n&&this.emit("stat",t,n),this.emit("match",t)}}},w.prototype._readdirInGlobStar=function(e,t){if(!this.aborted){if(this.follow)return this._readdir(e,!1,t);var r=this,i=p("lstat\0"+e,(function(i,n){if(i&&"ENOENT"===i.code)return t();var s=n&&n.isSymbolicLink();r.symlinks[e]=s,s||!n||n.isDirectory()?r._readdir(e,!1,t):(r.cache[e]="FILE",t())}));i&&r.fs.lstat(e,i)}},w.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=p("readdir\0"+e+"\0"+t,r))){if(t&&!f(this.symlinks,e))return this._readdirInGlobStar(e,r);if(f(this.cache,e)){var i=this.cache[e];if(!i||"FILE"===i)return r();if(Array.isArray(i))return r(null,i)}this.fs.readdir(e,function(e,t,r){return function(i,n){i?e._readdirError(t,i,r):e._readdirEntries(t,n,r)}}(this,e,r))}},w.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var i=0;i<t.length;i++){var n=t[i];n="/"===e?e+n:e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,r(null,t)}},w.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var i=this._makeAbs(e);if(this.cache[i]="FILE",i===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);n.path=this.cwd,n.code=t.code,this.emit("error",n),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t)}return r()}},w.prototype._processGlobStar=function(e,t,r,i,n,s,o){var a=this;this._readdir(r,s,(function(c,l){a._processGlobStar2(e,t,r,i,n,s,l,o)}))},w.prototype._processGlobStar2=function(e,t,r,i,n,s,o,a){if(!o)return a();var c=i.slice(1),l=e?[e]:[],u=l.concat(c);this._process(u,n,!1,a);var h=this.symlinks[r],d=o.length;if(h&&s)return a();for(var f=0;f<d;f++)if("."!==o[f].charAt(0)||this.dot){var p=l.concat(o[f],c);this._process(p,n,!0,a);var m=l.concat(o[f],i);this._process(m,n,!0,a)}a()},w.prototype._processSimple=function(e,t,r){var i=this;this._stat(e,(function(n,s){i._processSimple2(e,t,n,s,r)}))},w.prototype._processSimple2=function(e,t,r,i,n){if(this.matches[t]||(this.matches[t]=Object.create(null)),!i)return n();if(e&&l(e)&&!this.nomount){var s=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=a.join(this.root,e):(e=a.resolve(this.root,e),s&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),n()},w.prototype._stat=function(e,t){var r=this._makeAbs(e),i="/"===e.slice(-1);if(e.length>this.maxLength)return t();if(!this.stat&&f(this.cache,r)){var n=this.cache[r];if(Array.isArray(n)&&(n="DIR"),!i||"DIR"===n)return t(null,n);if(i&&"FILE"===n)return t()}var s=this.statCache[r];if(void 0!==s){if(!1===s)return t(null,s);var o=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===o?t():t(null,o,s)}var a=this,c=p("stat\0"+r,(function(i,n){if(n&&n.isSymbolicLink())return a.fs.stat(r,(function(i,s){i?a._stat2(e,r,null,n,t):a._stat2(e,r,i,s,t)}));a._stat2(e,r,i,n,t)}));c&&a.fs.lstat(r,c)},w.prototype._stat2=function(e,t,r,i,n){if(r&&("ENOENT"===r.code||"ENOTDIR"===r.code))return this.statCache[t]=!1,n();var s="/"===e.slice(-1);if(this.statCache[t]=i,"/"===t.slice(-1)&&i&&!i.isDirectory())return n(null,!1,i);var o=!0;return i&&(o=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||o,s&&"FILE"===o?n():n(null,o,i)}},4278:(e,t,r)=>{e.exports=f,f.GlobSync=p;var i=r(1019),n=r(7339),s=(n.Minimatch,r(9086).Glob,r(3837),r(1017)),o=r(9491),a=r(691),c=r(207),l=c.setopts,u=c.ownProp,h=c.childrenIgnored,d=c.isIgnored;function f(e,t){if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new p(e,t).found}function p(e,t){if(!e)throw new Error("must provide pattern");if("function"==typeof t||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof p))return new p(e,t);if(l(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var i=0;i<r;i++)this._process(this.minimatch.set[i],i,!1);this._finish()}p.prototype._finish=function(){if(o(this instanceof p),this.realpath){var e=this;this.matches.forEach((function(t,r){var n=e.matches[r]=Object.create(null);for(var s in t)try{s=e._makeAbs(s),n[i.realpathSync(s,e.realpathCache)]=!0}catch(t){if("stat"!==t.syscall)throw t;n[e._makeAbs(s)]=!0}}))}c.finish(this)},p.prototype._process=function(e,t,r){o(this instanceof p);for(var i,s=0;"string"==typeof e[s];)s++;switch(s){case e.length:return void this._processSimple(e.join("/"),t);case 0:i=null;break;default:i=e.slice(0,s).join("/")}var c,l=e.slice(s);null===i?c=".":a(i)||a(e.join("/"))?(i&&a(i)||(i="/"+i),c=i):c=i;var u=this._makeAbs(c);h(this,c)||(l[0]===n.GLOBSTAR?this._processGlobStar(i,c,u,l,t,r):this._processReaddir(i,c,u,l,t,r))},p.prototype._processReaddir=function(e,t,r,i,n,o){var a=this._readdir(r,o);if(a){for(var c=i[0],l=!!this.minimatch.negate,u=c._glob,h=this.dot||"."===u.charAt(0),d=[],f=0;f<a.length;f++)("."!==(g=a[f]).charAt(0)||h)&&(l&&!e?!g.match(c):g.match(c))&&d.push(g);var p=d.length;if(0!==p)if(1!==i.length||this.mark||this.stat)for(i.shift(),f=0;f<p;f++){var m;g=d[f],m=e?[e,g]:[g],this._process(m.concat(i),n,o)}else{this.matches[n]||(this.matches[n]=Object.create(null));for(f=0;f<p;f++){var g=d[f];e&&(g="/"!==e.slice(-1)?e+"/"+g:e+g),"/"!==g.charAt(0)||this.nomount||(g=s.join(this.root,g)),this._emitMatch(n,g)}}}},p.prototype._emitMatch=function(e,t){if(!d(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var i=this.cache[r];if("DIR"===i||Array.isArray(i))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}},p.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r;try{r=this.fs.lstatSync(e)}catch(e){if("ENOENT"===e.code)return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,i||!r||r.isDirectory()?t=this._readdir(e,!1):this.cache[e]="FILE",t},p.prototype._readdir=function(e,t){if(t&&!u(this.symlinks,e))return this._readdirInGlobStar(e);if(u(this.cache,e)){var r=this.cache[e];if(!r||"FILE"===r)return null;if(Array.isArray(r))return r}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(t){return this._readdirError(e,t),null}},p.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var i=t[r];i="/"===e?e+i:e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,t},p.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);throw i.path=this.cwd,i.code=t.code,i}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t)}},p.prototype._processGlobStar=function(e,t,r,i,n,s){var o=this._readdir(r,s);if(o){var a=i.slice(1),c=e?[e]:[],l=c.concat(a);this._process(l,n,!1);var u=o.length;if(!this.symlinks[r]||!s)for(var h=0;h<u;h++)if("."!==o[h].charAt(0)||this.dot){var d=c.concat(o[h],a);this._process(d,n,!0);var f=c.concat(o[h],i);this._process(f,n,!0)}}},p.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),r){if(e&&a(e)&&!this.nomount){var i=/[\/\\]$/.test(e);"/"===e.charAt(0)?e=s.join(this.root,e):(e=s.resolve(this.root,e),i&&(e+="/"))}"win32"===process.platform&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}},p.prototype._stat=function(e){var t=this._makeAbs(e),r="/"===e.slice(-1);if(e.length>this.maxLength)return!1;if(!this.stat&&u(this.cache,t)){var i=this.cache[t];if(Array.isArray(i)&&(i="DIR"),!r||"DIR"===i)return i;if(r&&"FILE"===i)return!1}var n=this.statCache[t];if(!n){var s;try{s=this.fs.lstatSync(t)}catch(e){if(e&&("ENOENT"===e.code||"ENOTDIR"===e.code))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{n=this.fs.statSync(t)}catch(e){n=s}else n=s}return this.statCache[t]=n,i=!0,n&&(i=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||i,(!r||"FILE"!==i)&&i},p.prototype._mark=function(e){return c.mark(this,e)},p.prototype._makeAbs=function(e){return c.makeAbs(this,e)}},108:e=>{"use strict";var t,r,i=global.MutationObserver||global.WebKitMutationObserver;if(process.browser)if(i){var n=0,s=new i(l),o=global.document.createTextNode("");s.observe(o,{characterData:!0}),t=function(){o.data=n=++n%2}}else if(global.setImmediate||void 0===global.MessageChannel)t="document"in global&&"onreadystatechange"in global.document.createElement("script")?function(){var e=global.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},global.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var a=new global.MessageChannel;a.port1.onmessage=l,t=function(){a.port2.postMessage(0)}}else t=function(){process.nextTick(l)};var c=[];function l(){var e,t;r=!0;for(var i=c.length;i;){for(t=c,c=[],e=-1;++e<i;)t[e]();i=c.length}r=!1}e.exports=function(e){1!==c.push(e)||r||t()}},4522:(e,t,r)=>{var i=r(8892),n=Object.create(null),s=r(9928);function o(e){for(var t=e.length,r=[],i=0;i<t;i++)r[i]=e[i];return r}e.exports=i((function(e,t){return n[e]?(n[e].push(t),null):(n[e]=[t],function(e){return s((function t(){var r=n[e],i=r.length,s=o(arguments);try{for(var a=0;a<i;a++)r[a].apply(null,s)}finally{r.length>i?(r.splice(0,i),process.nextTick((function(){t.apply(null,s)}))):delete n[e]}}))}(e))}))},8874:(e,t,r)=>{try{var i=r(3837);if("function"!=typeof i.inherits)throw"";e.exports=i.inherits}catch(t){e.exports=r(1285)}},1285:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},7906:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2727:(e,t,r)=>{"use strict";var i=r(8754),n=r(357),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.encode=function(e){for(var t,r,n,o,a,c,l,u=[],h=0,d=e.length,f=d,p="string"!==i.getTypeOf(e);h<e.length;)f=d-h,p?(t=e[h++],r=h<d?e[h++]:0,n=h<d?e[h++]:0):(t=e.charCodeAt(h++),r=h<d?e.charCodeAt(h++):0,n=h<d?e.charCodeAt(h++):0),o=t>>2,a=(3&t)<<4|r>>4,c=f>1?(15&r)<<2|n>>6:64,l=f>2?63&n:64,u.push(s.charAt(o)+s.charAt(a)+s.charAt(c)+s.charAt(l));return u.join("")},t.decode=function(e){var t,r,i,o,a,c,l=0,u=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&f--,e.charAt(e.length-2)===s.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=n.uint8array?new Uint8Array(0|f):new Array(0|f);l<e.length;)t=s.indexOf(e.charAt(l++))<<2|(o=s.indexOf(e.charAt(l++)))>>4,r=(15&o)<<4|(a=s.indexOf(e.charAt(l++)))>>2,i=(3&a)<<6|(c=s.indexOf(e.charAt(l++))),d[u++]=t,64!==a&&(d[u++]=r),64!==c&&(d[u++]=i);return d}},9556:(e,t,r)=>{"use strict";var i=r(4064),n=r(1915),s=r(8028),o=r(2493);function a(e,t,r,i,n){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=i,this.compressedContent=n}a.prototype={getContentWorker:function(){var e=new n(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new n(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,r){return e.pipe(new s).pipe(new o("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},e.exports=a},4223:(e,t,r)=>{"use strict";var i=r(9592);t.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},t.DEFLATE=r(5373)},2060:(e,t,r)=>{"use strict";var i=r(8754),n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,r,i){var s=n,o=0+r;e^=-1;for(var a=0;a<o;a++)e=e>>>8^s[255&(e^t[a])];return-1^e}(0|t,e,e.length):function(e,t,r,i){var s=n,o=0+r;e^=-1;for(var a=0;a<o;a++)e=e>>>8^s[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length):0}},1160:(e,t)=>{"use strict";t.base64=!1,t.binary=!1,t.dir=!1,t.createFolders=!0,t.date=null,t.compression=null,t.compressionOptions=null,t.comment=null,t.unixPermissions=null,t.dosPermissions=null},4064:(e,t,r)=>{"use strict";var i;i="undefined"!=typeof Promise?Promise:r(4774),e.exports={Promise:i}},5373:(e,t,r)=>{"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,n=r(2845),s=r(8754),o=r(9592),a=i?"uint8array":"array";function c(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}t.magic="\b\0",s.inherits(c,o),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(a,e.data),!1)},c.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new n[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},t.compressWorker=function(e){return new c("Deflate",e)},t.uncompressWorker=function(){return new c("Inflate",{})}},8533:(e,t,r)=>{"use strict";var i=r(8754),n=r(9592),s=r(3385),o=r(2060),a=r(8944),c=function(e,t){var r,i="";for(r=0;r<t;r++)i+=String.fromCharCode(255&e),e>>>=8;return i},l=function(e,t,r,n,l,u){var h,d,f=e.file,p=e.compression,m=u!==s.utf8encode,g=i.transformTo("string",u(f.name)),y=i.transformTo("string",s.utf8encode(f.name)),_=f.comment,b=i.transformTo("string",u(_)),w=i.transformTo("string",s.utf8encode(_)),v=y.length!==f.name.length,k=w.length!==_.length,S="",E="",x="",C=f.dir,T=f.date,M={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(M.crc32=e.crc32,M.compressedSize=e.compressedSize,M.uncompressedSize=e.uncompressedSize);var R=0;t&&(R|=8),m||!v&&!k||(R|=2048);var P,O,A=0,L=0;C&&(A|=16),"UNIX"===l?(L=798,A|=(O=P=f.unixPermissions,P||(O=C?16893:33204),(65535&O)<<16)):(L=20,A|=63&(f.dosPermissions||0)),h=T.getUTCHours(),h<<=6,h|=T.getUTCMinutes(),h<<=5,h|=T.getUTCSeconds()/2,d=T.getUTCFullYear()-1980,d<<=4,d|=T.getUTCMonth()+1,d<<=5,d|=T.getUTCDate(),v&&(E=c(1,1)+c(o(g),4)+y,S+="up"+c(E.length,2)+E),k&&(x=c(1,1)+c(o(b),4)+w,S+="uc"+c(x.length,2)+x);var I="";return I+="\n\0",I+=c(R,2),I+=p.magic,I+=c(h,2),I+=c(d,2),I+=c(M.crc32,4),I+=c(M.compressedSize,4),I+=c(M.uncompressedSize,4),I+=c(g.length,2),I+=c(S.length,2),{fileRecord:a.LOCAL_FILE_HEADER+I+g+S,dirRecord:a.CENTRAL_FILE_HEADER+c(L,2)+I+c(b.length,2)+"\0\0\0\0"+c(A,4)+c(n,4)+g+S+b}},u=function(e){return a.DATA_DESCRIPTOR+c(e.crc32,4)+c(e.compressedSize,4)+c(e.uncompressedSize,4)};function h(e,t,r,i){n.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(h,n),h.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,n.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-i-1))/r:100}}))},h.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=l(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=l(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:u(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,n=function(e,t,r,n,s){var o=i.transformTo("string",s(n));return a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(e,2)+c(e,2)+c(t,4)+c(r,4)+c(o.length,2)+o}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},h.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(e){var t=this._sources;if(!n.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},h.prototype.lock=function(){n.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},e.exports=h},3098:(e,t,r)=>{"use strict";var i=r(4223),n=r(8533);t.generateWorker=function(e,t,r){var s=new n(t.streamFiles,r,t.platform,t.encodeFileName),o=0;try{e.forEach((function(e,r){o++;var n=function(e,t){var r=e||t,n=i[r];if(!n)throw new Error(r+" is not a valid compression method !");return n}(r.options.compression,t.compression),a=r.options.compressionOptions||t.compressionOptions||{},c=r.dir,l=r.date;r._compressWorker(n,a).withStreamInfo("file",{name:e,dir:c,date:l,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(s)})),s.entriesCount=o}catch(e){s.error(e)}return s}},2420:(e,t,r)=>{"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}i.prototype=r(1403),i.prototype.loadAsync=r(4816),i.support=r(357),i.defaults=r(1160),i.version="3.10.0",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=r(4064),e.exports=i},4816:(e,t,r)=>{"use strict";var i=r(8754),n=r(4064),s=r(3385),o=r(7349),a=r(8028),c=r(8088);function l(e){return new n.Promise((function(t,r){var i=e.decompressed.getContentWorker().pipe(new a);i.on("error",(function(e){r(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}e.exports=function(e,t){var r=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),c.isNode&&c.isStream(e)?n.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var r=new o(t);return r.load(e),r})).then((function(e){var r=[n.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var s=0;s<i.length;s++)r.push(l(i[s]));return n.Promise.all(r)})).then((function(e){for(var n=e.shift(),s=n.files,o=0;o<s.length;o++){var a=s[o],c=a.fileNameStr,l=i.resolve(a.fileNameStr);r.file(l,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders}),a.dir||(r.file(l).unsafeOriginalName=c)}return n.zipComment.length&&(r.comment=n.zipComment),r}))}},5412:(e,t,r)=>{"use strict";var i=r(8754),n=r(9592);function s(e,t){n.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(s,n),s.prototype._bindStream=function(e){var t=this;this._stream=e,e.pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},s.prototype.pause=function(){return!!n.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=s},5889:(e,t,r)=>{"use strict";var i=r(1258).Readable;function n(e,t,r){i.call(this,t),this._helper=e;var n=this;e.on("data",(function(e,t){n.push(e)||n._helper.pause(),r&&r(t)})).on("error",(function(e){n.emit("error",e)})).on("end",(function(){n.push(null)}))}r(8754).inherits(n,i),n.prototype._read=function(){this._helper.resume()},e.exports=n},8088:e=>{"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},1403:(e,t,r)=>{"use strict";var i=r(3385),n=r(8754),s=r(9592),o=r(8224),a=r(1160),c=r(9556),l=r(2457),u=r(3098),h=r(8088),d=r(5412),f=function(e,t,r){var i,o=n.getTypeOf(t),u=n.extend(r||{},a);u.date=u.date||new Date,null!==u.compression&&(u.compression=u.compression.toUpperCase()),"string"==typeof u.unixPermissions&&(u.unixPermissions=parseInt(u.unixPermissions,8)),u.unixPermissions&&16384&u.unixPermissions&&(u.dir=!0),u.dosPermissions&&16&u.dosPermissions&&(u.dir=!0),u.dir&&(e=m(e)),u.createFolders&&(i=p(e))&&g.call(this,i,!0);var f="string"===o&&!1===u.binary&&!1===u.base64;r&&void 0!==r.binary||(u.binary=!f),(t instanceof c&&0===t.uncompressedSize||u.dir||!t||0===t.length)&&(u.base64=!1,u.binary=!0,t="",u.compression="STORE",o="string");var y;y=t instanceof c||t instanceof s?t:h.isNode&&h.isStream(t)?new d(e,t):n.prepareContent(e,t,u.binary,u.optimizedBinaryString,u.base64);var _=new l(e,y,u);this.files[e]=_},p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return t>0?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:a.createFolders,e=m(e),this.files[e]||f.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function y(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,i;for(t in this.files)i=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,i)},filter:function(e){var t=[];return this.forEach((function(r,i){e(r,i)&&t.push(i)})),t},file:function(e,t,r){if(1===arguments.length){if(y(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var n=this.files[this.root+e];return n&&!n.dir?n:null}return e=this.root+e,f.call(this,e,t,r),this},folder:function(e){if(!e)return this;if(y(e))return this.filter((function(t,r){return r.dir&&e.test(t)}));var t=this.root+e,r=g.call(this,t),i=this.clone();return i.root=r.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter((function(t,r){return r.name.slice(0,e.length)===e})),i=0;i<r.length;i++)delete this.files[r[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=n.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");n.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var a=r.comment||this.comment||"";t=u.generateWorker(this,r,a)}catch(e){(t=new s("error")).error(e)}return new o(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};e.exports=_},7239:(e,t,r)=>{"use strict";var i=r(6215);function n(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}r(8754).inherits(n,i),n.prototype.byteAt=function(e){return this.data[this.zero+e]},n.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),n=e.charCodeAt(3),s=this.length-4;s>=0;--s)if(this.data[s]===t&&this.data[s+1]===r&&this.data[s+2]===i&&this.data[s+3]===n)return s-this.zero;return-1},n.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),i=e.charCodeAt(2),n=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&r===s[1]&&i===s[2]&&n===s[3]},n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=n},6215:(e,t,r)=>{"use strict";var i=r(8754);function n(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}n.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},e.exports=n},6983:(e,t,r)=>{"use strict";var i=r(7021);function n(e){i.call(this,e)}r(8754).inherits(n,i),n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=n},9399:(e,t,r)=>{"use strict";var i=r(6215);function n(e){i.call(this,e)}r(8754).inherits(n,i),n.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},n.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},n.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},n.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=n},7021:(e,t,r)=>{"use strict";var i=r(7239);function n(e){i.call(this,e)}r(8754).inherits(n,i),n.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},e.exports=n},757:(e,t,r)=>{"use strict";var i=r(8754),n=r(357),s=r(7239),o=r(9399),a=r(6983),c=r(7021);e.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||n.uint8array?"nodebuffer"===t?new a(e):n.uint8array?new c(i.transformTo("uint8array",e)):new s(i.transformTo("array",e)):new o(e)}},8944:(e,t)=>{"use strict";t.LOCAL_FILE_HEADER="PK",t.CENTRAL_FILE_HEADER="PK",t.CENTRAL_DIRECTORY_END="PK",t.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",t.ZIP64_CENTRAL_DIRECTORY_END="PK",t.DATA_DESCRIPTOR="PK\b"},8219:(e,t,r)=>{"use strict";var i=r(9592),n=r(8754);function s(e){i.call(this,"ConvertWorker to "+e),this.destType=e}n.inherits(s,i),s.prototype.processChunk=function(e){this.push({data:n.transformTo(this.destType,e.data),meta:e.meta})},e.exports=s},8028:(e,t,r)=>{"use strict";var i=r(9592),n=r(2060);function s(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r(8754).inherits(s,i),s.prototype.processChunk=function(e){this.streamInfo.crc32=n(e.data,this.streamInfo.crc32||0),this.push(e)},e.exports=s},2493:(e,t,r)=>{"use strict";var i=r(8754),n=r(9592);function s(e){n.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(s,n),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}n.prototype.processChunk.call(this,e)},e.exports=s},1915:(e,t,r)=>{"use strict";var i=r(8754),n=r(9592);function s(e){n.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(s,n),s.prototype.cleanUp=function(){n.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!n.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=s},9592:e=>{"use strict";function t(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}t.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var e=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},e.exports=t},8224:(e,t,r)=>{"use strict";var i=r(8754),n=r(8219),s=r(9592),o=r(2727),a=r(357),c=r(4064),l=null;if(a.nodestream)try{l=r(5889)}catch(e){}function u(e,t,r){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=r,i.checkSupport(o),this._worker=e.pipe(new n(o)),e.lock()}catch(e){this._worker=new s("error"),this._worker.error(e)}}u.prototype={accumulate:function(e){return t=this,r=e,new c.Promise((function(e,n){var s=[],a=t._internalType,c=t._outputType,l=t._mimeType;t.on("data",(function(e,t){s.push(e),r&&r(t)})).on("error",(function(e){s=[],n(e)})).on("end",(function(){try{var t=function(e,t,r){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),r);case"base64":return o.encode(t);default:return i.transformTo(e,t)}}(c,function(e,t){var r,i=0,n=null,s=0;for(r=0;r<t.length;r++)s+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(n=new Uint8Array(s),r=0;r<t.length;r++)n.set(t[r],i),i+=t[r].length;return n;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,s),l);e(t)}catch(e){n(e)}s=[]})).resume()}));var t,r},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,(function(e){t.call(r,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,r)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},e.exports=u},357:(e,t,r)=>{"use strict";if(t.base64=!0,t.array=!0,t.string=!0,t.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,t.nodebuffer="undefined"!=typeof Buffer,t.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)t.blob=!1;else{var i=new ArrayBuffer(0);try{t.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);n.append(i),t.blob=0===n.getBlob("application/zip").size}catch(e){t.blob=!1}}}try{t.nodestream=!!r(1258).Readable}catch(e){t.nodestream=!1}},3385:(e,t,r)=>{"use strict";for(var i=r(8754),n=r(357),s=r(8088),o=r(9592),a=new Array(256),c=0;c<256;c++)a[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;function l(){o.call(this,"utf-8 decode"),this.leftOver=null}function u(){o.call(this,"utf-8 encode")}a[254]=a[254]=1,t.utf8encode=function(e){return n.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,r,i,s,o,a=e.length,c=0;for(s=0;s<a;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=n.uint8array?new Uint8Array(c):new Array(c),o=0,s=0;o<c;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|63&r):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|63&r):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|63&r);return t}(e)},t.utf8decode=function(e){return n.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,n,s,o=e.length,c=new Array(2*o);for(r=0,t=0;t<o;)if((n=e[t++])<128)c[r++]=n;else if((s=a[n])>4)c[r++]=65533,t+=s-1;else{for(n&=2===s?31:3===s?15:7;s>1&&t<o;)n=n<<6|63&e[t++],s--;s>1?c[r++]=65533:n<65536?c[r++]=n:(n-=65536,c[r++]=55296|n>>10&1023,c[r++]=56320|1023&n)}return c.length!==r&&(c.subarray?c=c.subarray(0,r):c.length=r),i.applyFromCharCode(c)}(e=i.transformTo(n.uint8array?"uint8array":"array",e))},i.inherits(l,o),l.prototype.processChunk=function(e){var r=i.transformTo(n.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(n.uint8array){var s=r;(r=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),r.set(s,this.leftOver.length)}else r=this.leftOver.concat(r);this.leftOver=null}var o=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+a[e[r]]>t?r:t}(r),c=r;o!==r.length&&(n.uint8array?(c=r.subarray(0,o),this.leftOver=r.subarray(o,r.length)):(c=r.slice(0,o),this.leftOver=r.slice(o,r.length))),this.push({data:t.utf8decode(c),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:t.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},t.Utf8DecodeWorker=l,i.inherits(u,o),u.prototype.processChunk=function(e){this.push({data:t.utf8encode(e.data),meta:e.meta})},t.Utf8EncodeWorker=u},8754:(e,t,r)=>{"use strict";var i=r(357),n=r(2727),s=r(8088),o=r(4064);function a(e){return e}function c(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}r(6985),t.newBlob=function(e,r){t.checkSupport("blob");try{return new Blob([e],{type:r})}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,r){var i=[],n=0,s=e.length;if(s<=r)return String.fromCharCode.apply(null,e);for(;n<s;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(n,Math.min(n+r,s)))):i.push(String.fromCharCode.apply(null,e.subarray(n,Math.min(n+r,s)))),n+=r;return i.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var r=65536,i=t.getTypeOf(e),n=!0;if("uint8array"===i?n=l.applyCanBeUsed.uint8array:"nodebuffer"===i&&(n=l.applyCanBeUsed.nodebuffer),n)for(;r>1;)try{return l.stringifyByChunk(e,i,r)}catch(e){r=Math.floor(r/2)}return l.stringifyByChar(e)}function h(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}t.applyFromCharCode=u;var d={};d.string={string:a,array:function(e){return c(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return c(e,new Uint8Array(e.length))},nodebuffer:function(e){return c(e,s.allocBuffer(e.length))}},d.array={string:u,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(e)}},d.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:a,nodebuffer:function(e){return s.newBufferFrom(e)}},d.nodebuffer={string:u,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:a},t.transformTo=function(e,r){if(r||(r=""),!e)return r;t.checkSupport(e);var i=t.getTypeOf(r);return d[i][e](r)},t.resolve=function(e){for(var t=e.split("/"),r=[],i=0;i<t.length;i++){var n=t[i];"."===n||""===n&&0!==i&&i!==t.length-1||(".."===n?r.pop():r.push(n))}return r.join("/")},t.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&s.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},t.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},t.MAX_VALUE_16BITS=65535,t.MAX_VALUE_32BITS=-1,t.pretty=function(e){var t,r,i="";for(r=0;r<(e||"").length;r++)i+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return i},t.delay=function(e,t,r){setImmediate((function(){e.apply(r||null,t||[])}))},t.inherits=function(e,t){var r=function(){};r.prototype=t.prototype,e.prototype=new r},t.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},t.prepareContent=function(e,r,s,a,l){return o.Promise.resolve(r).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new o.Promise((function(t,r){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){r(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(r){var u,h=t.getTypeOf(r);return h?("arraybuffer"===h?r=t.transformTo("uint8array",r):"string"===h&&(l?r=n.decode(r):s&&!0!==a&&(r=c(u=r,i.uint8array?new Uint8Array(u.length):new Array(u.length)))),r):o.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},7349:(e,t,r)=>{"use strict";var i=r(757),n=r(8754),s=r(8944),o=r(1028),a=(r(3385),r(357));function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+n.pretty(t)+", expected "+n.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(r),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",r=n.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===n.MAX_VALUE_16BITS||this.diskWithCentralDirStart===n.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===n.MAX_VALUE_16BITS||this.centralDirRecords===n.MAX_VALUE_16BITS||this.centralDirSize===n.MAX_VALUE_32BITS||this.centralDirOffset===n.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var i=t-r;if(i>0)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=c},1028:(e,t,r)=>{"use strict";var i=r(757),n=r(8754),s=r(9556),o=r(2060),a=r(3385),c=r(4223),l=r(357);function u(e,t){this.options=e,this.loadOptions=t}u.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+n.pretty(this.compressionMethod)+" unknown (inner file : "+n.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===e&&(this.dosPermissions=63&this.externalFileAttributes),3===e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===n.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===n.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===n.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===n.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,r,i,n=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<n;)t=e.readInt(2),r=e.readInt(2),i=e.readData(r),this.extraFields[t]={id:t,length:r,value:i};e.setIndex(n)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=n.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var s=n.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},e.exports=u},2457:(e,t,r)=>{"use strict";var i=r(8224),n=r(1915),s=r(3385),o=r(9556),a=r(9592),c=function(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}};c.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!n&&(t=t.pipe(new s.Utf8EncodeWorker)),!o&&n&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new a("error")).error(e)}return new i(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new s.Utf8EncodeWorker)),o.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof a?this._data:new n(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<l.length;h++)c.prototype[l[h]]=u;e.exports=c},4774:(e,t,r)=>{"use strict";var i=r(108);function n(){}var s={},o=["REJECTED"],a=["FULFILLED"],c=["PENDING"];if(!process.browser)var l=["UNHANDLED"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,process.browser||(this.handled=l),e!==n&&p(this,e)}function h(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function d(e,t,r){i((function(){var i;try{i=t(r)}catch(t){return s.reject(e,t)}i===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,i)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var r=!1;function i(t){r||(r=!0,s.reject(e,t))}function n(t){r||(r=!0,s.resolve(e,t))}var o=m((function(){t(n,i)}));"error"===o.status&&i(o.value)}function m(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}e.exports=u,u.prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){throw r}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===o)return this;var r=new this.constructor(n);return process.browser||this.handled===l&&(this.handled=null),this.state!==c?d(r,this.state===a?e:t,this.outcome):this.queue.push(new h(r,e,t)),r},h.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},h.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},h.prototype.callRejected=function(e){s.reject(this.promise,e)},h.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},s.resolve=function(e,t){var r=m(f,t);if("error"===r.status)return s.reject(e,r.value);var i=r.value;if(i)p(e,i);else{e.state=a,e.outcome=t;for(var n=-1,o=e.queue.length;++n<o;)e.queue[n].callFulfilled(t)}return e},s.reject=function(e,t){e.state=o,e.outcome=t,process.browser||e.handled===l&&i((function(){e.handled===l&&process.emit("unhandledRejection",t,e)}));for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:s.resolve(new this(n),e)},u.reject=function(e){var t=new this(n);return s.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,i=!1;if(!r)return this.resolve([]);for(var o=new Array(r),a=0,c=-1,l=new this(n);++c<r;)u(e[c],c);return l;function u(e,n){t.resolve(e).then((function(e){o[n]=e,++a!==r||i||(i=!0,s.resolve(l,o))}),(function(e){i||(i=!0,s.reject(l,e))}))}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,r=!1;if(!t)return this.resolve([]);for(var i,o=-1,a=new this(n);++o<t;)i=e[o],this.resolve(i).then((function(e){r||(r=!0,s.resolve(a,e))}),(function(e){r||(r=!0,s.reject(a,e))}));return a}},7339:(e,t,r)=>{e.exports=d,d.Minimatch=f;var i={sep:"/"};try{i=r(1017)}catch(e){}var n=d.GLOBSTAR=f.GLOBSTAR={},s=r(402),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c="[^/]*?",l="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),u=/\/+/;function h(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach((function(e){r[e]=t[e]})),Object.keys(e).forEach((function(t){r[t]=e[t]})),r}function d(e,t,r){if("string"!=typeof t)throw new TypeError("glob pattern string required");return r||(r={}),!(!r.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new f(t,r).match(e))}function f(e,t){if(!(this instanceof f))return new f(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==i.sep&&(e=e.split(i.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function p(e,t){if(t||(t=this instanceof f?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:s(e)}d.filter=function(e,t){return t=t||{},function(r,i,n){return d(r,e,t)}},d.defaults=function(e){if(!e||!Object.keys(e).length)return d;var t=d,r=function(r,i,n){return t.minimatch(r,i,h(e,n))};return r.Minimatch=function(r,i){return new t.Minimatch(r,h(e,i))},r},f.defaults=function(e){return e&&Object.keys(e).length?d.defaults(e).Minimatch:f},f.prototype.debug=function(){},f.prototype.make=function(){if(!this._made){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map((function(e){return e.split(u)})),this.debug(this.pattern,r),r=r.map((function(e,t,r){return e.map(this.parse,this)}),this),this.debug(this.pattern,r),r=r.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,r),this.set=r}else this.empty=!0;else this.comment=!0}},f.prototype.parseNegate=function(){var e=this.pattern,t=!1,r=0;if(!this.options.nonegate){for(var i=0,n=e.length;i<n&&"!"===e.charAt(i);i++)t=!t,r++;r&&(this.pattern=e.substr(r)),this.negate=t}},d.braceExpand=function(e,t){return p(e,t)},f.prototype.braceExpand=p,f.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&"**"===e)return n;if(""===e)return"";var i,s="",u=!!r.nocase,h=!1,d=[],f=[],p=!1,g=-1,y=-1,_="."===e.charAt(0)?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function w(){if(i){switch(i){case"*":s+=c,u=!0;break;case"?":s+=a,u=!0;break;default:s+="\\"+i}b.debug("clearStateChar %j %j",i,s),i=!1}}for(var v,k=0,S=e.length;k<S&&(v=e.charAt(k));k++)if(this.debug("%s\t%s %s %j",e,k,s,v),h&&l[v])s+="\\"+v,h=!1;else switch(v){case"/":return!1;case"\\":w(),h=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,k,s,v),p){this.debug("  in class"),"!"===v&&k===y+1&&(v="^"),s+=v;continue}b.debug("call clearStateChar %j",i),w(),i=v,r.noext&&w();continue;case"(":if(p){s+="(";continue}if(!i){s+="\\(";continue}d.push({type:i,start:k-1,reStart:s.length,open:o[i].open,close:o[i].close}),s+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,s),i=!1;continue;case")":if(p||!d.length){s+="\\)";continue}w(),u=!0;var E=d.pop();s+=E.close,"!"===E.type&&f.push(E),E.reEnd=s.length;continue;case"|":if(p||!d.length||h){s+="\\|",h=!1;continue}w(),s+="|";continue;case"[":if(w(),p){s+="\\"+v;continue}p=!0,y=k,g=s.length,s+=v;continue;case"]":if(k===y+1||!p){s+="\\"+v,h=!1;continue}if(p){var x=e.substring(y+1,k);try{RegExp("["+x+"]")}catch(e){var C=this.parse(x,m);s=s.substr(0,g)+"\\["+C[0]+"\\]",u=u||C[1],p=!1;continue}}u=!0,p=!1,s+=v;continue;default:w(),h?h=!1:!l[v]||"^"===v&&p||(s+="\\"),s+=v}for(p&&(x=e.substr(y+1),C=this.parse(x,m),s=s.substr(0,g)+"\\["+C[0],u=u||C[1]),E=d.pop();E;E=d.pop()){var T=s.slice(E.reStart+E.open.length);this.debug("setting tail",s,E),T=T.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,r){return r||(r="\\"),t+t+r+"|"})),this.debug("tail=%j\n   %s",T,T,E,s);var M="*"===E.type?c:"?"===E.type?a:"\\"+E.type;u=!0,s=s.slice(0,E.reStart)+M+"\\("+T}w(),h&&(s+="\\\\");var R=!1;switch(s.charAt(0)){case".":case"[":case"(":R=!0}for(var P=f.length-1;P>-1;P--){var O=f[P],A=s.slice(0,O.reStart),L=s.slice(O.reStart,O.reEnd-8),I=s.slice(O.reEnd-8,O.reEnd),N=s.slice(O.reEnd);I+=N;var F=A.split("(").length-1,j=N;for(k=0;k<F;k++)j=j.replace(/\)[+*?]?/,"");var D="";""===(N=j)&&t!==m&&(D="$"),s=A+L+N+D+I}if(""!==s&&u&&(s="(?=.)"+s),R&&(s=_+s),t===m)return[s,u];if(!u)return e.replace(/\\(.)/g,"$1");var B=r.nocase?"i":"";try{var q=new RegExp("^"+s+"$",B)}catch(e){return new RegExp("$.")}return q._glob=e,q._src=s,q};var m={};d.makeRe=function(e,t){return new f(e,t||{}).makeRe()},f.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",i=t.nocase?"i":"",s=e.map((function(e){return e.map((function(e){return e===n?r:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch(e){this.regexp=!1}return this.regexp},d.match=function(e,t,r){var i=new f(t,r=r||{});return e=e.filter((function(e){return i.match(e)})),i.options.nonull&&!e.length&&e.push(t),e},f.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var r=this.options;"/"!==i.sep&&(e=e.split(i.sep).join("/")),e=e.split(u),this.debug(this.pattern,"split",e);var n,s,o=this.set;for(this.debug(this.pattern,"set",o),s=e.length-1;s>=0&&!(n=e[s]);s--);for(s=0;s<o.length;s++){var a=o[s],c=e;if(r.matchBase&&1===a.length&&(c=[n]),this.matchOne(c,a,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate},f.prototype.matchOne=function(e,t,r){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,o=0,a=e.length,c=t.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var l,u=t[o],h=e[s];if(this.debug(t,u,h),!1===u)return!1;if(u===n){this.debug("GLOBSTAR",[t,u,h]);var d=s,f=o+1;if(f===c){for(this.debug("** at the end");s<a;s++)if("."===e[s]||".."===e[s]||!i.dot&&"."===e[s].charAt(0))return!1;return!0}for(;d<a;){var p=e[d];if(this.debug("\nglobstar while",e,d,t,f,p),this.matchOne(e.slice(d),t.slice(f),r))return this.debug("globstar found match!",d,a,p),!0;if("."===p||".."===p||!i.dot&&"."===p.charAt(0)){this.debug("dot detected!",e,d,t,f);break}this.debug("globstar swallow a segment, and continue"),d++}return!(!r||(this.debug("\n>>> no match, partial?",e,d,t,f),d!==a))}if("string"==typeof u?(l=i.nocase?h.toLowerCase()===u.toLowerCase():h===u,this.debug("string match",u,h,l)):(l=h.match(u),this.debug("pattern match",u,h,l)),!l)return!1}if(s===a&&o===c)return!0;if(s===a)return r;if(o===c)return s===a-1&&""===e[s];throw new Error("wtf?")}},8379:(e,t,r)=>{var i=r(1017),n=r(7147),s=parseInt("0777",8);function o(e,t,r,a){"function"==typeof t?(r=t,t={}):t&&"object"==typeof t||(t={mode:t});var c=t.mode,l=t.fs||n;void 0===c&&(c=s&~process.umask()),a||(a=null);var u=r||function(){};e=i.resolve(e),l.mkdir(e,c,(function(r){if(!r)return u(null,a=a||e);"ENOENT"===r.code?o(i.dirname(e),t,(function(r,i){r?u(r,i):o(e,t,u,i)})):l.stat(e,(function(e,t){e||!t.isDirectory()?u(r,a):u(null,a)}))}))}e.exports=o.mkdirp=o.mkdirP=o,o.sync=function e(t,r,o){r&&"object"==typeof r||(r={mode:r});var a=r.mode,c=r.fs||n;void 0===a&&(a=s&~process.umask()),o||(o=null),t=i.resolve(t);try{c.mkdirSync(t,a),o=o||t}catch(n){if("ENOENT"===n.code)o=e(i.dirname(t),r,o),e(t,r,o);else{var l;try{l=c.statSync(t)}catch(e){throw n}if(!l.isDirectory())throw n}}return o}},1378:e=>{var t=1e3,r=60*t,i=60*r,n=24*i;function s(e,t,r,i){var n=t>=1.5*r;return Math.round(e/r)+" "+i+(n?"s":"")}e.exports=function(e,o){o=o||{};var a,c,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var o=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*n;case"hours":case"hour":case"hrs":case"hr":case"h":return o*i;case"minutes":case"minute":case"mins":case"min":case"m":return o*r;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===l&&isFinite(e))return o.long?(a=e,(c=Math.abs(a))>=n?s(a,c,n,"day"):c>=i?s(a,c,i,"hour"):c>=r?s(a,c,r,"minute"):c>=t?s(a,c,t,"second"):a+" ms"):function(e){var s=Math.abs(e);return s>=n?Math.round(e/n)+"d":s>=i?Math.round(e/i)+"h":s>=r?Math.round(e/r)+"m":s>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},9928:(e,t,r)=>{var i=r(8892);function n(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function s(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=i(n),e.exports.strict=i(s),n.proto=n((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return s(this)},configurable:!0})}))},2845:(e,t,r)=>{"use strict";var i={};(0,r(9761).assign)(i,r(9880),r(1380),r(1271)),e.exports=i},9880:(e,t,r)=>{"use strict";var i=r(5789),n=r(9761),s=r(7944),o=r(2950),a=r(744),c=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=n.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var r=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(o[r]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var u;if(u="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=i.deflateSetDictionary(this.strm,u)))throw new Error(o[r]);this._dict_set=!0}}function u(e,t){var r=new l(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}l.prototype.push=function(e,t){var r,o,a=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=s.string2buf(e):"[object ArrayBuffer]"===c.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new n.Buf8(l),a.next_out=0,a.avail_out=l),1!==(r=i.deflate(a,o))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(s.buf2binstring(n.shrinkBuf(a.output,a.next_out))):this.onData(n.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==r);return 4===o?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==o||(this.onEnd(0),a.avail_out=0,!0)},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=l,t.deflate=u,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,u(e,t)}},1380:(e,t,r)=>{"use strict";var i=r(5020),n=r(9761),s=r(7944),o=r(1271),a=r(2950),c=r(744),l=r(7357),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var r=i.inflateInit2(this.strm,t.windowBits);if(r!==o.Z_OK)throw new Error(a[r]);if(this.header=new l,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=s.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=i.inflateSetDictionary(this.strm,t.dictionary))!==o.Z_OK))throw new Error(a[r])}function d(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}h.prototype.push=function(e,t){var r,a,c,l,h,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof e?d.input=s.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new n.Buf8(f),d.next_out=0,d.avail_out=f),(r=i.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(r=i.inflateSetDictionary(this.strm,p)),r===o.Z_BUF_ERROR&&!0===m&&(r=o.Z_OK,m=!1),r!==o.Z_STREAM_END&&r!==o.Z_OK)return this.onEnd(r),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&r!==o.Z_STREAM_END&&(0!==d.avail_in||a!==o.Z_FINISH&&a!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(c=s.utf8border(d.output,d.next_out),l=d.next_out-c,h=s.buf2string(d.output,c),d.next_out=l,d.avail_out=f-l,l&&n.arraySet(d.output,d.output,c,l,0),this.onData(h)):this.onData(n.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&r!==o.Z_STREAM_END);return r===o.Z_STREAM_END&&(a=o.Z_FINISH),a===o.Z_FINISH?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===o.Z_OK):a!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=h,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},9761:(e,t)=>{"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)i(r,n)&&(e[n]=r[n])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var n={arraySet:function(e,t,r,i,n){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+i),n);else for(var s=0;s<i;s++)e[n+s]=t[r+s]},flattenChunks:function(e){var t,r,i,n,s,o;for(i=0,t=0,r=e.length;t<r;t++)i+=e[t].length;for(o=new Uint8Array(i),n=0,t=0,r=e.length;t<r;t++)s=e[t],o.set(s,n),n+=s.length;return o}},s={arraySet:function(e,t,r,i,n){for(var s=0;s<i;s++)e[n+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,n)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(r)},7944:(e,t,r)=>{"use strict";var i=r(9761),n=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var o=new i.Buf8(256),a=0;a<256;a++)o[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function c(e,t){if(t<65534&&(e.subarray&&s||!e.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var r="",o=0;o<t;o++)r+=String.fromCharCode(e[o]);return r}o[254]=o[254]=1,t.string2buf=function(e){var t,r,n,s,o,a=e.length,c=0;for(s=0;s<a;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(n-56320),s++),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=new i.Buf8(c),o=0,s=0;o<c;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<a&&56320==(64512&(n=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(n-56320),s++),r<128?t[o++]=r:r<2048?(t[o++]=192|r>>>6,t[o++]=128|63&r):r<65536?(t[o++]=224|r>>>12,t[o++]=128|r>>>6&63,t[o++]=128|63&r):(t[o++]=240|r>>>18,t[o++]=128|r>>>12&63,t[o++]=128|r>>>6&63,t[o++]=128|63&r);return t},t.buf2binstring=function(e){return c(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,i,n,s,a=t||e.length,l=new Array(2*a);for(i=0,r=0;r<a;)if((n=e[r++])<128)l[i++]=n;else if((s=o[n])>4)l[i++]=65533,r+=s-1;else{for(n&=2===s?31:3===s?15:7;s>1&&r<a;)n=n<<6|63&e[r++],s--;s>1?l[i++]=65533:n<65536?l[i++]=n:(n-=65536,l[i++]=55296|n>>10&1023,l[i++]=56320|1023&n)}return c(l,i)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+o[e[r]]>t?r:t}},5562:e=>{"use strict";e.exports=function(e,t,r,i){for(var n=65535&e|0,s=e>>>16&65535|0,o=0;0!==r;){r-=o=r>2e3?2e3:r;do{s=s+(n=n+t[i++]|0)|0}while(--o);n%=65521,s%=65521}return n|s<<16|0}},1271:e=>{"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},4299:e=>{"use strict";var t=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,r,i,n){var s=t,o=n+i;e^=-1;for(var a=n;a<o;a++)e=e>>>8^s[255&(e^r[a])];return-1^e}},5789:(e,t,r)=>{"use strict";var i,n=r(9761),s=r(9564),o=r(5562),a=r(4299),c=r(2950),l=-2,u=258,h=262,d=103,f=113,p=666;function m(e,t){return e.msg=c[t],t}function g(e){return(e<<1)-(e>4?9:0)}function y(e){for(var t=e.length;--t>=0;)e[t]=0}function _(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(n.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function b(e,t){s._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,_(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function v(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function k(e,t){var r,i,n=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match,c=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,l=e.window,d=e.w_mask,f=e.prev,p=e.strstart+u,m=l[s+o-1],g=l[s+o];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do{if(l[(r=t)+o]===g&&l[r+o-1]===m&&l[r]===l[s]&&l[++r]===l[s+1]){s+=2,r++;do{}while(l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&l[++s]===l[++r]&&s<p);if(i=u-(p-s),s=p-u,i>o){if(e.match_start=t,o=i,i>=a)break;m=l[s+o-1],g=l[s+o]}}}while((t=f[t&d])>c&&0!=--n);return o<=e.lookahead?o:e.lookahead}function S(e){var t,r,i,s,c,l,u,d,f,p,m=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-h)){n.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=r=e.hash_size;do{i=e.head[--t],e.head[t]=i>=m?i-m:0}while(--r);t=r=m;do{i=e.prev[--t],e.prev[t]=i>=m?i-m:0}while(--r);s+=m}if(0===e.strm.avail_in)break;if(l=e.strm,u=e.window,d=e.strstart+e.lookahead,f=s,p=void 0,(p=l.avail_in)>f&&(p=f),r=0===p?0:(l.avail_in-=p,n.arraySet(u,l.input,l.next_in,p,d),1===l.state.wrap?l.adler=o(l.adler,u,p,d):2===l.state.wrap&&(l.adler=a(l.adler,u,p,d)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=r,e.lookahead+e.insert>=3)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function E(e,t){for(var r,i;;){if(e.lookahead<h){if(S(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-h&&(e.match_length=k(e,r)),e.match_length>=3)if(i=s._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function x(e,t){for(var r,i,n;;){if(e.lookahead<h){if(S(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-h&&(e.match_length=k(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-3,i=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(b(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=s._tr_tally(e,0,e.window[e.strstart-1]))&&b(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}function C(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}function T(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(1146),this.dyn_dtree=new n.Buf16(122),this.bl_tree=new n.Buf16(78),y(this.dyn_ltree),y(this.dyn_dtree),y(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(16),this.heap=new n.Buf16(573),y(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(573),y(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function M(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:f,e.adler=2===t.wrap?0:1,t.last_flush=0,s._tr_init(t),0):m(e,l)}function R(e){var t,r=M(e);return 0===r&&((t=e.state).window_size=2*t.w_size,y(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function P(e,t,r,i,s,o){if(!e)return l;var a=1;if(-1===t&&(t=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),s<1||s>9||8!==r||i<8||i>15||t<0||t>9||o<0||o>4)return m(e,l);8===i&&(i=9);var c=new T;return e.state=c,c.strm=e,c.wrap=a,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=s+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new n.Buf8(2*c.w_size),c.head=new n.Buf16(c.hash_size),c.prev=new n.Buf16(c.w_size),c.lit_bufsize=1<<s+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new n.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=o,c.method=r,R(e)}i=[new C(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(S(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+r;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,b(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(b(e,!1),e.strm.avail_out),1)})),new C(4,4,8,4,E),new C(4,5,16,8,E),new C(4,6,32,32,E),new C(4,4,16,16,x),new C(8,16,32,32,x),new C(8,16,128,128,x),new C(8,32,128,256,x),new C(32,128,258,1024,x),new C(32,258,258,4096,x)],t.deflateInit=function(e,t){return P(e,t,8,15,8,0)},t.deflateInit2=P,t.deflateReset=R,t.deflateResetKeep=M,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},t.deflate=function(e,t){var r,n,o,c;if(!e||!e.state||t>5||t<0)return e?m(e,l):l;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||n.status===p&&4!==t)return m(e,0===e.avail_out?-5:l);if(n.strm=e,r=n.last_flush,n.last_flush=t,42===n.status)if(2===n.wrap)e.adler=0,w(n,31),w(n,139),w(n,8),n.gzhead?(w(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),w(n,255&n.gzhead.time),w(n,n.gzhead.time>>8&255),w(n,n.gzhead.time>>16&255),w(n,n.gzhead.time>>24&255),w(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),w(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(w(n,255&n.gzhead.extra.length),w(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=a(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(w(n,0),w(n,0),w(n,0),w(n,0),w(n,0),w(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),w(n,3),n.status=f);else{var h=8+(n.w_bits-8<<4)<<8;h|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(h|=32),h+=31-h%31,n.status=f,v(n,h),0!==n.strstart&&(v(n,e.adler>>>16),v(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(o=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),_(e),o=n.pending,n.pending!==n.pending_buf_size));)w(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),_(e),o=n.pending,n.pending===n.pending_buf_size)){c=1;break}c=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,w(n,c)}while(0!==c);n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),0===c&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){o=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),_(e),o=n.pending,n.pending===n.pending_buf_size)){c=1;break}c=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,w(n,c)}while(0!==c);n.gzhead.hcrc&&n.pending>o&&(e.adler=a(e.adler,n.pending_buf,n.pending-o,o)),0===c&&(n.status=d)}else n.status=d;if(n.status===d&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&_(e),n.pending+2<=n.pending_buf_size&&(w(n,255&e.adler),w(n,e.adler>>8&255),e.adler=0,n.status=f)):n.status=f),0!==n.pending){if(_(e),0===e.avail_out)return n.last_flush=-1,0}else if(0===e.avail_in&&g(t)<=g(r)&&4!==t)return m(e,-5);if(n.status===p&&0!==e.avail_in)return m(e,-5);if(0!==e.avail_in||0!==n.lookahead||0!==t&&n.status!==p){var k=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(S(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(n,t):3===n.strategy?function(e,t){for(var r,i,n,o,a=e.window;;){if(e.lookahead<=u){if(S(e),e.lookahead<=u&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=a[n=e.strstart-1])===a[++n]&&i===a[++n]&&i===a[++n]){o=e.strstart+u;do{}while(i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&i===a[++n]&&n<o);e.match_length=u-(o-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=s._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(b(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(b(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(b(e,!1),0===e.strm.avail_out)?1:2}(n,t):i[n.level].func(n,t);if(3!==k&&4!==k||(n.status=p),1===k||3===k)return 0===e.avail_out&&(n.last_flush=-1),0;if(2===k&&(1===t?s._tr_align(n):5!==t&&(s._tr_stored_block(n,0,0,!1),3===t&&(y(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),_(e),0===e.avail_out))return n.last_flush=-1,0}return 4!==t?0:n.wrap<=0?1:(2===n.wrap?(w(n,255&e.adler),w(n,e.adler>>8&255),w(n,e.adler>>16&255),w(n,e.adler>>24&255),w(n,255&e.total_in),w(n,e.total_in>>8&255),w(n,e.total_in>>16&255),w(n,e.total_in>>24&255)):(v(n,e.adler>>>16),v(n,65535&e.adler)),_(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==d&&t!==f&&t!==p?m(e,l):(e.state=null,t===f?m(e,-3):0):l},t.deflateSetDictionary=function(e,t){var r,i,s,a,c,u,h,d,f=t.length;if(!e||!e.state)return l;if(2===(a=(r=e.state).wrap)||1===a&&42!==r.status||r.lookahead)return l;for(1===a&&(e.adler=o(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===a&&(y(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new n.Buf8(r.w_size),n.arraySet(d,t,f-r.w_size,r.w_size,0),t=d,f=r.w_size),c=e.avail_in,u=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,S(r);r.lookahead>=3;){i=r.strstart,s=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+3-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++}while(--s);r.strstart=i,r.lookahead=2,S(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=h,e.avail_in=c,r.wrap=a,0},t.deflateInfo="pako deflate (from Nodeca project)"},7357:e=>{"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},4980:e=>{"use strict";e.exports=function(e,t){var r,i,n,s,o,a,c,l,u,h,d,f,p,m,g,y,_,b,w,v,k,S,E,x,C;r=e.state,i=e.next_in,x=e.input,n=i+(e.avail_in-5),s=e.next_out,C=e.output,o=s-(t-e.avail_out),a=s+(e.avail_out-257),c=r.dmax,l=r.wsize,u=r.whave,h=r.wnext,d=r.window,f=r.hold,p=r.bits,m=r.lencode,g=r.distcode,y=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do{p<15&&(f+=x[i++]<<p,p+=8,f+=x[i++]<<p,p+=8),b=m[f&y];t:for(;;){if(f>>>=w=b>>>24,p-=w,0==(w=b>>>16&255))C[s++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue t}if(32&w){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}v=65535&b,(w&=15)&&(p<w&&(f+=x[i++]<<p,p+=8),v+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=x[i++]<<p,p+=8,f+=x[i++]<<p,p+=8),b=g[f&_];r:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(k=65535&b,p<(w&=15)&&(f+=x[i++]<<p,(p+=8)<w&&(f+=x[i++]<<p,p+=8)),(k+=f&(1<<w)-1)>c){e.msg="invalid distance too far back",r.mode=30;break e}if(f>>>=w,p-=w,k>(w=s-o)){if((w=k-w)>u&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(S=0,E=d,0===h){if(S+=l-w,w<v){v-=w;do{C[s++]=d[S++]}while(--w);S=s-k,E=C}}else if(h<w){if(S+=l+h-w,(w-=h)<v){v-=w;do{C[s++]=d[S++]}while(--w);if(S=0,h<v){v-=w=h;do{C[s++]=d[S++]}while(--w);S=s-k,E=C}}}else if(S+=h-w,w<v){v-=w;do{C[s++]=d[S++]}while(--w);S=s-k,E=C}for(;v>2;)C[s++]=E[S++],C[s++]=E[S++],C[s++]=E[S++],v-=3;v&&(C[s++]=E[S++],v>1&&(C[s++]=E[S++]))}else{S=s-k;do{C[s++]=C[S++],C[s++]=C[S++],C[s++]=C[S++],v-=3}while(v>2);v&&(C[s++]=C[S++],v>1&&(C[s++]=C[S++]))}break}}break}}while(i<n&&s<a);i-=v=p>>3,f&=(1<<(p-=v<<3))-1,e.next_in=i,e.next_out=s,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=s<a?a-s+257:257-(s-a),r.hold=f,r.bits=p}},5020:(e,t,r)=>{"use strict";var i=r(9761),n=r(5562),s=r(4299),o=r(4980),a=r(881),c=-2,l=12,u=30;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):c}function p(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,f(e)):c}function m(e,t){var r,i;return e&&e.state?(i=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?c:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,p(e))):c}function g(e,t){var r,i;return e?(i=new d,e.state=i,i.window=null,0!==(r=m(e,t))&&(e.state=null),r):c}var y,_,b=!0;function w(e){if(b){var t;for(y=new i.Buf32(512),_=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,y,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,_,0,e.work,{bits:5}),b=!1}e.lencode=y,e.lenbits=9,e.distcode=_,e.distbits=5}function v(e,t,r,n){var s,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),n>=o.wsize?(i.arraySet(o.window,t,r-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((s=o.wsize-o.wnext)>n&&(s=n),i.arraySet(o.window,t,r-n,s,o.wnext),(n-=s)?(i.arraySet(o.window,t,r-n,n,0),o.wnext=n,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0}t.inflateReset=p,t.inflateReset2=m,t.inflateResetKeep=f,t.inflateInit=function(e){return g(e,15)},t.inflateInit2=g,t.inflate=function(e,t){var r,d,f,p,m,g,y,_,b,k,S,E,x,C,T,M,R,P,O,A,L,I,N,F,j=0,D=new i.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;(r=e.state).mode===l&&(r.mode=13),m=e.next_out,f=e.output,y=e.avail_out,p=e.next_in,d=e.input,g=e.avail_in,_=r.hold,b=r.bits,k=g,S=y,I=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;b<16;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}if(2&r.wrap&&35615===_){r.check=0,D[0]=255&_,D[1]=_>>>8&255,r.check=s(r.check,D,2,0),_=0,b=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&_)<<8)+(_>>8))%31){e.msg="incorrect header check",r.mode=u;break}if(8!=(15&_)){e.msg="unknown compression method",r.mode=u;break}if(b-=4,L=8+(15&(_>>>=4)),0===r.wbits)r.wbits=L;else if(L>r.wbits){e.msg="invalid window size",r.mode=u;break}r.dmax=1<<L,e.adler=r.check=1,r.mode=512&_?10:l,_=0,b=0;break;case 2:for(;b<16;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}if(r.flags=_,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=u;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=u;break}r.head&&(r.head.text=_>>8&1),512&r.flags&&(D[0]=255&_,D[1]=_>>>8&255,r.check=s(r.check,D,2,0)),_=0,b=0,r.mode=3;case 3:for(;b<32;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}r.head&&(r.head.time=_),512&r.flags&&(D[0]=255&_,D[1]=_>>>8&255,D[2]=_>>>16&255,D[3]=_>>>24&255,r.check=s(r.check,D,4,0)),_=0,b=0,r.mode=4;case 4:for(;b<16;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}r.head&&(r.head.xflags=255&_,r.head.os=_>>8),512&r.flags&&(D[0]=255&_,D[1]=_>>>8&255,r.check=s(r.check,D,2,0)),_=0,b=0,r.mode=5;case 5:if(1024&r.flags){for(;b<16;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}r.length=_,r.head&&(r.head.extra_len=_),512&r.flags&&(D[0]=255&_,D[1]=_>>>8&255,r.check=s(r.check,D,2,0)),_=0,b=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((E=r.length)>g&&(E=g),E&&(r.head&&(L=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),i.arraySet(r.head.extra,d,p,E,L)),512&r.flags&&(r.check=s(r.check,d,E,p)),g-=E,p+=E,r.length-=E),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===g)break e;E=0;do{L=d[p+E++],r.head&&L&&r.length<65536&&(r.head.name+=String.fromCharCode(L))}while(L&&E<g);if(512&r.flags&&(r.check=s(r.check,d,E,p)),g-=E,p+=E,L)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===g)break e;E=0;do{L=d[p+E++],r.head&&L&&r.length<65536&&(r.head.comment+=String.fromCharCode(L))}while(L&&E<g);if(512&r.flags&&(r.check=s(r.check,d,E,p)),g-=E,p+=E,L)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;b<16;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}if(_!==(65535&r.check)){e.msg="header crc mismatch",r.mode=u;break}_=0,b=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=l;break;case 10:for(;b<32;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}e.adler=r.check=h(_),_=0,b=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=m,e.avail_out=y,e.next_in=p,e.avail_in=g,r.hold=_,r.bits=b,2;e.adler=r.check=1,r.mode=l;case l:if(5===t||6===t)break e;case 13:if(r.last){_>>>=7&b,b-=7&b,r.mode=27;break}for(;b<3;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}switch(r.last=1&_,b-=1,3&(_>>>=1)){case 0:r.mode=14;break;case 1:if(w(r),r.mode=20,6===t){_>>>=2,b-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=u}_>>>=2,b-=2;break;case 14:for(_>>>=7&b,b-=7&b;b<32;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}if((65535&_)!=(_>>>16^65535)){e.msg="invalid stored block lengths",r.mode=u;break}if(r.length=65535&_,_=0,b=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(E=r.length){if(E>g&&(E=g),E>y&&(E=y),0===E)break e;i.arraySet(f,d,p,E,m),g-=E,p+=E,y-=E,m+=E,r.length-=E;break}r.mode=l;break;case 17:for(;b<14;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}if(r.nlen=257+(31&_),_>>>=5,b-=5,r.ndist=1+(31&_),_>>>=5,b-=5,r.ncode=4+(15&_),_>>>=4,b-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=u;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;b<3;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}r.lens[B[r.have++]]=7&_,_>>>=3,b-=3}for(;r.have<19;)r.lens[B[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,N={bits:r.lenbits},I=a(0,r.lens,0,19,r.lencode,0,r.work,N),r.lenbits=N.bits,I){e.msg="invalid code lengths set",r.mode=u;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;M=(j=r.lencode[_&(1<<r.lenbits)-1])>>>16&255,R=65535&j,!((T=j>>>24)<=b);){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}if(R<16)_>>>=T,b-=T,r.lens[r.have++]=R;else{if(16===R){for(F=T+2;b<F;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}if(_>>>=T,b-=T,0===r.have){e.msg="invalid bit length repeat",r.mode=u;break}L=r.lens[r.have-1],E=3+(3&_),_>>>=2,b-=2}else if(17===R){for(F=T+3;b<F;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}b-=T,L=0,E=3+(7&(_>>>=T)),_>>>=3,b-=3}else{for(F=T+7;b<F;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}b-=T,L=0,E=11+(127&(_>>>=T)),_>>>=7,b-=7}if(r.have+E>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=u;break}for(;E--;)r.lens[r.have++]=L}}if(r.mode===u)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=u;break}if(r.lenbits=9,N={bits:r.lenbits},I=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,N),r.lenbits=N.bits,I){e.msg="invalid literal/lengths set",r.mode=u;break}if(r.distbits=6,r.distcode=r.distdyn,N={bits:r.distbits},I=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,N),r.distbits=N.bits,I){e.msg="invalid distances set",r.mode=u;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(g>=6&&y>=258){e.next_out=m,e.avail_out=y,e.next_in=p,e.avail_in=g,r.hold=_,r.bits=b,o(e,S),m=e.next_out,f=e.output,y=e.avail_out,p=e.next_in,d=e.input,g=e.avail_in,_=r.hold,b=r.bits,r.mode===l&&(r.back=-1);break}for(r.back=0;M=(j=r.lencode[_&(1<<r.lenbits)-1])>>>16&255,R=65535&j,!((T=j>>>24)<=b);){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}if(M&&0==(240&M)){for(P=T,O=M,A=R;M=(j=r.lencode[A+((_&(1<<P+O)-1)>>P)])>>>16&255,R=65535&j,!(P+(T=j>>>24)<=b);){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}_>>>=P,b-=P,r.back+=P}if(_>>>=T,b-=T,r.back+=T,r.length=R,0===M){r.mode=26;break}if(32&M){r.back=-1,r.mode=l;break}if(64&M){e.msg="invalid literal/length code",r.mode=u;break}r.extra=15&M,r.mode=22;case 22:if(r.extra){for(F=r.extra;b<F;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}r.length+=_&(1<<r.extra)-1,_>>>=r.extra,b-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;M=(j=r.distcode[_&(1<<r.distbits)-1])>>>16&255,R=65535&j,!((T=j>>>24)<=b);){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}if(0==(240&M)){for(P=T,O=M,A=R;M=(j=r.distcode[A+((_&(1<<P+O)-1)>>P)])>>>16&255,R=65535&j,!(P+(T=j>>>24)<=b);){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}_>>>=P,b-=P,r.back+=P}if(_>>>=T,b-=T,r.back+=T,64&M){e.msg="invalid distance code",r.mode=u;break}r.offset=R,r.extra=15&M,r.mode=24;case 24:if(r.extra){for(F=r.extra;b<F;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}r.offset+=_&(1<<r.extra)-1,_>>>=r.extra,b-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=u;break}r.mode=25;case 25:if(0===y)break e;if(E=S-y,r.offset>E){if((E=r.offset-E)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=u;break}E>r.wnext?(E-=r.wnext,x=r.wsize-E):x=r.wnext-E,E>r.length&&(E=r.length),C=r.window}else C=f,x=m-r.offset,E=r.length;E>y&&(E=y),y-=E,r.length-=E;do{f[m++]=C[x++]}while(--E);0===r.length&&(r.mode=21);break;case 26:if(0===y)break e;f[m++]=r.length,y--,r.mode=21;break;case 27:if(r.wrap){for(;b<32;){if(0===g)break e;g--,_|=d[p++]<<b,b+=8}if(S-=y,e.total_out+=S,r.total+=S,S&&(e.adler=r.check=r.flags?s(r.check,f,S,m-S):n(r.check,f,S,m-S)),S=y,(r.flags?_:h(_))!==r.check){e.msg="incorrect data check",r.mode=u;break}_=0,b=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;b<32;){if(0===g)break e;g--,_+=d[p++]<<b,b+=8}if(_!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=u;break}_=0,b=0}r.mode=29;case 29:I=1;break e;case u:I=-3;break e;case 31:return-4;default:return c}return e.next_out=m,e.avail_out=y,e.next_in=p,e.avail_in=g,r.hold=_,r.bits=b,(r.wsize||S!==e.avail_out&&r.mode<u&&(r.mode<27||4!==t))&&v(e,e.output,e.next_out,S-e.avail_out)?(r.mode=31,-4):(k-=e.avail_in,S-=e.avail_out,e.total_in+=k,e.total_out+=S,r.total+=S,r.wrap&&S&&(e.adler=r.check=r.flags?s(r.check,f,S,e.next_out-S):n(r.check,f,S,e.next_out-S)),e.data_type=r.bits+(r.last?64:0)+(r.mode===l?128:0)+(20===r.mode||15===r.mode?256:0),(0===k&&0===S||4===t)&&0===I&&(I=-5),I)},t.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?c:(r.head=t,t.done=!1,0):c},t.inflateSetDictionary=function(e,t){var r,i=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?c:11===r.mode&&n(1,t,i,0)!==r.check?-3:v(e,t,i,i)?(r.mode=31,-4):(r.havedict=1,0):c},t.inflateInfo="pako inflate (from Nodeca project)"},881:(e,t,r)=>{"use strict";var i=r(9761),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,c,l,u,h,d){var f,p,m,g,y,_,b,w,v,k=d.bits,S=0,E=0,x=0,C=0,T=0,M=0,R=0,P=0,O=0,A=0,L=null,I=0,N=new i.Buf16(16),F=new i.Buf16(16),j=null,D=0;for(S=0;S<=15;S++)N[S]=0;for(E=0;E<c;E++)N[t[r+E]]++;for(T=k,C=15;C>=1&&0===N[C];C--);if(T>C&&(T=C),0===C)return l[u++]=20971520,l[u++]=20971520,d.bits=1,0;for(x=1;x<C&&0===N[x];x++);for(T<x&&(T=x),P=1,S=1;S<=15;S++)if(P<<=1,(P-=N[S])<0)return-1;if(P>0&&(0===e||1!==C))return-1;for(F[1]=0,S=1;S<15;S++)F[S+1]=F[S]+N[S];for(E=0;E<c;E++)0!==t[r+E]&&(h[F[t[r+E]]++]=E);if(0===e?(L=j=h,_=19):1===e?(L=n,I-=257,j=s,D-=257,_=256):(L=o,j=a,_=-1),A=0,E=0,S=x,y=u,M=T,R=0,m=-1,g=(O=1<<T)-1,1===e&&O>852||2===e&&O>592)return 1;for(;;){b=S-R,h[E]<_?(w=0,v=h[E]):h[E]>_?(w=j[D+h[E]],v=L[I+h[E]]):(w=96,v=0),f=1<<S-R,x=p=1<<M;do{l[y+(A>>R)+(p-=f)]=b<<24|w<<16|v|0}while(0!==p);for(f=1<<S-1;A&f;)f>>=1;if(0!==f?(A&=f-1,A+=f):A=0,E++,0==--N[S]){if(S===C)break;S=t[r+h[E]]}if(S>T&&(A&g)!==m){for(0===R&&(R=T),y+=x,P=1<<(M=S-R);M+R<C&&!((P-=N[M+R])<=0);)M++,P<<=1;if(O+=1<<M,1===e&&O>852||2===e&&O>592)return 1;l[m=A&g]=T<<24|M<<16|y-u|0}}return 0!==A&&(l[y+A]=S-R<<24|64<<16|0),d.bits=T,0}},2950:e=>{"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},9564:(e,t,r)=>{"use strict";var i=r(9761);function n(e){for(var t=e.length;--t>=0;)e[t]=0}var s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);n(l);var u=new Array(60);n(u);var h=new Array(512);n(h);var d=new Array(256);n(d);var f=new Array(29);n(f);var p,m,g,y=new Array(30);function _(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}function b(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function w(e){return e<256?h[e]:h[256+(e>>>7)]}function v(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function k(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,v(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function S(e,t,r){k(e,r[2*t],r[2*t+1])}function E(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function x(e,t,r){var i,n,s=new Array(16),o=0;for(i=1;i<=15;i++)s[i]=o=o+r[i-1]<<1;for(n=0;n<=t;n++){var a=e[2*n+1];0!==a&&(e[2*n]=E(s[a]++,a))}}function C(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function T(e){e.bi_valid>8?v(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function M(e,t,r,i){var n=2*t,s=2*r;return e[n]<e[s]||e[n]===e[s]&&i[t]<=i[r]}function R(e,t,r){for(var i=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&M(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!M(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i}function P(e,t,r){var i,n,a,c,l=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],n=e.pending_buf[e.l_buf+l],l++,0===i?S(e,n,t):(S(e,(a=d[n])+256+1,t),0!==(c=s[a])&&k(e,n-=f[a],c),S(e,a=w(--i),r),0!==(c=o[a])&&k(e,i-=y[a],c))}while(l<e.last_lit);S(e,256,t)}function O(e,t){var r,i,n,s=t.dyn_tree,o=t.stat_desc.static_tree,a=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<c;r++)0!==s[2*r]?(e.heap[++e.heap_len]=l=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(n=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[n]=0,e.opt_len--,a&&(e.static_len-=o[2*n+1]);for(t.max_code=l,r=e.heap_len>>1;r>=1;r--)R(e,s,r);n=c;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],R(e,s,1),i=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=i,s[2*n]=s[2*r]+s[2*i],e.depth[n]=(e.depth[r]>=e.depth[i]?e.depth[r]:e.depth[i])+1,s[2*r+1]=s[2*i+1]=n,e.heap[1]=n++,R(e,s,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,i,n,s,o,a,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,m=0;for(s=0;s<=15;s++)e.bl_count[s]=0;for(c[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(s=c[2*c[2*(i=e.heap[r])+1]+1]+1)>p&&(s=p,m++),c[2*i+1]=s,i>l||(e.bl_count[s]++,o=0,i>=f&&(o=d[i-f]),a=c[2*i],e.opt_len+=a*(s+o),h&&(e.static_len+=a*(u[2*i+1]+o)));if(0!==m){do{for(s=p-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[p]--,m-=2}while(m>0);for(s=p;0!==s;s--)for(i=e.bl_count[s];0!==i;)(n=e.heap[--r])>l||(c[2*n+1]!==s&&(e.opt_len+=(s-c[2*n+1])*c[2*n],c[2*n+1]=s),i--)}}(e,t),x(s,l,e.bl_count)}function A(e,t,r){var i,n,s=-1,o=t[1],a=0,c=7,l=4;for(0===o&&(c=138,l=3),t[2*(r+1)+1]=65535,i=0;i<=r;i++)n=o,o=t[2*(i+1)+1],++a<c&&n===o||(a<l?e.bl_tree[2*n]+=a:0!==n?(n!==s&&e.bl_tree[2*n]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=n,0===o?(c=138,l=3):n===o?(c=6,l=3):(c=7,l=4))}function L(e,t,r){var i,n,s=-1,o=t[1],a=0,c=7,l=4;for(0===o&&(c=138,l=3),i=0;i<=r;i++)if(n=o,o=t[2*(i+1)+1],!(++a<c&&n===o)){if(a<l)do{S(e,n,e.bl_tree)}while(0!=--a);else 0!==n?(n!==s&&(S(e,n,e.bl_tree),a--),S(e,16,e.bl_tree),k(e,a-3,2)):a<=10?(S(e,17,e.bl_tree),k(e,a-3,3)):(S(e,18,e.bl_tree),k(e,a-11,7));a=0,s=n,0===o?(c=138,l=3):n===o?(c=6,l=3):(c=7,l=4)}}n(y);var I=!1;function N(e,t,r,n){k(e,0+(n?1:0),3),function(e,t,r,n){T(e),v(e,r),v(e,~r),i.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}t._tr_init=function(e){I||(function(){var e,t,r,i,n,c=new Array(16);for(r=0,i=0;i<28;i++)for(f[i]=r,e=0;e<1<<s[i];e++)d[r++]=i;for(d[r-1]=i,n=0,i=0;i<16;i++)for(y[i]=n,e=0;e<1<<o[i];e++)h[n++]=i;for(n>>=7;i<30;i++)for(y[i]=n<<7,e=0;e<1<<o[i]-7;e++)h[256+n++]=i;for(t=0;t<=15;t++)c[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,c[8]++;for(;e<=255;)l[2*e+1]=9,e++,c[9]++;for(;e<=279;)l[2*e+1]=7,e++,c[7]++;for(;e<=287;)l[2*e+1]=8,e++,c[8]++;for(x(l,287,c),e=0;e<30;e++)u[2*e+1]=5,u[2*e]=E(e,5);p=new _(l,s,257,286,15),m=new _(u,o,0,30,15),g=new _(new Array(0),a,0,19,7)}(),I=!0),e.l_desc=new b(e.dyn_ltree,p),e.d_desc=new b(e.dyn_dtree,m),e.bl_desc=new b(e.bl_tree,g),e.bi_buf=0,e.bi_valid=0,C(e)},t._tr_stored_block=N,t._tr_flush_block=function(e,t,r,i){var n,s,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),O(e,e.l_desc),O(e,e.d_desc),o=function(e){var t;for(A(e,e.dyn_ltree,e.l_desc.max_code),A(e,e.dyn_dtree,e.d_desc.max_code),O(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),n=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=n&&(n=s)):n=s=r+5,r+4<=n&&-1!==t?N(e,t,r,i):4===e.strategy||s===n?(k(e,2+(i?1:0),3),P(e,l,u)):(k(e,4+(i?1:0),3),function(e,t,r,i){var n;for(k(e,t-257,5),k(e,r-1,5),k(e,i-4,4),n=0;n<i;n++)k(e,e.bl_tree[2*c[n]+1],3);L(e,e.dyn_ltree,t-1),L(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),P(e,e.dyn_ltree,e.dyn_dtree)),C(e),i&&T(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(d[r]+256+1)]++,e.dyn_dtree[2*w(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){k(e,2,3),S(e,256,l),function(e){16===e.bi_valid?(v(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},744:e=>{"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},2936:(e,t,r)=>{"use strict";const i=r(7147),{promisify:n}=r(3837),s=n(i.access);e.exports=async e=>{try{return await s(e),!0}catch(e){return!1}},e.exports.sync=e=>{try{return i.accessSync(e),!0}catch(e){return!1}}},691:e=>{"use strict";function t(e){return"/"===e.charAt(0)}function r(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(e),r=t[1]||"",i=Boolean(r&&":"!==r.charAt(1));return Boolean(t[2]||i)}e.exports="win32"===process.platform?r:t,e.exports.posix=t,e.exports.win32=r},3174:e=>{function t(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}function r(e){e.pending+=1;var t=!1;return function(n){if(t)throw new Error("callback called twice");if(t=!0,e.error=e.error||n,e.pending-=1,e.waiting.length>0&&e.pending<e.max)i(e,e.waiting.shift());else if(0===e.pending){var s=e.listeners;e.listeners=[],s.forEach(r)}};function r(t){t(e.error)}}function i(e,t){t(r(e))}e.exports=t,t.prototype.go=function(e){this.pending<this.max?i(this,e):this.waiting.push(e)},t.prototype.wait=function(e){0===this.pending?e(this.error):this.listeners.push(e)},t.prototype.hold=function(){return r(this)}},2742:(e,t,r)=>{"use strict";const i=r(1017),n=r(5898),s=async e=>{const t=await n("package.json",{cwd:e});return t&&i.dirname(t)};e.exports=s,e.exports.default=s,e.exports.sync=e=>{const t=n.sync("package.json",{cwd:e});return t&&i.dirname(t)}},5898:(e,t,r)=>{"use strict";const i=r(1017),n=r(9799),s=r(2936),o=Symbol("findUp.stop");e.exports=async(e,t={})=>{let r=i.resolve(t.cwd||"");const{root:s}=i.parse(r),a=[].concat(e),c=async t=>{if("function"!=typeof e)return n(a,t);const r=await e(t.cwd);return"string"==typeof r?n([r],t):r};for(;;){const e=await c({...t,cwd:r});if(e===o)return;if(e)return i.resolve(r,e);if(r===s)return;r=i.dirname(r)}},e.exports.sync=(e,t={})=>{let r=i.resolve(t.cwd||"");const{root:s}=i.parse(r),a=[].concat(e),c=t=>{if("function"!=typeof e)return n.sync(a,t);const r=e(t.cwd);return"string"==typeof r?n.sync([r],t):r};for(;;){const e=c({...t,cwd:r});if(e===o)return;if(e)return i.resolve(r,e);if(r===s)return;r=i.dirname(r)}},e.exports.exists=s,e.exports.sync.exists=s.sync,e.exports.stop=o},9799:(e,t,r)=>{"use strict";const i=r(1017),n=r(7147),{promisify:s}=r(3837),o=r(1339),a=s(n.stat),c=s(n.lstat),l={directory:"isDirectory",file:"isFile"};function u({type:e}){if(!(e in l))throw new Error(`Invalid type specified: ${e}`)}const h=(e,t)=>void 0===e||t[l[e]]();e.exports=async(e,t)=>{u(t={cwd:process.cwd(),type:"file",allowSymlinks:!0,...t});const r=t.allowSymlinks?a:c;return o(e,(async e=>{try{const n=await r(i.resolve(t.cwd,e));return h(t.type,n)}catch(e){return!1}}),t)},e.exports.sync=(e,t)=>{u(t={cwd:process.cwd(),allowSymlinks:!0,type:"file",...t});const r=t.allowSymlinks?n.statSync:n.lstatSync;for(const n of e)try{const e=r(i.resolve(t.cwd,n));if(h(t.type,e))return n}catch(e){}}},1102:(e,t,r)=>{"use strict";const i=r(6002),n=e=>{if(!Number.isInteger(e)&&e!==1/0||!(e>0))return Promise.reject(new TypeError("Expected `concurrency` to be a number from 1 and up"));const t=[];let r=0;const n=()=>{r--,t.length>0&&t.shift()()},s=(e,t,...s)=>{r++;const o=i(e,...s);t(o),o.then(n,n)},o=(i,...n)=>new Promise((o=>((i,n,...o)=>{r<e?s(i,n,...o):t.push(s.bind(null,i,n,...o))})(i,o,...n)));return Object.defineProperties(o,{activeCount:{get:()=>r},pendingCount:{get:()=>t.length},clearQueue:{value:()=>{t.length=0}}}),o};e.exports=n,e.exports.default=n},1339:(e,t,r)=>{"use strict";const i=r(1102);class n extends Error{constructor(e){super(),this.value=e}}const s=async(e,t)=>t(await e),o=async e=>{const t=await Promise.all(e);if(!0===t[1])throw new n(t[0]);return!1},a=async(e,t,r)=>{r={concurrency:1/0,preserveOrder:!0,...r};const a=i(r.concurrency),c=[...e].map((e=>[e,a(s,e,t)])),l=i(r.preserveOrder?1:1/0);try{await Promise.all(c.map((e=>l(o,e))))}catch(e){if(e instanceof n)return e.value;throw e}};e.exports=a,e.exports.default=a},6002:e=>{"use strict";const t=(e,...t)=>new Promise((r=>{r(e(...t))}));e.exports=t,e.exports.default=t},2884:e=>{"use strict";"undefined"==typeof process||!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?e.exports={nextTick:function(e,t,r,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var n,s,o=arguments.length;switch(o){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick((function(){e.call(null,t)}));case 3:return process.nextTick((function(){e.call(null,t,r)}));case 4:return process.nextTick((function(){e.call(null,t,r,i)}));default:for(n=new Array(o-1),s=0;s<n.length;)n[s++]=arguments[s];return process.nextTick((function(){e.apply(null,n)}))}}}:e.exports=process},3152:(e,t,r)=>{"use strict";var i=r(7310).parse,n={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},s=String.prototype.endsWith||function(e){return e.length<=this.length&&-1!==this.indexOf(e,this.length-e.length)};function o(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.j=function(e){var t="string"==typeof e?i(e):e||{},r=t.protocol,a=t.host,c=t.port;if("string"!=typeof a||!a||"string"!=typeof r)return"";if(r=r.split(":",1)[0],!function(e,t){var r=(o("npm_config_no_proxy")||o("no_proxy")).toLowerCase();return!r||"*"!==r&&r.split(/[,\s]/).every((function(r){if(!r)return!0;var i=r.match(/^(.+):(\d+)$/),n=i?i[1]:r,o=i?parseInt(i[2]):0;return!(!o||o===t)||(/^[.*]/.test(n)?("*"===n.charAt(0)&&(n=n.slice(1)),!s.call(e,n)):e!==n)}))}(a=a.replace(/:\d*$/,""),c=parseInt(c)||n[r]||0))return"";var l=o("npm_config_"+r+"_proxy")||o(r+"_proxy")||o("npm_config_proxy")||o("all_proxy");return l&&-1===l.indexOf("://")&&(l=r+"://"+l),l}},3171:(e,t,r)=>{var i=r(9928),n=r(8797),s=r(7147),o=function(){},a=/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},l=function(e,t,r,l){l=i(l);var u=!1;e.on("close",(function(){u=!0})),n(e,{readable:t,writable:r},(function(e){if(e)return l(e);u=!0,l()}));var h=!1;return function(t){if(!u&&!h)return h=!0,function(e){return!!a&&!!s&&(e instanceof(s.ReadStream||o)||e instanceof(s.WriteStream||o))&&c(e.close)}(e)?e.close(o):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void l(t||new Error("stream was destroyed"))}},u=function(e){e()},h=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),r=c(t[t.length-1]||o)&&t.pop()||o;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var i=t.map((function(n,s){var o=s<t.length-1;return l(n,o,s>0,(function(t){e||(e=t),t&&i.forEach(u),o||(i.forEach(u),r(e))}))}));return t.reduce(h)}},3034:function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(r(1808)),o=n(r(4404)),a=n(r(7310)),c=n(r(9491)),l=n(r(9178)),u=r(1325),h=n(r(7135)),d=l.default("https-proxy-agent:agent");class f extends u.Agent{constructor(e){let t;if(t="string"==typeof e?a.default.parse(e):e,!t)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");d("creating new HttpsProxyAgent instance: %o",t),super(t);const r=Object.assign({},t);var i;this.secureProxy=t.secureProxy||"string"==typeof(i=r.protocol)&&/^https:?$/i.test(i),r.host=r.hostname||r.host,"string"==typeof r.port&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in r)&&(r.ALPNProtocols=["http 1.1"]),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,t){return i(this,void 0,void 0,(function*(){const{proxy:r,secureProxy:i}=this;let n;i?(d("Creating `tls.Socket`: %o",r),n=o.default.connect(r)):(d("Creating `net.Socket`: %o",r),n=s.default.connect(r));const a=Object.assign({},r.headers);let l=`CONNECT ${t.host}:${t.port} HTTP/1.1\r\n`;r.auth&&(a["Proxy-Authorization"]=`Basic ${Buffer.from(r.auth).toString("base64")}`);let{host:u,port:f,secureEndpoint:m}=t;(function(e,t){return Boolean(!t&&80===e||t&&443===e)})(f,m)||(u+=`:${f}`),a.Host=u,a.Connection="close";for(const e of Object.keys(a))l+=`${e}: ${a[e]}\r\n`;const g=h.default(n);n.write(`${l}\r\n`);const{statusCode:y,buffered:_}=yield g;if(200===y){if(e.once("socket",p),t.secureEndpoint){d("Upgrading socket connection to TLS");const e=t.servername||t.host;return o.default.connect(Object.assign(Object.assign({},function(e,...t){const r={};let i;for(i in e)t.includes(i)||(r[i]=e[i]);return r}(t,"host","hostname","path","port")),{socket:n,servername:e}))}return n}n.destroy();const b=new s.default.Socket({writable:!1});return b.readable=!0,e.once("socket",(e=>{d("replaying proxy buffer for failed request"),c.default(e.listenerCount("data")>0),e.push(_),e.push(null)})),b}))}}function p(e){e.resume()}t.default=f},3374:function(e,t,r){"use strict";const i=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(r(3034));function n(e){return new i.default(e)}!function(e){e.HttpsProxyAgent=i.default,e.prototype=i.default.prototype}(n||(n={})),e.exports=n},7135:function(e,t,r){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(r(9178)).default("https-proxy-agent:parse-proxy-response");t.default=function(e){return new Promise(((t,r)=>{let i=0;const s=[];function o(){const r=e.read();r?function(e){s.push(e),i+=e.length;const r=Buffer.concat(s,i);if(-1===r.indexOf("\r\n\r\n"))return n("have not received end of HTTP headers yet..."),void o();const a=r.toString("ascii",0,r.indexOf("\r\n")),c=+a.split(" ")[1];n("got proxy server response: %o",a),t({statusCode:c,buffered:r})}(r):e.once("readable",o)}function a(e){n("onclose had error %o",e)}function c(){n("onend")}e.on("error",(function t(i){e.removeListener("end",c),e.removeListener("error",t),e.removeListener("close",a),e.removeListener("readable",o),n("onerror %o",i),r(i)})),e.on("close",a),e.on("end",c),o()}))}},2893:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let i=0,n=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(i++,"%c"===e&&(n=i))})),t.splice(n,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(3473)(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},3473:(e,t,r)=>{e.exports=function(e){function t(e){let r,n,s,o=null;function a(...e){if(!a.enabled)return;const i=a,n=Number(new Date),s=n-(r||n);i.diff=s,i.prev=r,i.curr=n,r=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,n)=>{if("%%"===r)return"%";o++;const s=t.formatters[n];if("function"==typeof s){const t=e[o];r=s.call(i,t),e.splice(o,1),o--}return r})),t.formatArgs.call(i,e),(i.log||t.log).apply(i,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=i,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(n!==t.namespaces&&(n=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function i(e,r){const i=t(this.namespace+(void 0===r?":":r)+e);return i.log=this.log,i}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(n),...t.skips.map(n).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),n=i.length;for(r=0;r<n;r++)i[r]&&("-"===(e=i[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,i;for(r=0,i=t.skips.length;r<i;r++)if(t.skips[r].test(e))return!1;for(r=0,i=t.names.length;r<i;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(1378),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},9178:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(2893):e.exports=r(9364)},9364:(e,t,r)=>{const i=r(6224),n=r(3837);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let i=0;i<r.length;i++)e.inspectOpts[r[i]]=t.inspectOpts[r[i]]},t.log=function(...e){return process.stderr.write(n.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:i,useColors:n}=this;if(n){const t=this.color,n="[3"+(t<8?t:"8;5;"+t),s=`  ${n};1m${i} [0m`;r[0]=s+r[0].split("\n").join("\n"+s),r.push(n+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+i+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):i.isatty(process.stderr.fd)},t.destroy=n.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=r(7013);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let i=process.env[t];return i=!!/^(yes|on|true|enabled)$/i.test(i)||!/^(no|off|false|disabled)$/i.test(i)&&("null"===i?null:Number(i)),e[r]=i,e}),{}),e.exports=r(3473)(t);const{formatters:s}=e.exports;s.o=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},s.O=function(e){return this.inspectOpts.colors=this.useColors,n.inspect(e,this.inspectOpts)}},7073:(e,t,r)=>{"use strict";var i=r(2884),n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=h;var s=Object.create(r(7646));s.inherits=r(8874);var o=r(8051),a=r(2557);s.inherits(h,o);for(var c=n(a.prototype),l=0;l<c.length;l++){var u=c[l];h.prototype[u]||(h.prototype[u]=a.prototype[u])}function h(e){if(!(this instanceof h))return new h(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",d)}function d(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),h.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},5163:(e,t,r)=>{"use strict";e.exports=s;var i=r(7640),n=Object.create(r(7646));function s(e){if(!(this instanceof s))return new s(e);i.call(this,e)}n.inherits=r(8874),n.inherits(s,i),s.prototype._transform=function(e,t,r){r(null,e)}},8051:(e,t,r)=>{"use strict";var i=r(2884);e.exports=_;var n,s=r(7906);_.ReadableState=y,r(2361).EventEmitter;var o=function(e,t){return e.listeners(t).length},a=r(6748),c=r(2521).Buffer,l=global.Uint8Array||function(){},u=Object.create(r(7646));u.inherits=r(8874);var h=r(3837),d=void 0;d=h&&h.debuglog?h.debuglog("stream"):function(){};var f,p=r(9128),m=r(2262);u.inherits(_,a);var g=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var i=t instanceof(n=n||r(7073));this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var s=e.highWaterMark,o=e.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=s||0===s?s:i&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=r(214).s),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function _(e){if(n=n||r(7073),!(this instanceof _))return new _(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function b(e,t,r,i,n){var s,o=e._readableState;return null===t?(o.reading=!1,function(e,t){if(!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,S(e)}}(e,o)):(n||(s=function(e,t){var r,i;return i=t,c.isBuffer(i)||i instanceof l||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}(o,t)),s?e.emit("error",s):o.objectMode||t&&t.length>0?("string"==typeof t||o.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),i?o.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,o,t,!0):o.ended?e.emit("error",new Error("stream.push() after EOF")):(o.reading=!1,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?w(e,o,t,!1):x(e,o)):w(e,o,t,!1))):i||(o.reading=!1)),function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(o)}function w(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&S(e)),x(e,t)}Object.defineProperty(_.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),_.prototype.destroy=m.destroy,_.prototype._undestroy=m.undestroy,_.prototype._destroy=function(e,t){this.push(null),t(e)},_.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=c.from(e,t),t=""),r=!0),b(this,e,t,!1,r)},_.prototype.unshift=function(e){return b(this,e,null,!0,!1)},_.prototype.isPaused=function(){return!1===this._readableState.flowing},_.prototype.setEncoding=function(e){return f||(f=r(214).s),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var v=8388608;function k(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=v?e=v:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?i.nextTick(E,e):E(e))}function E(e){d("emit readable"),e.emit("readable"),R(e)}function x(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(C,e,t))}function C(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(d("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function T(e){d("readable nexttick read 0"),e.read(0)}function M(e,t){t.reading||(d("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var i;return e<t.head.data.length?(i=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):i=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,i=1,n=r.data;for(e-=n.length;r=r.next;){var s=r.data,o=e>s.length?s.length:e;if(o===s.length?n+=s:n+=s.slice(0,e),0==(e-=o)){o===s.length?(++i,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=s.slice(o));break}++i}return t.length-=i,n}(e,t):function(e,t){var r=c.allocUnsafe(e),i=t.head,n=1;for(i.data.copy(r),e-=i.data.length;i=i.next;){var s=i.data,o=e>s.length?s.length:e;if(s.copy(r,r.length-e,0,o),0==(e-=o)){o===s.length?(++n,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i,i.data=s.slice(o));break}++n}return t.length-=n,r}(e,t),i}(e,t.buffer,t.decoder),r);var r}function O(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,i.nextTick(A,t,e))}function A(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function L(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}_.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?O(this):S(this),null;if(0===(e=k(e,t))&&t.ended)return 0===t.length&&O(this),null;var i,n=t.needReadable;return d("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",n=!0),t.ended||t.reading?d("reading or ended",n=!1):n&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=k(r,t))),null===(i=e>0?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&O(this)),null!==i&&this.emit("data",i),i},_.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},_.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,d("pipe count=%d opts=%j",n.pipesCount,t);var a=t&&!1===t.end||e===process.stdout||e===process.stderr?y:c;function c(){d("onend"),e.end()}n.endEmitted?i.nextTick(a):r.once("end",a),e.on("unpipe",(function t(i,s){d("onunpipe"),i===r&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,d("cleanup"),e.removeListener("close",m),e.removeListener("finish",g),e.removeListener("drain",l),e.removeListener("error",p),e.removeListener("unpipe",t),r.removeListener("end",c),r.removeListener("end",y),r.removeListener("data",f),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||l())}));var l=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,R(e))}}(r);e.on("drain",l);var u=!1,h=!1;function f(t){d("ondata"),h=!1,!1!==e.write(t)||h||((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==L(n.pipes,e))&&!u&&(d("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,h=!0),r.pause())}function p(t){d("onerror",t),y(),e.removeListener("error",p),0===o(e,"error")&&e.emit("error",t)}function m(){e.removeListener("finish",g),y()}function g(){d("onfinish"),e.removeListener("close",m),y()}function y(){d("unpipe"),r.unpipe(e)}return r.on("data",f),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?s(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",p),e.once("close",m),e.once("finish",g),e.emit("pipe",r),n.flowing||(d("pipe resume"),r.resume()),e},_.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,r);return this}var o=L(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},_.prototype.on=function(e,t){var r=a.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&S(this):i.nextTick(T,this))}return r},_.prototype.addListener=_.prototype.on,_.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(M,e,t))}(this,e)),this},_.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this},_.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var n in e.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(n){d("wrapped data"),r.decoder&&(n=r.decoder.write(n)),r.objectMode&&null==n||(r.objectMode||n&&n.length)&&(t.push(n)||(i=!0,e.pause()))})),e)void 0===this[n]&&"function"==typeof e[n]&&(this[n]=function(t){return function(){return e[t].apply(e,arguments)}}(n));for(var s=0;s<g.length;s++)e.on(g[s],this.emit.bind(this,g[s]));return this._read=function(t){d("wrapped _read",t),i&&(i=!1,e.resume())},this},Object.defineProperty(_.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),_._fromList=P},7640:(e,t,r)=>{"use strict";e.exports=o;var i=r(7073),n=Object.create(r(7646));function s(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function o(e){if(!(this instanceof o))return new o(e);i.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",a)}function a(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){c(e,t,r)})):c(this,null,null)}function c(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}n.inherits=r(8874),n.inherits(o,i),o.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},o.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},o.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},o.prototype._destroy=function(e,t){var r=this;i.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},2557:(e,t,r)=>{"use strict";var i=r(2884);function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(undefined),i=i.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=g;var s,o=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:i.nextTick;g.WritableState=m;var a=Object.create(r(7646));a.inherits=r(8874);var c,l={deprecate:r(3854)},u=r(6748),h=r(2521).Buffer,d=global.Uint8Array||function(){},f=r(2262);function p(){}function m(e,t){s=s||r(7073),e=e||{};var a=t instanceof s;this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var c=e.highWaterMark,l=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=c||0===c?c:a&&(l||0===l)?l:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===e.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,s=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,s){--t.pendingcb,r?(i.nextTick(s,n),i.nextTick(k,e,t),e._writableState.errorEmitted=!0,e.emit("error",n)):(s(n),e._writableState.errorEmitted=!0,e.emit("error",n),k(e,t))}(e,r,n,t,s);else{var a=w(r);a||r.corked||r.bufferProcessing||!r.bufferedRequest||b(e,r),n?o(_,e,r,a,s):_(e,r,a,s)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function g(e){if(s=s||r(7073),!(c.call(g,this)||this instanceof s))return new g(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),u.call(this)}function y(e,t,r,i,n,s,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,r?e._writev(n,t.onwrite):e._write(n,s,t.onwrite),t.sync=!1}function _(e,t,r,i){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),k(e,t)}function b(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount,s=new Array(i),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)s[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;s.allBuffers=c,y(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,h=r.callback;if(y(e,t,!1,t.objectMode?1:l.length,l,u,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function w(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function v(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),k(e,t)}))}function k(e,t){var r=w(t);return r&&(function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(v,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}a.inherits(g,u),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===g&&e&&e._writableState instanceof m}})):c=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,r){var n,s=this._writableState,o=!1,a=!s.objectMode&&(n=e,h.isBuffer(n)||n instanceof d);return a&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),a?t="buffer":t||(t=s.defaultEncoding),"function"!=typeof r&&(r=p),s.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var s=!0,o=!1;return null===r?o=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(e.emit("error",o),i.nextTick(n,o),s=!1),s}(this,s,e,r))&&(s.pendingcb++,o=function(e,t,r,i,n,s){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r)),t}(t,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=t.objectMode?1:i.length;t.length+=a;var c=t.length<t.highWaterMark;if(c||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else y(e,t,!1,a,i,n,s);return c}(this,s,a,e,t,r)),o},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||b(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,k(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,n,r)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=f.destroy,g.prototype._undestroy=f.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}},9128:(e,t,r)=>{"use strict";var i=r(2521).Buffer,n=r(3837);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var t,r,n=i.allocUnsafe(e>>>0),s=this.head,o=0;s;)t=n,r=o,s.data.copy(t,r),o+=s.data.length,s=s.next;return n},e}(),n&&n.inspect&&n.inspect.custom&&(e.exports.prototype[n.inspect.custom]=function(){var e=n.inspect({length:this.length});return this.constructor.name+" "+e})},2262:(e,t,r)=>{"use strict";var i=r(2884);function n(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,s=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return s||o?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||i.nextTick(n,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(i.nextTick(n,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},6748:(e,t,r)=>{e.exports=r(2781)},2521:(e,t,r)=>{var i=r(4300),n=i.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(s(i,t),t.Buffer=o),s(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},1258:(e,t,r)=>{var i=r(2781);"disable"===process.env.READABLE_STREAM&&i?(e.exports=i,(t=e.exports=i.Readable).Readable=i.Readable,t.Writable=i.Writable,t.Duplex=i.Duplex,t.Transform=i.Transform,t.PassThrough=i.PassThrough,t.Stream=i):((t=e.exports=r(8051)).Stream=i||t,t.Readable=t,t.Writable=r(2557),t.Duplex=r(7073),t.Transform=r(7640),t.PassThrough=r(5163))},2133:(e,t,r)=>{const i=r(9491),n=r(1017),s=r(7147);let o;try{o=r(9086)}catch(e){}const a={nosort:!0,silent:!0};let c=0;const l="win32"===process.platform,u=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((t=>{e[t]=e[t]||s[t],e[t+="Sync"]=e[t]||s[t]})),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,!1===e.glob&&(e.disableGlob=!0),!0!==e.disableGlob&&void 0===o)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||a},h=(e,t,r)=>{"function"==typeof t&&(r=t,t={}),i(e,"rimraf: missing path"),i.equal(typeof e,"string","rimraf: path should be a string"),i.equal(typeof r,"function","rimraf: callback function required"),i(t,"rimraf: invalid options argument provided"),i.equal(typeof t,"object","rimraf: options should be object"),u(t);let n=0,s=null,a=0;const l=(e,i)=>e?r(e):(a=i.length,0===a?r():void i.forEach((e=>{const i=o=>{if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&n<t.maxBusyTries)return n++,setTimeout((()=>d(e,t,i)),100*n);if("EMFILE"===o.code&&c<t.emfileWait)return setTimeout((()=>d(e,t,i)),c++);"ENOENT"===o.code&&(o=null)}c=0,(e=>{s=s||e,0==--a&&r(s)})(o)};d(e,t,i)})));if(t.disableGlob||!o.hasMagic(e))return l(null,[e]);t.lstat(e,((r,i)=>{if(!r)return l(null,[e]);o(e,t.glob,l)}))},d=(e,t,r)=>{i(e),i(t),i("function"==typeof r),t.lstat(e,((i,n)=>i&&"ENOENT"===i.code?r(null):(i&&"EPERM"===i.code&&l&&f(e,t,i,r),n&&n.isDirectory()?m(e,t,i,r):void t.unlink(e,(i=>{if(i){if("ENOENT"===i.code)return r(null);if("EPERM"===i.code)return l?f(e,t,i,r):m(e,t,i,r);if("EISDIR"===i.code)return m(e,t,i,r)}return r(i)})))))},f=(e,t,r,n)=>{i(e),i(t),i("function"==typeof n),t.chmod(e,438,(i=>{i?n("ENOENT"===i.code?null:r):t.stat(e,((i,s)=>{i?n("ENOENT"===i.code?null:r):s.isDirectory()?m(e,t,r,n):t.unlink(e,n)}))}))},p=(e,t,r)=>{i(e),i(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw r}let n;try{n=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw r}n.isDirectory()?_(e,t,r):t.unlinkSync(e)},m=(e,t,r,n)=>{i(e),i(t),i("function"==typeof n),t.rmdir(e,(i=>{!i||"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code?i&&"ENOTDIR"===i.code?n(r):n(i):g(e,t,n)}))},g=(e,t,r)=>{i(e),i(t),i("function"==typeof r),t.readdir(e,((i,s)=>{if(i)return r(i);let o,a=s.length;if(0===a)return t.rmdir(e,r);s.forEach((i=>{h(n.join(e,i),t,(i=>{if(!o)return i?r(o=i):void(0==--a&&t.rmdir(e,r))}))}))}))},y=(e,t)=>{let r;if(u(t=t||{}),i(e,"rimraf: missing path"),i.equal(typeof e,"string","rimraf: path should be a string"),i(t,"rimraf: missing options"),i.equal(typeof t,"object","rimraf: options should be object"),t.disableGlob||!o.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch(i){r=o.sync(e,t.glob)}if(r.length)for(let e=0;e<r.length;e++){const i=r[e];let n;try{n=t.lstatSync(i)}catch(e){if("ENOENT"===e.code)return;"EPERM"===e.code&&l&&p(i,t,e)}try{n&&n.isDirectory()?_(i,t,null):t.unlinkSync(i)}catch(e){if("ENOENT"===e.code)return;if("EPERM"===e.code)return l?p(i,t,e):_(i,t,e);if("EISDIR"!==e.code)throw e;_(i,t,e)}}},_=(e,t,r)=>{i(e),i(t);try{t.rmdirSync(e)}catch(i){if("ENOENT"===i.code)return;if("ENOTDIR"===i.code)throw r;"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code||b(e,t)}},b=(e,t)=>{i(e),i(t),t.readdirSync(e).forEach((r=>y(n.join(e,r),t)));const r=l?100:1;let s=0;for(;;){let i=!0;try{const n=t.rmdirSync(e,t);return i=!1,n}finally{if(++s<r&&i)continue}}};e.exports=h,h.sync=y},7834:(e,t,r)=>{var i=r(4300),n=i.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(s(i,t),t.Buffer=o),o.prototype=Object.create(n.prototype),s(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},6985:function(){!function(e,t){"use strict";if(!e.setImmediate){var r,i,n,s,o,a=1,c={},l=!1,u=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){process.nextTick((function(){f(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(s="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&f(+t.data.slice(s.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),r=function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((n=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){n.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(i=u.documentElement,r=function(e){var t=u.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(f,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return c[a]=n,r(a),a++},h.clearImmediate=d}function d(e){delete c[e]}function f(e){if(l)setTimeout(f,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?"undefined"==typeof global?this:global:self)},214:(e,t,r)=>{"use strict";var i=r(7805).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var n=o(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=o(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=o(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},7805:(e,t,r)=>{var i=r(4300),n=i.Buffer;function s(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(s(i,t),t.Buffer=o),s(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=n(e);return void 0!==t?"string"==typeof r?i.fill(t,r):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},7013:(e,t,r)=>{"use strict";const i=r(2037),n=r(6224),s=r(9248),{env:o}=process;let a;function c(e,t={}){return 0!==(r=function(e,{streamIsTTY:t,sniffFlags:r=!0}={}){const n=function(){if("FORCE_COLOR"in o)return"true"===o.FORCE_COLOR?1:"false"===o.FORCE_COLOR?0:0===o.FORCE_COLOR.length?1:Math.min(Number.parseInt(o.FORCE_COLOR,10),3)}();void 0!==n&&(a=n);const c=r?a:n;if(0===c)return 0;if(r){if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2}if(e&&!t&&void 0===c)return 0;const l=c||0;if("dumb"===o.TERM)return l;if("win32"===process.platform){const e=i.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((e=>e in o))||"codeship"===o.CI_NAME?1:l;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const e=Number.parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:l}(e,{streamIsTTY:e&&e.isTTY,...t}))&&{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3};var r}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?a=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(a=1),e.exports={supportsColor:c,stdout:c({isTTY:n.isatty(1)}),stderr:c({isTTY:n.isatty(2)})}},9248:e=>{"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":1===e.length?"-":"--",i=t.indexOf(r+e),n=t.indexOf("--");return-1!==i&&(-1===n||i<n)}},8117:(e,t,r)=>{var i=r(7619),n=r(2623),s=r(3171),o=r(8379),a=r(7147),c=r(1017),l="win32"===r(2037).platform(),u=function(){},h=function(e){return e},d=l?function(e){return e.replace(/\\/g,"/").replace(/[:?<>|]/g,"_")}:h,f=function(e,t){return function(r){r.name=r.name.split("/").slice(t).join("/");var i=r.linkname;return i&&("link"===r.type||c.isAbsolute(i))&&(r.linkname=i.split("/").slice(t).join("/")),e(r)}};t.pack=function(e,t){e||(e="."),t||(t={});var r=t.fs||a,i=t.ignore||t.filter||u,o=t.map||u,l=t.mapStream||h,m=function(e,t,r,i,n,s){var o=n||["."];return function(n){if(!o.length)return n();var a=o.shift(),l=c.join(r,a);t.call(e,l,(function(t,u){return t?n(t):u.isDirectory()?void e.readdir(l,(function(e,t){if(e)return n(e);s&&t.sort();for(var l=0;l<t.length;l++)i(c.join(r,a,t[l]))||o.push(c.join(a,t[l]));n(null,a,u)})):n(null,a,u)}))}}(r,t.dereference?r.stat:r.lstat,e,i,t.entries,t.sort),g=!1!==t.strict,y="number"==typeof t.umask?~t.umask:~p(),_="number"==typeof t.dmode?t.dmode:0,b="number"==typeof t.fmode?t.fmode:0,w=t.pack||n.pack(),v=t.finish||u;t.strip&&(o=f(o,t.strip)),t.readable&&(_|=parseInt(555,8),b|=parseInt(444,8)),t.writable&&(_|=parseInt(333,8),b|=parseInt(222,8));var k=function(i,n,a){if(i)return w.destroy(i);if(!n)return!1!==t.finalize&&w.finalize(),v(w);if(a.isSocket())return S();var u={name:d(n),mode:(a.mode|(a.isDirectory()?_:b))&y,mtime:a.mtime,size:a.size,type:"file",uid:a.uid,gid:a.gid};if(a.isDirectory())return u.size=0,u.type="directory",u=o(u)||u,w.entry(u,S);if(a.isSymbolicLink())return u.size=0,u.type="symlink",function(t,i){r.readlink(c.join(e,t),(function(e,t){if(e)return w.destroy(e);i.linkname=d(t),w.entry(i,S)}))}(n,u=o(u)||u);if(u=o(u)||u,!a.isFile())return g?w.destroy(new Error("unsupported type for "+n)):S();var h=w.entry(u,S);if(h){var f=l(r.createReadStream(c.join(e,n),{start:0,end:u.size>0?u.size-1:u.size}),u);f.on("error",(function(e){h.destroy(e)})),s(f,h)}},S=function(e){if(e)return w.destroy(e);m(k)};return S(),w};var p=function(){return process.umask?process.umask():0};function m(e,t,r,i){if(t===r)return i(null,!0);e.lstat(t,(function(n,s){return n&&"ENOENT"!==n.code?i(n):n||s.isDirectory()?m(e,c.join(t,".."),r,i):void i(null,!1)}))}function g(e,t,r){o(e,{fs:t.fs},(function(e,n){!e&&n&&t.own?i(n,t.uid,t.gid,r):r(e)}))}t.extract=function(e,t){e||(e="."),t||(t={});var r=t.fs||a,i=t.ignore||t.filter||u,o=t.map||u,y=t.mapStream||h,_=!1!==t.chown&&!l&&0===(process.getuid?process.getuid():-1),b=t.extract||n.extract(),w=[],v=new Date,k="number"==typeof t.umask?~t.umask:~p(),S="number"==typeof t.dmode?t.dmode:0,E="number"==typeof t.fmode?t.fmode:0,x=!1!==t.strict;t.strip&&(o=f(o,t.strip)),t.readable&&(S|=parseInt(555,8),E|=parseInt(444,8)),t.writable&&(S|=parseInt(333,8),E|=parseInt(222,8));var C=function(e,t){for(var i,n;(i=(n=w).length?n[n.length-1]:null)&&e.slice(0,i[0].length)!==i[0];)w.pop();if(!i)return t();r.utimes(i[0],v,i[1],t)};return b.on("entry",(function(n,a,u){(n=o(n)||n).name=d(n.name);var h=c.join(e,c.join("/",n.name));if(i(h,n))return a.resume(),u();var f=function(e){if(e)return u(e);!function(e,i,n){!1===t.utimes?n():"directory"===i.type?r.utimes(e,v,i.mtime,n):"symlink"===i.type?C(e,n):r.utimes(e,v,i.mtime,(function(t){if(t)return n(t);C(e,n)}))}(h,n,(function(e){return e?u(e):l?u():void function(e,t,i){var n="symlink"===t.type,s=n?r.lchmod:r.chmod,o=n?r.lchown:r.chown;if(!s)return i();var a=(t.mode|("directory"===t.type?S:E))&k;function c(t){return t?i(t):s?void s.call(r,e,a,i):i()}o&&_?o.call(r,e,t.uid,t.gid,c):c(null)}(h,n,u)}))},p=function(){var e=r.createWriteStream(h),t=y(a,n);e.on("error",(function(e){t.destroy(e)})),s(t,e,(function(t){if(t)return u(t);e.on("close",f)}))};if("directory"===n.type)return w.push([h,n.mtime]),g(h,{fs:r,own:_,uid:n.uid,gid:n.gid},f);var b=c.dirname(h);m(r,b,c.join(e,"."),(function(i,s){return i?u(i):s?void g(b,{fs:r,own:_,uid:n.uid,gid:n.gid},(function(i){if(i)return u(i);switch(n.type){case"file":return p();case"link":return function(){if(l)return u();r.unlink(h,(function(){var i=c.join(e,c.join("/",n.linkname));r.link(i,h,(function(e){if(e&&"EPERM"===e.code&&t.hardlinkAsFilesFallback)return a=r.createReadStream(i),p();f(e)}))}))}();case"symlink":return function(){if(l)return u();r.unlink(h,(function(){r.symlink(n.linkname,h,f)}))}()}if(x)return u(new Error("unsupported type for "+h+" ("+n.type+")"));a.resume(),u()})):u(new Error(b+" is not a valid path"))}))})),t.finish&&b.on("finish",t.finish),b}},7619:(e,t,r)=>{"use strict";const i=r(7147),n=r(1017),s=i.lchown?"lchown":"chown",o=i.lchownSync?"lchownSync":"chownSync",a=i.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),c=(e,t,r)=>{try{return i[o](e,t,r)}catch(e){if("ENOENT"!==e.code)throw e}},l=a?(e,t,r,n)=>s=>{s&&"EISDIR"===s.code?i.chown(e,t,r,n):n(s)}:(e,t,r,i)=>i,u=a?(e,t,r)=>{try{return c(e,t,r)}catch(n){if("EISDIR"!==n.code)throw n;((e,t,r)=>{try{i.chownSync(e,t,r)}catch(e){if("ENOENT"!==e.code)throw e}})(e,t,r)}}:(e,t,r)=>c(e,t,r),h=process.version;let d=(e,t,r)=>i.readdir(e,t,r);/^v4\./.test(h)&&(d=(e,t,r)=>i.readdir(e,r));const f=(e,t,r,n)=>{i[s](e,t,r,l(e,t,r,(e=>{n(e&&"ENOENT"!==e.code?e:null)})))},p=(e,t,r,s,o)=>{if("string"==typeof t)return i.lstat(n.resolve(e,t),((i,n)=>{if(i)return o("ENOENT"!==i.code?i:null);n.name=t,p(e,n,r,s,o)}));if(t.isDirectory())m(n.resolve(e,t.name),r,s,(i=>{if(i)return o(i);const a=n.resolve(e,t.name);f(a,r,s,o)}));else{const i=n.resolve(e,t.name);f(i,r,s,o)}},m=(e,t,r,i)=>{d(e,{withFileTypes:!0},((n,s)=>{if(n){if("ENOENT"===n.code)return i();if("ENOTDIR"!==n.code&&"ENOTSUP"!==n.code)return i(n)}if(n||!s.length)return f(e,t,r,i);let o=s.length,a=null;const c=n=>{if(!a)return n?i(a=n):0==--o?f(e,t,r,i):void 0};s.forEach((i=>p(e,i,t,r,c)))}))},g=(e,t,r)=>{let s;try{s=((e,t)=>i.readdirSync(e,{withFileTypes:!0}))(e)}catch(i){if("ENOENT"===i.code)return;if("ENOTDIR"===i.code||"ENOTSUP"===i.code)return u(e,t,r);throw i}return s&&s.length&&s.forEach((s=>((e,t,r,s)=>{if("string"==typeof t)try{const r=i.lstatSync(n.resolve(e,t));r.name=t,t=r}catch(e){if("ENOENT"===e.code)return;throw e}t.isDirectory()&&g(n.resolve(e,t.name),r,s),u(n.resolve(e,t.name),r,s)})(e,s,t,r))),u(e,t,r)};e.exports=m,m.sync=g},9254:(e,t,r)=>{var i=r(3837),n=r(9050),s=r(8066),o=r(8603).Writable,a=r(8603).PassThrough,c=function(){},l=function(e){return(e&=511)&&512-e},u=function(e,t){this._parent=e,this.offset=t,a.call(this,{autoDestroy:!1})};i.inherits(u,a),u.prototype.destroy=function(e){this._parent.destroy(e)};var h=function(e){if(!(this instanceof h))return new h(e);o.call(this,e),e=e||{},this._offset=0,this._buffer=n(),this._missing=0,this._partial=!1,this._onparse=c,this._header=null,this._stream=null,this._overflow=null,this._cb=null,this._locked=!1,this._destroyed=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null;var t=this,r=t._buffer,i=function(){t._continue()},a=function(e){if(t._locked=!1,e)return t.destroy(e);t._stream||i()},d=function(){t._stream=null;var e=l(t._header.size);e?t._parse(e,f):t._parse(512,_),t._locked||i()},f=function(){t._buffer.consume(l(t._header.size)),t._parse(512,_),i()},p=function(){var e=t._header.size;t._paxGlobal=s.decodePax(r.slice(0,e)),r.consume(e),d()},m=function(){var e=t._header.size;t._pax=s.decodePax(r.slice(0,e)),t._paxGlobal&&(t._pax=Object.assign({},t._paxGlobal,t._pax)),r.consume(e),d()},g=function(){var i=t._header.size;this._gnuLongPath=s.decodeLongPath(r.slice(0,i),e.filenameEncoding),r.consume(i),d()},y=function(){var i=t._header.size;this._gnuLongLinkPath=s.decodeLongPath(r.slice(0,i),e.filenameEncoding),r.consume(i),d()},_=function(){var n,o=t._offset;try{n=t._header=s.decode(r.slice(0,512),e.filenameEncoding,e.allowUnknownFormat)}catch(e){t.emit("error",e)}return r.consume(512),n?"gnu-long-path"===n.type?(t._parse(n.size,g),void i()):"gnu-long-link-path"===n.type?(t._parse(n.size,y),void i()):"pax-global-header"===n.type?(t._parse(n.size,p),void i()):"pax-header"===n.type?(t._parse(n.size,m),void i()):(t._gnuLongPath&&(n.name=t._gnuLongPath,t._gnuLongPath=null),t._gnuLongLinkPath&&(n.linkname=t._gnuLongLinkPath,t._gnuLongLinkPath=null),t._pax&&(t._header=n=function(e,t){return t.path&&(e.name=t.path),t.linkpath&&(e.linkname=t.linkpath),t.size&&(e.size=parseInt(t.size,10)),e.pax=t,e}(n,t._pax),t._pax=null),t._locked=!0,n.size&&"directory"!==n.type?(t._stream=new u(t,o),t.emit("entry",n,t._stream,a),t._parse(n.size,d),void i()):(t._parse(512,_),void t.emit("entry",n,function(e,t){var r=new u(e,t);return r.end(),r}(t,o),a))):(t._parse(512,_),void i())};this._onheader=_,this._parse(512,_)};i.inherits(h,o),h.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.emit("close"))},h.prototype._parse=function(e,t){this._destroyed||(this._offset+=e,this._missing=e,t===this._onheader&&(this._partial=!1),this._onparse=t)},h.prototype._continue=function(){if(!this._destroyed){var e=this._cb;this._cb=c,this._overflow?this._write(this._overflow,void 0,e):e()}},h.prototype._write=function(e,t,r){if(!this._destroyed){var i=this._stream,n=this._buffer,s=this._missing;if(e.length&&(this._partial=!0),e.length<s)return this._missing-=e.length,this._overflow=null,i?i.write(e,r):(n.append(e),r());this._cb=r,this._missing=0;var o=null;e.length>s&&(o=e.slice(s),e=e.slice(0,s)),i?i.end(e):n.append(e),this._overflow=o,this._onparse()}},h.prototype._final=function(e){if(this._partial)return this.destroy(new Error("Unexpected end of data"));e()},e.exports=h},8066:(e,t)=>{var r=Buffer.alloc,i="0".charCodeAt(0),n=Buffer.from("ustar\0","binary"),s=Buffer.from("00","binary"),o=Buffer.from("ustar ","binary"),a=Buffer.from(" \0","binary"),c=parseInt("7777",8),l=function(e,t,r,i){for(;r<i;r++)if(e[r]===t)return r;return i},u=function(e){for(var t=256,r=0;r<148;r++)t+=e[r];for(var i=156;i<512;i++)t+=e[i];return t},h=function(e,t){return(e=e.toString(8)).length>t?"7777777777777777777".slice(0,t)+" ":"0000000000000000000".slice(0,t-e.length)+e+" "},d=function(e,t,r){if(128&(e=e.slice(t,t+r))[t=0])return function(e){var t;if(128===e[0])t=!0;else{if(255!==e[0])return null;t=!1}for(var r=[],i=e.length-1;i>0;i--){var n=e[i];t?r.push(n):r.push(255-n)}var s=0,o=r.length;for(i=0;i<o;i++)s+=r[i]*Math.pow(256,i);return t?s:-1*s}(e);for(;t<e.length&&32===e[t];)t++;for(var i=(n=l(e,32,t,e.length),s=e.length,o=e.length,"number"!=typeof n?o:(n=~~n)>=s?s:n>=0||(n+=s)>=0?n:0);t<i&&0===e[t];)t++;return i===t?0:parseInt(e.slice(t,i).toString(),8);var n,s,o},f=function(e,t,r,i){return e.slice(t,l(e,0,t,t+r)).toString(i)},p=function(e){var t=Buffer.byteLength(e),r=Math.floor(Math.log(t)/Math.log(10))+1;return t+r>=Math.pow(10,r)&&r++,t+r+e};t.decodeLongPath=function(e,t){return f(e,0,e.length,t)},t.encodePax=function(e){var t="";e.name&&(t+=p(" path="+e.name+"\n")),e.linkname&&(t+=p(" linkpath="+e.linkname+"\n"));var r=e.pax;if(r)for(var i in r)t+=p(" "+i+"="+r[i]+"\n");return Buffer.from(t)},t.decodePax=function(e){for(var t={};e.length;){for(var r=0;r<e.length&&32!==e[r];)r++;var i=parseInt(e.slice(0,r).toString(),10);if(!i)return t;var n=e.slice(r+1,i-1).toString(),s=n.indexOf("=");if(-1===s)return t;t[n.slice(0,s)]=n.slice(s+1),e=e.slice(i)}return t},t.encode=function(e){var t=r(512),o=e.name,a="";if(5===e.typeflag&&"/"!==o[o.length-1]&&(o+="/"),Buffer.byteLength(o)!==o.length)return null;for(;Buffer.byteLength(o)>100;){var l=o.indexOf("/");if(-1===l)return null;a+=a?"/"+o.slice(0,l):o.slice(0,l),o=o.slice(l+1)}return Buffer.byteLength(o)>100||Buffer.byteLength(a)>155||e.linkname&&Buffer.byteLength(e.linkname)>100?null:(t.write(o),t.write(h(e.mode&c,6),100),t.write(h(e.uid,6),108),t.write(h(e.gid,6),116),t.write(h(e.size,11),124),t.write(h(e.mtime.getTime()/1e3|0,11),136),t[156]=i+function(e){switch(e){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}(e.type),e.linkname&&t.write(e.linkname,157),n.copy(t,257),s.copy(t,263),e.uname&&t.write(e.uname,265),e.gname&&t.write(e.gname,297),t.write(h(e.devmajor||0,6),329),t.write(h(e.devminor||0,6),337),a&&t.write(a,345),t.write(h(u(t),6),148),t)},t.decode=function(e,t,r){var s=0===e[156]?0:e[156]-i,c=f(e,0,100,t),l=d(e,100,8),h=d(e,108,8),p=d(e,116,8),m=d(e,124,12),g=d(e,136,12),y=function(e){switch(e){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}(s),_=0===e[157]?null:f(e,157,100,t),b=f(e,265,32),w=f(e,297,32),v=d(e,329,8),k=d(e,337,8),S=u(e);if(256===S)return null;if(S!==d(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(0===n.compare(e,257,263))e[345]&&(c=f(e,345,155,t)+"/"+c);else if(0===o.compare(e,257,263)&&0===a.compare(e,263,265));else if(!r)throw new Error("Invalid tar header: unknown format.");return 0===s&&c&&"/"===c[c.length-1]&&(s=5),{name:c,mode:l,uid:h,gid:p,size:m,mtime:new Date(1e3*g),type:y,linkname:_,uname:b,gname:w,devmajor:v,devminor:k}}},2623:(e,t,r)=>{t.extract=r(9254),t.pack=r(4132)},4305:e=>{"use strict";const t={};function r(e,r,i){i||(i=Error);class n extends i{constructor(e,t,i){super(function(e,t,i){return"string"==typeof r?r:r(e,t,i)}(e,t,i))}}n.prototype.name=i.name,n.prototype.code=e,t[e]=n}function i(e,t){if(Array.isArray(e)){const r=e.length;return e=e.map((e=>String(e))),r>2?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){let n;var s;let o;if("string"==typeof t&&(s="not ",t.substr(0,s.length)===s)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))o=`The ${e} ${n} ${i(t,"type")}`;else{o=`The "${e}" ${"number"!=typeof c&&(c=0),c+".".length>(a=e).length||-1===a.indexOf(".",c)?"argument":"property"} ${n} ${i(t,"type")}`}var a,c;return o+=". Received type "+typeof r,o}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},7504:(e,t,r)=>{"use strict";var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=l;var n=r(6340),s=r(5642);r(8874)(l,n);for(var o=i(s.prototype),a=0;a<o.length;a++){var c=o[a];l.prototype[c]||(l.prototype[c]=s.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);n.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||process.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},5183:(e,t,r)=>{"use strict";e.exports=n;var i=r(5724);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}r(8874)(n,i),n.prototype._transform=function(e,t,r){r(null,e)}},6340:(e,t,r)=>{"use strict";var i;e.exports=E,E.ReadableState=S,r(2361).EventEmitter;var n,s=function(e,t){return e.listeners(t).length},o=r(692),a=r(4300).Buffer,c=global.Uint8Array||function(){},l=r(3837);n=l&&l.debuglog?l.debuglog("stream"):function(){};var u,h,d,f=r(2939),p=r(15),m=r(450).getHighWaterMark,g=r(4305).q,y=g.ERR_INVALID_ARG_TYPE,_=g.ERR_STREAM_PUSH_AFTER_EOF,b=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(8874)(E,o);var v=p.errorOrDestroy,k=["error","close","destroy","pause","resume"];function S(e,t,n){i=i||r(7504),e=e||{},"boolean"!=typeof n&&(n=t instanceof i),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=m(this,e,"readableHighWaterMark",n),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(u||(u=r(1379).s),this.decoder=new u(e.encoding),this.encoding=e.encoding)}function E(e){if(i=i||r(7504),!(this instanceof E))return new E(e);var t=this instanceof i;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function x(e,t,r,i,s){n("readableAddChunk",t);var o,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(n("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}}(e,l);else if(s||(o=function(e,t){var r,i;return i=t,a.isBuffer(i)||i instanceof c||"string"==typeof t||void 0===t||e.objectMode||(r=new y("chunk",["string","Buffer","Uint8Array"],t)),r}(l,t)),o)v(e,o);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),i)l.endEmitted?v(e,new w):C(e,l,t,!0);else if(l.ended)v(e,new _);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!r?(t=l.decoder.write(t),l.objectMode||0!==t.length?C(e,l,t,!1):O(e,l)):C(e,l,t,!1)}else i||(l.reading=!1,O(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function C(e,t,r,i){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&R(e)),O(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=p.destroy,E.prototype._undestroy=p.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,i=this._readableState;return i.objectMode?r=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=a.from(e,t),t=""),r=!0),x(this,e,t,!1,r)},E.prototype.unshift=function(e){return x(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(e){u||(u=r(1379).s);var t=new u(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var i=this._readableState.buffer.head,n="";null!==i;)n+=t.write(i.data),i=i.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var T=1073741824;function M(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e){var t=e._readableState;n("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(n("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(P,e))}function P(e){var t=e._readableState;n("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function O(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(A,e,t))}function A(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(n("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function I(e){n("readable nexttick read 0"),e.read(0)}function N(e,t){n("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(n("flow",t.flowing);t.flowing&&null!==e.read(););}function j(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function D(e){var t=e._readableState;n("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(B,t,e))}function B(e,t){if(n("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function q(e,t){for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){n("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return n("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?D(this):R(this),null;if(0===(e=M(e,t))&&t.ended)return 0===t.length&&D(this),null;var i,s=t.needReadable;return n("need readable",s),(0===t.length||t.length-e<t.highWaterMark)&&n("length less than watermark",s=!0),t.ended||t.reading?n("reading or ended",s=!1):s&&(n("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=M(r,t))),null===(i=e>0?j(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&D(this)),null!==i&&this.emit("data",i),i},E.prototype._read=function(e){v(this,new b("_read()"))},E.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,n("pipe count=%d opts=%j",i.pipesCount,t);var o=t&&!1===t.end||e===process.stdout||e===process.stderr?p:a;function a(){n("onend"),e.end()}i.endEmitted?process.nextTick(o):r.once("end",o),e.on("unpipe",(function t(s,o){n("onunpipe"),s===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,n("cleanup"),e.removeListener("close",d),e.removeListener("finish",f),e.removeListener("drain",c),e.removeListener("error",h),e.removeListener("unpipe",t),r.removeListener("end",a),r.removeListener("end",p),r.removeListener("data",u),l=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;n("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,F(e))}}(r);e.on("drain",c);var l=!1;function u(t){n("ondata");var s=e.write(t);n("dest.write",s),!1===s&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==q(i.pipes,e))&&!l&&(n("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function h(t){n("onerror",t),p(),e.removeListener("error",h),0===s(e,"error")&&v(e,t)}function d(){e.removeListener("finish",f),p()}function f(){n("onfinish"),e.removeListener("close",d),p()}function p(){n("unpipe"),r.unpipe(e)}return r.on("data",u),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events.error?Array.isArray(e._events.error)?e._events.error.unshift(r):e._events.error=[r,e._events.error]:e.on(t,r)}(e,"error",h),e.once("close",d),e.once("finish",f),e.emit("pipe",r),i.flowing||(n("pipe resume"),r.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var i=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:!1});return this}var o=q(t.pipes,e);return-1===o||(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},E.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,n("on readable",i.length,i.reading),i.length?R(this):i.reading||process.nextTick(I,this))),r},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var r=o.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(L,this),r},E.prototype.removeAllListeners=function(e){var t=o.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(L,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(n("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(N,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return n("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(n("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,i=!1;for(var s in e.on("end",(function(){if(n("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(s){n("wrapped data"),r.decoder&&(s=r.decoder.write(s)),r.objectMode&&null==s||(r.objectMode||s&&s.length)&&(t.push(s)||(i=!0,e.pause()))})),e)void 0===this[s]&&"function"==typeof e[s]&&(this[s]=function(t){return function(){return e[t].apply(e,arguments)}}(s));for(var o=0;o<k.length;o++)e.on(k[o],this.emit.bind(this,k[o]));return this._read=function(t){n("wrapped _read",t),i&&(i=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(3058)),h(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=j,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(e,t){return void 0===d&&(d=r(4341)),d(E,e,t)})},5724:(e,t,r)=>{"use strict";e.exports=u;var i=r(4305).q,n=i.ERR_METHOD_NOT_IMPLEMENTED,s=i.ERR_MULTIPLE_CALLBACK,o=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,c=r(7504);function l(e,t){var r=this._transformState;r.transforming=!1;var i=r.writecb;if(null===i)return this.emit("error",new s);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),i(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,r){d(e,t,r)}))}function d(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new o;return e.push(null)}r(8874)(u,c),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,c.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new n("_transform()"))},u.prototype._write=function(e,t,r){var i=this._transformState;if(i.writecb=r,i.writechunk=e,i.writeencoding=t,!i.transforming){var n=this._readableState;(i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){c.prototype._destroy.call(this,e,(function(e){t(e)}))}},5642:(e,t,r)=>{"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var i=e.entry;for(e.entry=null;i;){var n=i.callback;t.pendingcb--,n(undefined),i=i.next}t.corkedRequestsFree.next=e}(t,e)}}var n;e.exports=E,E.WritableState=S;var s,o={deprecate:r(3854)},a=r(692),c=r(4300).Buffer,l=global.Uint8Array||function(){},u=r(15),h=r(450).getHighWaterMark,d=r(4305).q,f=d.ERR_INVALID_ARG_TYPE,p=d.ERR_METHOD_NOT_IMPLEMENTED,m=d.ERR_MULTIPLE_CALLBACK,g=d.ERR_STREAM_CANNOT_PIPE,y=d.ERR_STREAM_DESTROYED,_=d.ERR_STREAM_NULL_VALUES,b=d.ERR_STREAM_WRITE_AFTER_END,w=d.ERR_UNKNOWN_ENCODING,v=u.errorOrDestroy;function k(){}function S(e,t,s){n=n||r(7504),e=e||{},"boolean"!=typeof s&&(s=t instanceof n),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var o=!1===e.decodeStrings;this.decodeStrings=!o,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,i=r.sync,n=r.writecb;if("function"!=typeof n)throw new m;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,i,n){--t.pendingcb,r?(process.nextTick(n,i),process.nextTick(P,e,t),e._writableState.errorEmitted=!0,v(e,i)):(n(i),e._writableState.errorEmitted=!0,v(e,i),P(e,t))}(e,r,i,t,n);else{var s=M(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||T(e,r),i?process.nextTick(C,e,r,s,n):C(e,r,s,n)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function E(e){var t=this instanceof(n=n||r(7504));if(!t&&!s.call(E,this))return new E(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),a.call(this)}function x(e,t,r,i,n,s,o){t.writelen=i,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new y("write")):r?e._writev(n,t.onwrite):e._write(n,s,t.onwrite),t.sync=!1}function C(e,t,r,i){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,i(),P(e,t)}function T(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,s=new Array(n),o=t.corkedRequestsFree;o.entry=r;for(var a=0,c=!0;r;)s[a]=r,r.isBuf||(c=!1),r=r.next,a+=1;s.allBuffers=c,x(e,t,!0,t.length,s,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,u=r.encoding,h=r.callback;if(x(e,t,!1,t.objectMode?1:l.length,l,u,h),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function M(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function R(e,t){e._final((function(r){t.pendingcb--,r&&v(e,r),t.prefinished=!0,e.emit("prefinish"),P(e,t)}))}function P(e,t){var r=M(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(R,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}r(8874)(E,a),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:o.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===E&&e&&e._writableState instanceof S}})):s=function(e){return e instanceof this},E.prototype.pipe=function(){v(this,new g)},E.prototype.write=function(e,t,r){var i,n=this._writableState,s=!1,o=!n.objectMode&&(i=e,c.isBuffer(i)||i instanceof l);return o&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=k),n.ending?function(e,t){var r=new b;v(e,r),process.nextTick(t,r)}(this,r):(o||function(e,t,r,i){var n;return null===r?n=new _:"string"==typeof r||t.objectMode||(n=new f("chunk",["string","Buffer"],r)),!n||(v(e,n),process.nextTick(i,n),!1)}(this,n,e,r))&&(n.pendingcb++,s=function(e,t,r,i,n,s){if(!r){var o=function(e,t,r){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,r)),t}(t,i,n);i!==o&&(r=!0,n="buffer",i=o)}var a=t.objectMode?1:i.length;t.length+=a;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else x(e,t,!1,a,i,n,s);return l}(this,n,o,e,t,r)),s},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new p("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var i=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,r){t.ending=!0,P(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r)),t.ended=!0,e.writable=!1}(this,i,r),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=u.destroy,E.prototype._undestroy=u.undestroy,E.prototype._destroy=function(e,t){t(e)}},3058:(e,t,r)=>{"use strict";var i;function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r(9670),o=Symbol("lastResolve"),a=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function f(e,t){return{value:e,done:t}}function p(e){var t=e[o];if(null!==t){var r=e[d].read();null!==r&&(e[u]=null,e[o]=null,e[a]=null,t(f(r,!1)))}}function m(e){process.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((n(i={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(f(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){process.nextTick((function(){e[c]?r(e[c]):t(f(void 0,!0))}))}));var r,i=this[u];if(i)r=new Promise(function(e,t){return function(r,i){e.then((function(){t[l]?r(f(void 0,!0)):t[h](r,i)}),i)}}(i,this));else{var n=this[d].read();if(null!==n)return Promise.resolve(f(n,!1));r=new Promise(this[h])}return this[u]=r,r}},Symbol.asyncIterator,(function(){return this})),n(i,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(f(void 0,!0))}))}))})),i),g);e.exports=function(e){var t,r=Object.create(y,(n(t={},d,{value:e,writable:!0}),n(t,o,{value:null,writable:!0}),n(t,a,{value:null,writable:!0}),n(t,c,{value:null,writable:!0}),n(t,l,{value:e._readableState.endEmitted,writable:!0}),n(t,h,{value:function(e,t){var i=r[d].read();i?(r[u]=null,r[o]=null,r[a]=null,e(f(i,!1))):(r[o]=e,r[a]=t)},writable:!0}),t));return r[u]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[a];return null!==t&&(r[u]=null,r[o]=null,r[a]=null,t(e)),void(r[c]=e)}var i=r[o];null!==i&&(r[u]=null,r[o]=null,r[a]=null,i(f(void 0,!0))),r[l]=!0})),e.on("readable",m.bind(null,r)),r}},2939:(e,t,r)=>{"use strict";function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=r(4300).Buffer,a=r(3837).inspect,c=a&&a.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r;return t=e,r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,i,n=o.allocUnsafe(e>>>0),s=this.head,a=0;s;)t=s.data,r=n,i=a,o.prototype.copy.call(t,r,i),a+=s.data.length,s=s.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,i=t.data;for(e-=i.length;t=t.next;){var n=t.data,s=e>n.length?n.length:e;if(s===n.length?i+=n:i+=n.slice(0,e),0==(e-=s)){s===n.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=n.slice(s));break}++r}return this.length-=r,i}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,i=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var n=r.data,s=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,s),0==(e-=s)){s===n.length?(++i,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=n.slice(s));break}++i}return this.length-=i,t}},{key:c,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}],r&&s(t.prototype,r),e}()},15:e=>{"use strict";function t(e,t){i(e,t),r(e)}function r(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,n){var s=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(n?n(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,e)):process.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!n&&e?s._writableState?s._writableState.errorEmitted?process.nextTick(r,s):(s._writableState.errorEmitted=!0,process.nextTick(t,s,e)):process.nextTick(t,s,e):n?(process.nextTick(r,s),n(e)):process.nextTick(r,s)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,i=e._writableState;r&&r.autoDestroy||i&&i.autoDestroy?e.destroy(t):e.emit("error",t)}}},9670:(e,t,r)=>{"use strict";var i=r(4305).q.ERR_STREAM_PREMATURE_CLOSE;function n(){}e.exports=function e(t,r,s){if("function"==typeof r)return e(t,null,r);r||(r={}),s=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];e.apply(this,i)}}}(s||n);var o=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,c=function(){t.writable||u()},l=t._writableState&&t._writableState.finished,u=function(){a=!1,l=!0,o||s.call(t)},h=t._readableState&&t._readableState.endEmitted,d=function(){o=!1,h=!0,a||s.call(t)},f=function(e){s.call(t,e)},p=function(){var e;return o&&!h?(t._readableState&&t._readableState.ended||(e=new i),s.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new i),s.call(t,e)):void 0},m=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",p),t.req?m():t.on("request",m)):a&&!t._writableState&&(t.on("end",c),t.on("close",c)),t.on("end",d),t.on("finish",u),!1!==r.error&&t.on("error",f),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",m),t.req&&t.req.removeListener("finish",u),t.removeListener("end",c),t.removeListener("close",c),t.removeListener("finish",u),t.removeListener("end",d),t.removeListener("error",f),t.removeListener("close",p)}}},4341:(e,t,r)=>{"use strict";function i(e,t,r,i,n,s,o){try{var a=e[s](o),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(i,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var o=e.apply(t,r);function a(e){i(o,n,s,a,c,"next",e)}function c(e){i(o,n,s,a,c,"throw",e)}a(void 0)}))}}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=r(4305).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){var i;if(t&&"function"==typeof t.next)i=t;else if(t&&t[Symbol.asyncIterator])i=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new a("iterable",["Iterable"],t);i=t[Symbol.iterator]()}var c=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({objectMode:!0},r)),l=!1;function u(){return h.apply(this,arguments)}function h(){return(h=n((function*(){try{var e=yield i.next(),t=e.value;e.done?c.push(null):c.push(yield t)?u():l=!1}catch(e){c.destroy(e)}}))).apply(this,arguments)}return c._read=function(){l||(l=!0,u())},c}},8749:(e,t,r)=>{"use strict";var i,n=r(4305).q,s=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function c(e,t,n,s){s=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(s);var a=!1;e.on("close",(function(){a=!0})),void 0===i&&(i=r(9670)),i(e,{readable:t,writable:n},(function(e){if(e)return s(e);a=!0,s()}));var c=!1;return function(t){if(!a&&!c)return c=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void s(t||new o("pipe"))}}function l(e){e()}function u(e,t){return e.pipe(t)}function h(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i,n=h(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new s("streams");var o=t.map((function(e,r){var s=r<t.length-1;return c(e,s,r>0,(function(e){i||(i=e),e&&o.forEach(l),s||(o.forEach(l),n(i))}))}));return t.reduce(u)}},450:(e,t,r)=>{"use strict";var i=r(4305).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,n){var s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,n,r);if(null!=s){if(!isFinite(s)||Math.floor(s)!==s||s<0)throw new i(n?r:"highWaterMark",s);return Math.floor(s)}return e.objectMode?16:16384}}},692:(e,t,r)=>{e.exports=r(2781)},8603:(e,t,r)=>{var i=r(2781);"disable"===process.env.READABLE_STREAM&&i?(e.exports=i.Readable,Object.assign(e.exports,i),e.exports.Stream=i):((t=e.exports=r(6340)).Stream=i||t,t.Readable=t,t.Writable=r(5642),t.Duplex=r(7504),t.Transform=r(5724),t.PassThrough=r(5183),t.finished=r(9670),t.pipeline=r(8749))},1379:(e,t,r)=>{"use strict";var i=r(7834).Buffer,n=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(i.isEncoding===n||!n(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:return this.write=d,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function o(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.s=s,s.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},s.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},s.prototype.text=function(e,t){var r=function(e,t,r){var i=t.length-1;if(i<r)return 0;var n=o(t[i]);return n>=0?(n>0&&(e.lastNeed=n-1),n):--i<r||-2===n?0:(n=o(t[i]))>=0?(n>0&&(e.lastNeed=n-2),n):--i<r||-2===n?0:(n=o(t[i]))>=0?(n>0&&(2===n?n=0:e.lastNeed=n-3),n):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,i),e.toString("utf8",t,i)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4132:(e,t,r)=>{var i=r(8526),n=r(8797),s=r(8874),o=Buffer.alloc,a=r(8603).Readable,c=r(8603).Writable,l=r(1576).StringDecoder,u=r(8066),h=parseInt("755",8),d=parseInt("644",8),f=o(1024),p=function(){},m=function(e,t){(t&=511)&&e.push(f.slice(0,512-t))},g=function(e){c.call(this),this.written=0,this._to=e,this._destroyed=!1};s(g,c),g.prototype._write=function(e,t,r){if(this.written+=e.length,this._to.push(e))return r();this._to._drain=r},g.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var y=function(){c.call(this),this.linkname="",this._decoder=new l("utf-8"),this._destroyed=!1};s(y,c),y.prototype._write=function(e,t,r){this.linkname+=this._decoder.write(e),r()},y.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var _=function(){c.call(this),this._destroyed=!1};s(_,c),_.prototype._write=function(e,t,r){r(new Error("No body allowed for this entry"))},_.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,this.emit("close"))};var b=function(e){if(!(this instanceof b))return new b(e);a.call(this,e),this._drain=p,this._finalized=!1,this._finalizing=!1,this._destroyed=!1,this._stream=null};s(b,a),b.prototype.entry=function(e,t,r){if(this._stream)throw new Error("already piping an entry");if(!this._finalized&&!this._destroyed){"function"==typeof t&&(r=t,t=null),r||(r=p);var s=this;if(e.size&&"symlink"!==e.type||(e.size=0),e.type||(e.type=function(e){switch(e&i.S_IFMT){case i.S_IFBLK:return"block-device";case i.S_IFCHR:return"character-device";case i.S_IFDIR:return"directory";case i.S_IFIFO:return"fifo";case i.S_IFLNK:return"symlink"}return"file"}(e.mode)),e.mode||(e.mode="directory"===e.type?h:d),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),"string"==typeof t&&(t=Buffer.from(t)),Buffer.isBuffer(t)){e.size=t.length,this._encode(e);var o=this.push(t);return m(s,e.size),o?process.nextTick(r):this._drain=r,new _}if("symlink"===e.type&&!e.linkname){var a=new y;return n(a,(function(t){if(t)return s.destroy(),r(t);e.linkname=a.linkname,s._encode(e),r()})),a}if(this._encode(e),"file"!==e.type&&"contiguous-file"!==e.type)return process.nextTick(r),new _;var c=new g(this);return this._stream=c,n(c,(function(t){return s._stream=null,t?(s.destroy(),r(t)):c.written!==e.size?(s.destroy(),r(new Error("size mismatch"))):(m(s,e.size),s._finalizing&&s.finalize(),void r())})),c}},b.prototype.finalize=function(){this._stream?this._finalizing=!0:this._finalized||(this._finalized=!0,this.push(f),this.push(null))},b.prototype.destroy=function(e){this._destroyed||(this._destroyed=!0,e&&this.emit("error",e),this.emit("close"),this._stream&&this._stream.destroy&&this._stream.destroy())},b.prototype._encode=function(e){if(!e.pax){var t=u.encode(e);if(t)return void this.push(t)}this._encodePax(e)},b.prototype._encodePax=function(e){var t=u.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),r={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(u.encode(r)),this.push(t),m(this,t.length),r.size=e.size,r.type=e.type,this.push(u.encode(r))},b.prototype._read=function(e){var t=this._drain;this._drain=p,t()},e.exports=b},2489:(e,t,r)=>{var i=r(2781);function n(e,t,r){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var n=!1,s=!1,o=[],a=!1,c=new i;function l(){for(;o.length&&!c.paused;){var e=o.shift();if(null===e)return c.emit("end");c.emit("data",e)}}function u(){c.writable=!1,t.call(c),!c.readable&&c.autoDestroy&&c.destroy()}return c.readable=c.writable=!0,c.paused=!1,c.autoDestroy=!(r&&!1===r.autoDestroy),c.write=function(t){return e.call(this,t),!c.paused},c.queue=c.push=function(e){return a||(null===e&&(a=!0),o.push(e),l()),c},c.on("end",(function(){c.readable=!1,!c.writable&&c.autoDestroy&&process.nextTick((function(){c.destroy()}))})),c.end=function(e){if(!n)return n=!0,arguments.length&&c.write(e),u(),c},c.destroy=function(){if(!s)return s=!0,n=!0,o.length=0,c.writable=c.readable=!1,c.emit("close"),c},c.pause=function(){if(!c.paused)return c.paused=!0,c},c.resume=function(){return c.paused&&(c.paused=!1,c.emit("resume")),l(),c.paused||c.emit("drain"),c},c}e.exports=n,n.through=n},4705:(e,t,r)=>{var i=r(2489),n=r(2870),s=r(5441);e.exports=function(){var e=[],t=0,r=0,o=!1,a=null,c=null;function l(e){if(!o)try{return function(t){if(r){var i=1e5*r,s=new Int32Array(i),o=[];return null===(c=n.decompress(a,(function(e){o.push(e)}),s,i,c))?(r=0,!1):(l=Buffer.from(o),e.queue(l),null!==l&&l.length,!0)}var l;return r=n.header(a),c=0,!0}()}catch(t){return e.emit("error",t),o=!0,!1}}return i((function(i){for(e.push(i),t+=i.length,null===a&&(a=s((function(){return e.shift()})));!o&&t-a.bytesRead+1>=(25e3+1e5*r||4);)l(this)}),(function(e){for(;!o&&a&&t>a.bytesRead;)l(this);o||(null!==c&&this.emit("error",new Error("input stream ended prematurely")),this.queue(null))}))}},5441:e=>{var t=[0,1,3,7,15,31,63,127,255];e.exports=function(e){var r=0,i=0,n=e(),s=function(o){if(null===o&&0!=r)return r=0,void i++;for(var a=0;o>0;){i>=n.length&&(i=0,n=e());var c=8-r;0===r&&o>0&&s.bytesRead++,o>=c?(a<<=c,a|=t[c]&n[i++],r=0,o-=c):(a<<=o,a|=(n[i]&t[o]<<8-o-r)>>8-o-r,r+=o,o=0)}return a};return s.bytesRead=0,s}},2870:e=>{function t(e){this.name="Bzip2Error",this.message=e,this.stack=(new Error).stack}t.prototype=new Error;var r=function(e){throw new t(e)},i={};i.Bzip2Error=t,i.crcTable=[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188],i.array=function(e){var t=0,r=0,i=[0,1,3,7,15,31,63,127,255];return function(n){for(var s=0;n>0;){var o=8-t;n>=o?(s<<=o,s|=i[o]&e[r++],t=0,n-=o):(s<<=n,s|=(e[r]&i[n]<<8-n-t)>>8-n-t,t+=n,n=0)}return s}},i.simple=function(e,t){var r=i.array(e),n=!1,s=1e5*i.header(r),o=new Int32Array(s);do{n=i.decompress(r,t,o,s)}while(!n)},i.header=function(e){this.byteCount=new Int32Array(256),this.symToByte=new Uint8Array(256),this.mtfSymbol=new Int32Array(256),this.selectors=new Uint8Array(32768),4348520!=e(24)&&r("No magic number found");var t=e(8)-48;return(t<1||t>9)&&r("Not a BZIP archive"),t},i.decompress=function(e,t,i,n,s){for(var o=-1,a="",c=0;c<6;c++)a+=e(8).toString(16);if("177245385090"==a)return(0|e(32))!==s&&r("Error in bzip2: crc32 do not match"),e(null),null;"314159265359"!=a&&r("eek not valid bzip data");var l=0|e(32);e(1)&&r("unsupported obsolete version");var u=e(24);u>n&&r("Initial position larger than buffer size");var h=e(16),d=0;for(c=0;c<16;c++)if(h&1<<15-c){var f=e(16);for(g=0;g<16;g++)f&1<<15-g&&(this.symToByte[d++]=16*c+g)}var p=e(3);(p<2||p>6)&&r("another error");var m=e(15);for(0==m&&r("meh"),c=0;c<p;c++)this.mtfSymbol[c]=c;for(c=0;c<m;c++){for(var g=0;e(1);g++)g>=p&&r("whoops another error");var y=this.mtfSymbol[g];for(f=g-1;f>=0;f--)this.mtfSymbol[f+1]=this.mtfSymbol[f];this.mtfSymbol[0]=y,this.selectors[c]=y}var _,b,w,v,k=d+2,S=[],E=new Uint8Array(258),x=new Uint16Array(21);for(g=0;g<p;g++){for(h=e(5),c=0;c<k;c++){for(;(h<1||h>20)&&r("I gave up a while ago on writing error messages"),e(1);)e(1)?h--:h++;E[c]=h}var C,T;for(C=T=E[0],c=1;c<k;c++)E[c]>T?T=E[c]:E[c]<C&&(C=E[c]);(_=S[g]={}).permute=new Int32Array(258),_.limit=new Int32Array(21),_.base=new Int32Array(21),_.minLen=C,_.maxLen=T;var M=_.base,R=_.limit,P=0;for(c=C;c<=T;c++)for(h=0;h<k;h++)E[h]==c&&(_.permute[P++]=h);for(c=C;c<=T;c++)x[c]=R[c]=0;for(c=0;c<k;c++)x[E[c]]++;for(P=h=0,c=C;c<T;c++)P+=x[c],R[c]=P-1,P<<=1,M[c+1]=P-(h+=x[c]);R[T]=P+x[T]-1,M[C]=0}for(c=0;c<256;c++)this.mtfSymbol[c]=c,this.byteCount[c]=0;for(b=w=k=v=0;;){for(k--||(k=49,v>=m&&r("meow i'm a kitty, that's an error"),M=(_=S[this.selectors[v++]]).base,R=_.limit),g=e(c=_.minLen);c>_.maxLen&&r("rawr i'm a dinosaur"),!(g<=R[c]);)c++,g=g<<1|e(1);((g-=M[c])<0||g>=258)&&r("moo i'm a cow");var O=_.permute[g];if(0!=O&&1!=O){if(b)for(b=0,w+h>n&&r("Boom."),y=this.symToByte[this.mtfSymbol[0]],this.byteCount[y]+=h;h--;)i[w++]=y;if(O>d)break;for(w>=n&&r("I can't think of anything. Error"),c=O-1,y=this.mtfSymbol[c],f=c-1;f>=0;f--)this.mtfSymbol[f+1]=this.mtfSymbol[f];this.mtfSymbol[0]=y,y=this.symToByte[y],this.byteCount[y]++,i[w++]=y}else b||(b=1,h=0),h+=0==O?b:2*b,b<<=1}for((u<0||u>=w)&&r("I'm a monkey and I'm throwing something at someone, namely you"),g=0,c=0;c<256;c++)f=g+this.byteCount[c],this.byteCount[c]=g,g=f;for(c=0;c<w;c++)y=255&i[c],i[this.byteCount[y]]|=c<<8,this.byteCount[y]++;var A,L,I,N=0,F=0,j=0;for(w&&(F=255&(N=i[u]),N>>=8,j=-1),w=w;w;){for(w--,L=F,F=255&(N=i[N]),N>>=8,3==j++?(A=F,I=L,F=-1):(A=1,I=F);A--;)o=4294967295&(o<<8^this.crcTable[255&(o>>24^I)]),t(I);F!=L&&(j=0)}return(0|(o=(-1^o)>>>0))!=(0|l)&&r("Error in bzip2: crc32 do not match"),4294967295&(o^(s<<1|s>>>31))},e.exports=i},3854:(e,t,r)=>{e.exports=r(3837).deprecate},3694:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(7233),n=r(9217);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None}),e.is=function(t){let r=t;return r&&(r===e.None||r===e.Cancelled||n.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const o=Object.freeze((function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}));class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?o:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this.cancel()}}},7233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}},function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class r{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var r=!1,i=0,n=this._callbacks.length;i<n;i++)if(this._callbacks[i]===e){if(this._contexts[i]===t)return this._callbacks.splice(i,1),void this._contexts.splice(i,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],r=this._callbacks.slice(0),i=this._contexts.slice(0),n=0,s=r.length;n<s;n++)try{t.push(r[n].apply(i[n],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{let s;return this._callbacks||(this._callbacks=new r),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t),s={dispose:()=>{this._callbacks.remove(e,t),s.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(s),s}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}i._noop=function(){},t.Emitter=i},9217:(e,t)=>{"use strict";function r(e){return"string"==typeof e||e instanceof String}function i(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=function(e){return!0===e||!1===e},t.string=r,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=i,t.stringArray=function(e){return i(e)&&e.every((e=>r(e)))}},2274:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(r=t.Touch||(t.Touch={})),t.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,i=r.None){let n=this._map.get(e);if(n)n.value=t,i!==r.None&&this.touch(n,i);else{switch(n={key:e,value:t,next:void 0,previous:void 0},i){case r.None:this.addItemLast(n);break;case r.First:this.addItemFirst(n);break;case r.Last:default:this.addItemLast(n)}this._map.set(e,n),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let r=this._head;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.next}forEachReverse(e,t){let r=this._tail;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(t.previous=r,r.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===r.Last){if(e===this._tail)return;const t=e.next,r=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=r,r.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}}},7091:(e,t,r)=>{"use strict";function i(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});const n=r(9217),s=r(6745);t.RequestType=s.RequestType,t.RequestType0=s.RequestType0,t.RequestType1=s.RequestType1,t.RequestType2=s.RequestType2,t.RequestType3=s.RequestType3,t.RequestType4=s.RequestType4,t.RequestType5=s.RequestType5,t.RequestType6=s.RequestType6,t.RequestType7=s.RequestType7,t.RequestType8=s.RequestType8,t.RequestType9=s.RequestType9,t.ResponseError=s.ResponseError,t.ErrorCodes=s.ErrorCodes,t.NotificationType=s.NotificationType,t.NotificationType0=s.NotificationType0,t.NotificationType1=s.NotificationType1,t.NotificationType2=s.NotificationType2,t.NotificationType3=s.NotificationType3,t.NotificationType4=s.NotificationType4,t.NotificationType5=s.NotificationType5,t.NotificationType6=s.NotificationType6,t.NotificationType7=s.NotificationType7,t.NotificationType8=s.NotificationType8,t.NotificationType9=s.NotificationType9;const o=r(9352);t.MessageReader=o.MessageReader,t.StreamMessageReader=o.StreamMessageReader,t.IPCMessageReader=o.IPCMessageReader,t.SocketMessageReader=o.SocketMessageReader;const a=r(5271);t.MessageWriter=a.MessageWriter,t.StreamMessageWriter=a.StreamMessageWriter,t.IPCMessageWriter=a.IPCMessageWriter,t.SocketMessageWriter=a.SocketMessageWriter;const c=r(7233);t.Disposable=c.Disposable,t.Event=c.Event,t.Emitter=c.Emitter;const l=r(3694);t.CancellationTokenSource=l.CancellationTokenSource,t.CancellationToken=l.CancellationToken;const u=r(2274);var h,d,f,p,m,g,y;i(r(4905)),i(r(3650)),function(e){e.type=new s.NotificationType("$/cancelRequest")}(h||(h={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(d=t.Trace||(t.Trace={})),function(e){e.fromString=function(t){switch(t=t.toLowerCase()){default:return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(d=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(f=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new s.NotificationType("$/setTraceNotification")}(p=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new s.NotificationType("$/logTraceNotification")}(m=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(g=t.ConnectionErrors||(t.ConnectionErrors={}));class _ extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,_.prototype)}}function b(e,t,r,i){let o=0,a=0,b=0;const w="2.0";let v,k,S,E,x=Object.create(null),C=Object.create(null),T=new u.LinkedMap,M=Object.create(null),R=Object.create(null),P=d.Off,O=f.Text,A=y.New,L=new c.Emitter,I=new c.Emitter,N=new c.Emitter,F=new c.Emitter;function j(e){return"req-"+e.toString()}function D(e){}function B(){return A===y.Listening}function q(){return A===y.Closed}function U(){return A===y.Disposed}function z(){A!==y.New&&A!==y.Listening||(A=y.Closed,I.fire(void 0))}function W(){S||0===T.size||(S=setImmediate((()=>{S=void 0,function(){if(0===T.size)return;let e=T.shift();try{s.isRequestMessage(e)?function(e){if(U())return;function r(r,i,n){let o={jsonrpc:w,id:e.id};r instanceof s.ResponseError?o.error=r.toJson():o.result=void 0===r?null:r,$(o,i,n),t.write(o)}function i(r,i,n){let s={jsonrpc:w,id:e.id,error:r.toJson()};$(s,i,n),t.write(s)}!function(e){if(P!==d.Off&&E)if(O===f.Text){let t;P===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),E.log(`Received request '${e.method} - (${e.id})'.`,t)}else H("receive-request",e)}(e);let o,a,c=x[e.method];c&&(o=c.type,a=c.handler);let u=Date.now();if(a||v){let c=new l.CancellationTokenSource,h=String(e.id);R[h]=c;try{let l;l=void 0===e.params||void 0!==o&&0===o.numberOfParams?a?a(c.token):v(e.method,c.token):n.array(e.params)&&(void 0===o||o.numberOfParams>1)?a?a(...e.params,c.token):v(e.method,...e.params,c.token):a?a(e.params,c.token):v(e.method,e.params,c.token);let d=l;l?d.then?d.then((t=>{delete R[h],r(t,e.method,u)}),(t=>{delete R[h],t instanceof s.ResponseError?i(t,e.method,u):t&&n.string(t.message)?i(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):i(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)})):(delete R[h],r(l,e.method,u)):(delete R[h],function(r,i,n){void 0===r&&(r=null);let s={jsonrpc:w,id:e.id,result:r};$(s,i,n),t.write(s)}(l,e.method,u))}catch(t){delete R[h],t instanceof s.ResponseError?r(t,e.method,u):t&&n.string(t.message)?i(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):i(new s.ResponseError(s.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else i(new s.ResponseError(s.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):s.isNotificationMessage(e)?function(e){if(U())return;let t,i;if(e.method===h.type.method)i=e=>{let t=e.id,r=R[String(t)];r&&r.cancel()};else{let r=C[e.method];r&&(i=r.handler,t=r.type)}if(i||k)try{!function(e){if(P!==d.Off&&E&&e.method!==m.type.method)if(O===f.Text){let t;P===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),E.log(`Received notification '${e.method}'.`,t)}else H("receive-notification",e)}(e),void 0===e.params||void 0!==t&&0===t.numberOfParams?i?i():k(e.method):n.array(e.params)&&(void 0===t||t.numberOfParams>1)?i?i(...e.params):k(e.method,...e.params):i?i(e.params):k(e.method,e.params)}catch(t){t.message?r.error(`Notification handler '${e.method}' failed with message: ${t.message}`):r.error(`Notification handler '${e.method}' failed unexpectedly.`)}else N.fire(e)}(e):s.isResponseMessage(e)?function(e){if(!U())if(null===e.id)e.error?r.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let t=String(e.id),i=M[t];if(function(e,t){if(P!==d.Off&&E)if(O===f.Text){let r;if(P===d.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),t){let i=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";E.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${i}`,r)}else E.log(`Received response ${e.id} without active response promise.`,r)}else H("receive-response",e)}(e,i),i){delete M[t];try{if(e.error){let t=e.error;i.reject(new s.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");i.resolve(e.result)}}catch(e){e.message?r.error(`Response handler '${i.method}' failed with message: ${e.message}`):r.error(`Response handler '${i.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void r.error("Received empty message.");r.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(n.string(t.id)||n.number(t.id)){let e=String(t.id),r=M[e];r&&r.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{W()}}()})))}e.onClose(z),e.onError((function(e){L.fire([e,void 0,void 0])})),t.onClose(z),t.onError((function(e){L.fire(e)}));let K=e=>{try{if(s.isNotificationMessage(e)&&e.method===h.type.method){let r=j(e.params.id),n=T.get(r);if(s.isRequestMessage(n)){let s=i&&i.cancelUndispatched?i.cancelUndispatched(n,D):void 0;if(s&&(void 0!==s.error||void 0!==s.result))return T.delete(r),s.id=n.id,$(s,e.method,Date.now()),void t.write(s)}}!function(e,t){var r;s.isRequestMessage(t)?e.set(j(t.id),t):s.isResponseMessage(t)?e.set(null===(r=t.id)?"res-unknown-"+(++b).toString():"res-"+r.toString(),t):e.set("not-"+(++a).toString(),t)}(T,e)}finally{W()}};function $(e,t,r){if(P!==d.Off&&E)if(O===f.Text){let i;P===d.Verbose&&(e.error&&e.error.data?i=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?i=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(i="No result returned.\n\n")),E.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-r}ms`,i)}else H("send-response",e)}function H(e,t){if(!E||P===d.Off)return;const r={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};E.log(r)}function G(){if(q())throw new _(g.Closed,"Connection is closed.");if(U())throw new _(g.Disposed,"Connection is disposed.")}function V(e){return void 0===e?null:e}function X(e,t){let r,i=e.numberOfParams;switch(i){case 0:r=null;break;case 1:r=V(t[0]);break;default:r=[];for(let e=0;e<t.length&&e<i;e++)r.push(V(t[e]));if(t.length<i)for(let e=t.length;e<i;e++)r.push(null)}return r}let J={sendNotification:(e,...r)=>{let i,s;if(G(),n.string(e))switch(i=e,r.length){case 0:s=null;break;case 1:s=r[0];break;default:s=r}else i=e.method,s=X(e,r);let o={jsonrpc:w,method:i,params:s};!function(e){if(P!==d.Off&&E)if(O===f.Text){let t;P===d.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),E.log(`Sending notification '${e.method}'.`,t)}else H("send-notification",e)}(o),t.write(o)},onNotification:(e,t)=>{G(),n.func(e)?k=e:t&&(n.string(e)?C[e]={type:void 0,handler:t}:C[e.method]={type:e,handler:t})},sendRequest:(e,...r)=>{let i,a,c;if(G(),function(){if(!B())throw new Error("Call listen() first.")}(),n.string(e))switch(i=e,r.length){case 0:a=null;break;case 1:l.CancellationToken.is(r[0])?(a=null,c=r[0]):a=V(r[0]);break;default:const e=r.length-1;l.CancellationToken.is(r[e])?(c=r[e],a=2===r.length?V(r[0]):r.slice(0,e).map((e=>V(e)))):a=r.map((e=>V(e)))}else{i=e.method,a=X(e,r);let t=e.numberOfParams;c=l.CancellationToken.is(r[t])?r[t]:void 0}let u=o++,p=new Promise(((e,r)=>{let n={jsonrpc:w,id:u,method:i,params:a},o={method:i,timerStart:Date.now(),resolve:e,reject:r};!function(e){if(P!==d.Off&&E)if(O===f.Text){let t;P===d.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),E.log(`Sending request '${e.method} - (${e.id})'.`,t)}else H("send-request",e)}(n);try{t.write(n)}catch(e){o.reject(new s.ResponseError(s.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),o=null}o&&(M[String(u)]=o)}));return c&&c.onCancellationRequested((()=>{J.sendNotification(h.type,{id:u})})),p},onRequest:(e,t)=>{G(),n.func(e)?v=e:t&&(n.string(e)?x[e]={type:void 0,handler:t}:x[e.method]={type:e,handler:t})},trace:(e,t,r)=>{let i=!1,s=f.Text;void 0!==r&&(n.boolean(r)?i=r:(i=r.sendNotification||!1,s=r.traceFormat||f.Text)),P=e,O=s,E=P===d.Off?void 0:t,!i||q()||U()||J.sendNotification(p.type,{value:d.toString(e)})},onError:L.event,onClose:I.event,onUnhandledNotification:N.event,onDispose:F.event,dispose:()=>{if(U())return;A=y.Disposed,F.fire(void 0);let r=new Error("Connection got disposed.");Object.keys(M).forEach((e=>{M[e].reject(r)})),M=Object.create(null),R=Object.create(null),T=new u.LinkedMap,n.func(t.dispose)&&t.dispose(),n.func(e.dispose)&&e.dispose()},listen:()=>{G(),function(){if(B())throw new _(g.AlreadyListening,"Connection is already listening")}(),A=y.Listening,e.listen(K)},inspect:()=>{console.log("inspect")}};return J.onNotification(m.type,(e=>{P!==d.Off&&E&&E.log(e.message,P===d.Verbose?e.verbose:void 0)})),J}t.ConnectionError=_,(t.ConnectionStrategy||(t.ConnectionStrategy={})).is=function(e){let t=e;return t&&n.func(t.cancelUndispatched)},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(y||(y={})),t.createMessageConnection=function(e,r,i,n){i||(i=t.NullLogger);let s=void 0!==(c=e).listen&&void 0===c.read?e:new o.StreamMessageReader(e);var c;let l=function(e){return void 0!==e.write&&void 0===e.end}(r)?r:new a.StreamMessageWriter(r);return b(s,l,i,n)}},9352:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(7233),n=r(9217);let s=8192,o=Buffer.from("\r","ascii")[0],a=Buffer.from("\n","ascii")[0];class c{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(s)}append(e){var t=e;if("string"==typeof e){var r=e,i=Buffer.byteLength(r,this.encoding);(t=Buffer.allocUnsafe(i)).write(r,0,i,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var n=(Math.ceil((this.index+t.length)/s)+1)*s;0===this.index?(this.buffer=Buffer.allocUnsafe(n),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],n)}this.index+=t.length}tryReadHeaders(){let e,t=0;for(;t+3<this.index&&(this.buffer[t]!==o||this.buffer[t+1]!==a||this.buffer[t+2]!==o||this.buffer[t+3]!==a);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach((t=>{let r=t.indexOf(":");if(-1===r)throw new Error("Message header must separate key and value using :");let i=t.substr(0,r),n=t.substr(r+1).trim();e[i]=n}));let r=t+4;return this.buffer=this.buffer.slice(r),this.index=this.index-r,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),r=e;return this.buffer.copy(this.buffer,0,r),this.index=this.index-r,t}get numberOfBytes(){return this.index}}(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&n.func(t.listen)&&n.func(t.dispose)&&n.func(t.onError)&&n.func(t.onClose)&&n.func(t.onPartialMessage)};class l{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter,this.partialMessageEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader recevied error. Reason: ${n.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=l;class u extends l{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new c(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",(e=>{this.onData(e)})),this.readable.on("error",(e=>this.fireError(e))),this.readable.on("close",(()=>this.fireClose()))}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let r=parseInt(t);if(isNaN(r))throw new Error("Content-Length value must be a number.");this.nextMessageLength=r}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var r=JSON.parse(t);this.callback(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}t.StreamMessageReader=u,t.IPCMessageReader=class extends l{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){this.process.on("message",e)}},t.SocketMessageReader=class extends u{constructor(e,t="utf-8"){super(e,t)}}},5271:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(7233),n=r(9217);let s="Content-Length: ",o="\r\n";(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&n.func(t.dispose)&&n.func(t.onClose)&&n.func(t.onError)&&n.func(t.write)};class a{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer recevied error. Reason: ${n.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=a,t.StreamMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",(e=>this.fireError(e))),this.writable.on("close",(()=>this.fireClose()))}write(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),i=[s,r.toString(),o,o];try{this.writable.write(i.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},t.IPCMessageWriter=class extends a{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,(t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},t.SocketMessageWriter=class extends a{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",(e=>this.fireError(e))),this.socket.on("close",(()=>this.fireClose()))}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),i=[s,r.toString(),o,o];try{this.sending=!0,this.socket.write(i.join(""),"ascii",(r=>{r&&this.handleError(r,e);try{this.socket.write(t,this.encoding,(t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(r){this.handleError(r,e)}}))}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}},6745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(9217);var n;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.MessageWriteError=1,e.MessageReadError=2}(n=t.ErrorCodes||(t.ErrorCodes={}));class s extends Error{constructor(e,t,r){super(t),this.code=i.number(e)?e:n.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,s.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}t.ResponseError=s;class o{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}t.AbstractMessageType=o,t.RequestType0=class extends o{constructor(e){super(e,0),this._=void 0}},t.RequestType=class extends o{constructor(e){super(e,1),this._=void 0}},t.RequestType1=class extends o{constructor(e){super(e,1),this._=void 0}},t.RequestType2=class extends o{constructor(e){super(e,2),this._=void 0}},t.RequestType3=class extends o{constructor(e){super(e,3),this._=void 0}},t.RequestType4=class extends o{constructor(e){super(e,4),this._=void 0}},t.RequestType5=class extends o{constructor(e){super(e,5),this._=void 0}},t.RequestType6=class extends o{constructor(e){super(e,6),this._=void 0}},t.RequestType7=class extends o{constructor(e){super(e,7),this._=void 0}},t.RequestType8=class extends o{constructor(e){super(e,8),this._=void 0}},t.RequestType9=class extends o{constructor(e){super(e,9),this._=void 0}},t.NotificationType=class extends o{constructor(e){super(e,1),this._=void 0}},t.NotificationType0=class extends o{constructor(e){super(e,0),this._=void 0}},t.NotificationType1=class extends o{constructor(e){super(e,1),this._=void 0}},t.NotificationType2=class extends o{constructor(e){super(e,2),this._=void 0}},t.NotificationType3=class extends o{constructor(e){super(e,3),this._=void 0}},t.NotificationType4=class extends o{constructor(e){super(e,4),this._=void 0}},t.NotificationType5=class extends o{constructor(e){super(e,5),this._=void 0}},t.NotificationType6=class extends o{constructor(e){super(e,6),this._=void 0}},t.NotificationType7=class extends o{constructor(e){super(e,7),this._=void 0}},t.NotificationType8=class extends o{constructor(e){super(e,8),this._=void 0}},t.NotificationType9=class extends o{constructor(e){super(e,9),this._=void 0}},t.isRequestMessage=function(e){let t=e;return t&&i.string(t.method)&&(i.string(t.id)||i.number(t.id))},t.isNotificationMessage=function(e){let t=e;return t&&i.string(t.method)&&void 0===e.id},t.isResponseMessage=function(e){let t=e;return t&&(void 0!==t.result||!!t.error)&&(i.string(t.id)||i.number(t.id)||null===t.id)}},4905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1017),n=r(2037),s=r(6113),o=r(1808),a=r(9352),c=r(5271);t.generateRandomPipeName=function(){const e=s.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:i.join(n.tmpdir(),`vscode-${e}.sock`)},t.createClientPipeTransport=function(e,t="utf-8"){let r,i=new Promise(((e,t)=>{r=e}));return new Promise(((n,s)=>{let l=o.createServer((e=>{l.close(),r([new a.SocketMessageReader(e,t),new c.SocketMessageWriter(e,t)])}));l.on("error",s),l.listen(e,(()=>{l.removeListener("error",s),n({onConnected:()=>i})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const r=o.createConnection(e);return[new a.SocketMessageReader(r,t),new c.SocketMessageWriter(r,t)]}},3650:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1808),n=r(9352),s=r(5271);t.createClientSocketTransport=function(e,t="utf-8"){let r,o=new Promise(((e,t)=>{r=e}));return new Promise(((a,c)=>{let l=i.createServer((e=>{l.close(),r([new n.SocketMessageReader(e,t),new s.SocketMessageWriter(e,t)])}));l.on("error",c),l.listen(e,"127.0.0.1",(()=>{l.removeListener("error",c),a({onConnected:()=>o})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const r=i.createConnection(e,"127.0.0.1");return[new n.SocketMessageReader(r,t),new s.SocketMessageWriter(r,t)]}},8892:e=>{e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){i[e]=t[e]})),i;function i(){for(var e=new Array(arguments.length),r=0;r<e.length;r++)e[r]=arguments[r];var i=t.apply(this,e),n=e[e.length-1];return"function"==typeof i&&i!==n&&Object.keys(n).forEach((function(e){i[e]=n[e]})),i}}},795:(e,t,r)=>{"use strict";const{EMPTY_BUFFER:i}=r(6197);function n(e,t){if(0===e.length)return i;if(1===e.length)return e[0];const r=Buffer.allocUnsafe(t);let n=0;for(let t=0;t<e.length;t++){const i=e[t];r.set(i,n),n+=i.length}return n<t?r.slice(0,n):r}function s(e,t,r,i,n){for(let s=0;s<n;s++)r[i+s]=e[s]^t[3&s]}function o(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}function a(e){return e.byteLength===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}function c(e){if(c.readOnly=!0,Buffer.isBuffer(e))return e;let t;return e instanceof ArrayBuffer?t=Buffer.from(e):ArrayBuffer.isView(e)?t=Buffer.from(e.buffer,e.byteOffset,e.byteLength):(t=Buffer.from(e),c.readOnly=!1),t}try{const t=r(2864);e.exports={concat:n,mask(e,r,i,n,o){o<48?s(e,r,i,n,o):t.mask(e,r,i,n,o)},toArrayBuffer:a,toBuffer:c,unmask(e,r){e.length<32?o(e,r):t.unmask(e,r)}}}catch(t){e.exports={concat:n,mask:s,toArrayBuffer:a,toBuffer:c,unmask:o}}},6197:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},7365:(e,t,r)=>{"use strict";const{kForOnEventAttribute:i,kListener:n}=r(6197),s=Symbol("kCode"),o=Symbol("kData"),a=Symbol("kError"),c=Symbol("kMessage"),l=Symbol("kReason"),u=Symbol("kTarget"),h=Symbol("kType"),d=Symbol("kWasClean");class f{constructor(e){this[u]=null,this[h]=e}get target(){return this[u]}get type(){return this[h]}}Object.defineProperty(f.prototype,"target",{enumerable:!0}),Object.defineProperty(f.prototype,"type",{enumerable:!0});class p extends f{constructor(e,t={}){super(e),this[s]=void 0===t.code?0:t.code,this[l]=void 0===t.reason?"":t.reason,this[d]=void 0!==t.wasClean&&t.wasClean}get code(){return this[s]}get reason(){return this[l]}get wasClean(){return this[d]}}Object.defineProperty(p.prototype,"code",{enumerable:!0}),Object.defineProperty(p.prototype,"reason",{enumerable:!0}),Object.defineProperty(p.prototype,"wasClean",{enumerable:!0});class m extends f{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[a]}get message(){return this[c]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class g extends f{constructor(e,t={}){super(e),this[o]=void 0===t.data?null:t.data}get data(){return this[o]}}Object.defineProperty(g.prototype,"data",{enumerable:!0});const y={addEventListener(e,t,r={}){let s;if("message"===e)s=function(e,r){const i=new g("message",{data:r?e:e.toString()});i[u]=this,t.call(this,i)};else if("close"===e)s=function(e,r){const i=new p("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});i[u]=this,t.call(this,i)};else if("error"===e)s=function(e){const r=new m("error",{error:e,message:e.message});r[u]=this,t.call(this,r)};else{if("open"!==e)return;s=function(){const e=new f("open");e[u]=this,t.call(this,e)}}s[i]=!!r[i],s[n]=t,r.once?this.once(e,s):this.on(e,s)},removeEventListener(e,t){for(const r of this.listeners(e))if(r[n]===t&&!r[i]){this.removeListener(e,r);break}}};e.exports={CloseEvent:p,ErrorEvent:m,Event:f,EventTarget:y,MessageEvent:g}},2769:(e,t,r)=>{"use strict";const{tokenChars:i}=r(3767);function n(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>[t].concat(Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const t=Object.create(null);let r,s,o=Object.create(null),a=!1,c=!1,l=!1,u=-1,h=-1,d=-1,f=0;for(;f<e.length;f++)if(h=e.charCodeAt(f),void 0===r)if(-1===d&&1===i[h])-1===u&&(u=f);else if(0===f||32!==h&&9!==h){if(59!==h&&44!==h)throw new SyntaxError(`Unexpected character at index ${f}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${f}`);-1===d&&(d=f);const i=e.slice(u,d);44===h?(n(t,i,o),o=Object.create(null)):r=i,u=d=-1}}else-1===d&&-1!==u&&(d=f);else if(void 0===s)if(-1===d&&1===i[h])-1===u&&(u=f);else if(32===h||9===h)-1===d&&-1!==u&&(d=f);else if(59===h||44===h){if(-1===u)throw new SyntaxError(`Unexpected character at index ${f}`);-1===d&&(d=f),n(o,e.slice(u,d),!0),44===h&&(n(t,r,o),o=Object.create(null),r=void 0),u=d=-1}else{if(61!==h||-1===u||-1!==d)throw new SyntaxError(`Unexpected character at index ${f}`);s=e.slice(u,f),u=d=-1}else if(c){if(1!==i[h])throw new SyntaxError(`Unexpected character at index ${f}`);-1===u?u=f:a||(a=!0),c=!1}else if(l)if(1===i[h])-1===u&&(u=f);else if(34===h&&-1!==u)l=!1,d=f;else{if(92!==h)throw new SyntaxError(`Unexpected character at index ${f}`);c=!0}else if(34===h&&61===e.charCodeAt(f-1))l=!0;else if(-1===d&&1===i[h])-1===u&&(u=f);else if(-1===u||32!==h&&9!==h){if(59!==h&&44!==h)throw new SyntaxError(`Unexpected character at index ${f}`);{if(-1===u)throw new SyntaxError(`Unexpected character at index ${f}`);-1===d&&(d=f);let i=e.slice(u,d);a&&(i=i.replace(/\\/g,""),a=!1),n(o,s,i),44===h&&(n(t,r,o),o=Object.create(null),r=void 0),s=void 0,u=d=-1}}else-1===d&&(d=f);if(-1===u||l||32===h||9===h)throw new SyntaxError("Unexpected end of input");-1===d&&(d=f);const p=e.slice(u,d);return void 0===r?n(t,p,o):(void 0===s?n(o,p,!0):n(o,s,a?p.replace(/\\/g,""):p),n(t,r,o)),t}}},5802:e=>{"use strict";const t=Symbol("kDone"),r=Symbol("kRun");e.exports=class{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[t])}}}},6984:(e,t,r)=>{"use strict";const i=r(9796),n=r(795),s=r(5802),{kStatusCode:o}=r(6197),a=Buffer.from([0,0,255,255]),c=Symbol("permessage-deflate"),l=Symbol("total-length"),u=Symbol("callback"),h=Symbol("buffers"),d=Symbol("error");let f;function p(e){this[h].push(e),this[l]+=e.length}function m(e){this[l]+=e.length,this[c]._maxPayload<1||this[l]<=this[c]._maxPayload?this[h].push(e):(this[d]=new RangeError("Max payload size exceeded"),this[d].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[d][o]=1009,this.removeListener("data",m),this.reset())}function g(e){this[c]._inflate=null,e[o]=1007,this[u](e)}e.exports=class{constructor(e,t,r){if(this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!f){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;f=new s(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[u];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,r=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:!0!==r.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete r.client_max_window_bits,r}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let r=e[t];if(r.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==r)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}e[t]=r}))})),e}decompress(e,t,r){f.add((i=>{this._decompress(e,t,((e,t)=>{i(),r(e,t)}))}))}compress(e,t,r){f.add((i=>{this._compress(e,t,((e,t)=>{i(),r(e,t)}))}))}_decompress(e,t,r){const s=this._isServer?"client":"server";if(!this._inflate){const e=`${s}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[c]=this,this._inflate[l]=0,this._inflate[h]=[],this._inflate.on("error",g),this._inflate.on("data",m)}this._inflate[u]=r,this._inflate.write(e),t&&this._inflate.write(a),this._inflate.flush((()=>{const e=this._inflate[d];if(e)return this._inflate.close(),this._inflate=null,void r(e);const i=n.concat(this._inflate[h],this._inflate[l]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[l]=0,this._inflate[h]=[],t&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),r(null,i)}))}_compress(e,t,r){const s=this._isServer?"server":"client";if(!this._deflate){const e=`${s}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[l]=0,this._deflate[h]=[],this._deflate.on("data",p)}this._deflate[u]=r,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=n.concat(this._deflate[h],this._deflate[l]);t&&(e=e.slice(0,e.length-4)),this._deflate[u]=null,this._deflate[l]=0,this._deflate[h]=[],t&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),r(null,e)}))}}},5126:(e,t,r)=>{"use strict";const{Writable:i}=r(2781),n=r(6984),{BINARY_TYPES:s,EMPTY_BUFFER:o,kStatusCode:a,kWebSocket:c}=r(6197),{concat:l,toArrayBuffer:u,unmask:h}=r(795),{isValidStatusCode:d,isValidUTF8:f}=r(3767);function p(e,t,r,i,n){const s=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,p),s.code=n,s[a]=i,s}e.exports=class extends i{constructor(e={}){super(),this._binaryType=e.binaryType||s[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=t.slice(e),t.slice(0,e)}const t=Buffer.allocUnsafe(e);do{const r=this._buffers[0],i=t.length-e;e>=r.length?t.set(this._buffers.shift(),i):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),i),this._buffers[0]=r.slice(e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,p(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");const t=64==(64&e[0]);if(t&&!this._extensions[n.extensionName])return this._loop=!1,p(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,p(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,p(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,p(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,p(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,p(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,p(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125)return this._loop=!1,p(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,p(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,p(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,p(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,p(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=o;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&0!=(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])&&h(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[n.extensionName].decompress(e,this._fin,((e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(p(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(r)}const i=this.dataMessage();if(i)return t(i);this.startLoop(t)}))}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?l(t,e):"arraybuffer"===this._binaryType?u(l(t,e)):t,this.emit("message",r,!0)}else{const r=l(t,e);if(!this._skipUTF8Validation&&!f(r))return this._loop=!1,p(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r,!1)}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,o),this.end();else{if(1===e.length)return p(RangeError,"invalid payload length 1",!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");{const t=e.readUInt16BE(0);if(!d(t))return p(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");const r=e.slice(2);if(!this._skipUTF8Validation&&!f(r))return p(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,r),this.end()}}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},2282:(e,t,r)=>{"use strict";r(1808),r(4404);const{randomFillSync:i}=r(6113),n=r(6984),{EMPTY_BUFFER:s}=r(6197),{isValidStatusCode:o}=r(3767),{mask:a,toBuffer:c}=r(795),l=Symbol("kByteLength"),u=Buffer.alloc(4);class h{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r,n,s=!1,o=2,c=!1;t.mask&&(r=t.maskBuffer||u,t.generateMask?t.generateMask(r):i(r,0,4),c=0==(r[0]|r[1]|r[2]|r[3]),o=6),"string"==typeof e?n=t.mask&&!c||void 0===t[l]?(e=Buffer.from(e)).length:t[l]:(n=e.length,s=t.mask&&t.readOnly&&!c);let h=n;n>=65536?(o+=8,h=127):n>125&&(o+=2,h=126);const d=Buffer.allocUnsafe(s?n+o:o);return d[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(d[0]|=64),d[1]=h,126===h?d.writeUInt16BE(n,2):127===h&&(d[2]=d[3]=0,d.writeUIntBE(n,4,6)),t.mask?(d[1]|=128,d[o-4]=r[0],d[o-3]=r[1],d[o-2]=r[2],d[o-1]=r[3],c?[d,e]:s?(a(e,r,d,o,n),[d]):(a(e,r,e,0,n),[d,e])):[d,e]}close(e,t,r,i){let n;if(void 0===e)n=s;else{if("number"!=typeof e||!o(e))throw new TypeError("First argument must be a valid error code number");if(void 0!==t&&t.length){const r=Buffer.byteLength(t);if(r>123)throw new RangeError("The message must not be greater than 123 bytes");n=Buffer.allocUnsafe(2+r),n.writeUInt16BE(e,0),"string"==typeof t?n.write(t,2):n.set(t,2)}else n=Buffer.allocUnsafe(2),n.writeUInt16BE(e,0)}const a={[l]:n.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,n,!1,a,i]):this.sendFrame(h.frame(n,a),i)}ping(e,t,r){let i,n;if("string"==typeof e?(i=Buffer.byteLength(e),n=!1):(i=(e=c(e)).length,n=c.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");const s={[l]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:n,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(h.frame(e,s),r)}pong(e,t,r){let i,n;if("string"==typeof e?(i=Buffer.byteLength(e),n=!1):(i=(e=c(e)).length,n=c.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");const s={[l]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:n,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,r]):this.sendFrame(h.frame(e,s),r)}send(e,t,r){const i=this._extensions[n.extensionName];let s,o,a=t.binary?2:1,u=t.compress;if("string"==typeof e?(s=Buffer.byteLength(e),o=!1):(s=(e=c(e)).length,o=c.readOnly),this._firstFragment?(this._firstFragment=!1,u&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(u=s>=i._threshold),this._compress=u):(u=!1,a=0),t.fin&&(this._firstFragment=!0),i){const i={[l]:s,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:o,rsv1:u};this._deflating?this.enqueue([this.dispatch,e,this._compress,i,r]):this.dispatch(e,this._compress,i,r)}else this.sendFrame(h.frame(e,{[l]:s,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:o,rsv1:!1}),r)}dispatch(e,t,r,i){if(!t)return void this.sendFrame(h.frame(e,r),i);const s=this._extensions[n.extensionName];this._bufferedBytes+=r[l],this._deflating=!0,s.compress(e,r.fin,((e,t)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof i&&i(e);for(let t=0;t<this._queue.length;t++){const r=this._queue[t],i=r[r.length-1];"function"==typeof i&&i(e)}}else this._bufferedBytes-=r[l],this._deflating=!1,r.readOnly=!1,this.sendFrame(h.frame(t,r),i),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][l],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][l],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=h},8254:(e,t,r)=>{"use strict";const{Duplex:i}=r(2781);function n(e){e.emit("close")}function s(){!this.destroyed&&this._writableState.finished&&this.destroy()}function o(e){this.removeListener("error",o),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0;const a=new i({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t,r){const i=!r&&a._readableState.objectMode?t.toString():t;a.push(i)||e.pause()})),e.once("error",(function(e){a.destroyed||(r=!1,a.destroy(e))})),e.once("close",(function(){a.destroyed||a.push(null)})),a._destroy=function(t,i){if(e.readyState===e.CLOSED)return i(t),void process.nextTick(n,a);let s=!1;e.once("error",(function(e){s=!0,i(e)})),e.once("close",(function(){s||i(t),process.nextTick(n,a)})),r&&e.terminate()},a._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){a._final(t)}))},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,r,i){e.readyState!==e.CONNECTING?e.send(t,i):e.once("open",(function(){a._write(t,r,i)}))},a.on("end",s),a.on("error",o),a}},873:(e,t,r)=>{"use strict";const{tokenChars:i}=r(3767);e.exports={parse:function(e){const t=new Set;let r=-1,n=-1,s=0;for(;s<e.length;s++){const o=e.charCodeAt(s);if(-1===n&&1===i[o])-1===r&&(r=s);else if(0===s||32!==o&&9!==o){if(44!==o)throw new SyntaxError(`Unexpected character at index ${s}`);{if(-1===r)throw new SyntaxError(`Unexpected character at index ${s}`);-1===n&&(n=s);const i=e.slice(r,n);if(t.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);t.add(i),r=n=-1}}else-1===n&&-1!==r&&(n=s)}if(-1===r||-1!==n)throw new SyntaxError("Unexpected end of input");const o=e.slice(r,s);if(t.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return t.add(o),t}}},3767:(e,t,r)=>{"use strict";const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function n(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999}function s(e){const t=e.length;let r=0;for(;r<t;)if(0==(128&e[r]))r++;else if(192==(224&e[r])){if(r+1===t||128!=(192&e[r+1])||192==(254&e[r]))return!1;r+=2}else if(224==(240&e[r])){if(r+2>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||224===e[r]&&128==(224&e[r+1])||237===e[r]&&160==(224&e[r+1]))return!1;r+=3}else{if(240!=(248&e[r]))return!1;if(r+3>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||128!=(192&e[r+3])||240===e[r]&&128==(240&e[r+1])||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}try{const t=r(2239);e.exports={isValidStatusCode:n,isValidUTF8:e=>e.length<150?s(e):t(e),tokenChars:i}}catch(t){e.exports={isValidStatusCode:n,isValidUTF8:s,tokenChars:i}}},7133:(e,t,r)=>{"use strict";const i=r(2361),n=r(3685),{createHash:s}=(r(5687),r(1808),r(4404),r(6113)),o=r(2769),a=r(6984),c=r(873),l=r(4545),{GUID:u,kWebSocket:h}=r(6197),d=/^[+/0-9A-Za-z]{22}==$/;function f(e){e._state=2,e.emit("close")}function p(){this.destroy()}function m(e,t,r,i){e.writable&&(r=r||n.STATUS_CODES[t],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...i},e.write(`HTTP/1.1 ${t} ${n.STATUS_CODES[t]}\r\n`+Object.keys(i).map((e=>`${e}: ${i[e]}`)).join("\r\n")+"\r\n\r\n"+r)),e.removeListener("error",p),e.destroy()}e.exports=class extends i{constructor(e,t){if(super(),null==(e={maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:l,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=n.createServer(((e,t)=>{const r=n.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)})),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,i)=>{this.handleUpgrade(t,r,i,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state)return e&&this.once("close",(()=>{e(new Error("The server is not running"))})),void process.nextTick(f,this);if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(f,this);else{const e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close((()=>{f(this)}))}}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,i){t.on("error",p);const n=void 0!==e.headers["sec-websocket-key"]&&e.headers["sec-websocket-key"],s=+e.headers["sec-websocket-version"];if("GET"!==e.method||"websocket"!==e.headers.upgrade.toLowerCase()||!n||!d.test(n)||8!==s&&13!==s||!this.shouldHandle(e))return m(t,400);const l=e.headers["sec-websocket-protocol"];let u=new Set;if(void 0!==l)try{u=c.parse(l)}catch(e){return m(t,400)}const h=e.headers["sec-websocket-extensions"],f={};if(this.options.perMessageDeflate&&void 0!==h){const e=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const t=o.parse(h);t[a.extensionName]&&(e.accept(t[a.extensionName]),f[a.extensionName]=e)}catch(e){return m(t,400)}}if(this.options.verifyClient){const o={origin:e.headers[8===s?"sec-websocket-origin":"origin"],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(o,((s,o,a,c)=>{if(!s)return m(t,o||401,a,c);this.completeUpgrade(f,n,u,e,t,r,i)}));if(!this.options.verifyClient(o))return m(t,401)}this.completeUpgrade(f,n,u,e,t,r,i)}completeUpgrade(e,t,r,i,n,c,l){if(!n.readable||!n.writable)return n.destroy();if(n[h])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return m(n,503);const d=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${s("sha1").update(t+u).digest("base64")}`],g=new this.options.WebSocket(null);if(r.size){const e=this.options.handleProtocols?this.options.handleProtocols(r,i):r.values().next().value;e&&(d.push(`Sec-WebSocket-Protocol: ${e}`),g._protocol=e)}if(e[a.extensionName]){const t=e[a.extensionName].params,r=o.format({[a.extensionName]:[t]});d.push(`Sec-WebSocket-Extensions: ${r}`),g._extensions=e}this.emit("headers",d,i),n.write(d.concat("\r\n").join("\r\n")),n.removeListener("error",p),g.setSocket(n,c,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(g),g.on("close",(()=>{this.clients.delete(g),this._shouldEmitClose&&!this.clients.size&&process.nextTick(f,this)}))),l(g,i)}}},4545:(e,t,r)=>{"use strict";const i=r(2361),n=r(5687),s=r(3685),o=r(1808),a=r(4404),{randomBytes:c,createHash:l}=r(6113),{Readable:u}=r(2781),{URL:h}=r(7310),d=r(6984),f=r(5126),p=r(2282),{BINARY_TYPES:m,EMPTY_BUFFER:g,GUID:y,kForOnEventAttribute:_,kListener:b,kStatusCode:w,kWebSocket:v,NOOP:k}=r(6197),{EventTarget:{addEventListener:S,removeEventListener:E}}=r(7365),{format:x,parse:C}=r(2769),{toBuffer:T}=r(795),M=Symbol("kAborted"),R=[8,13],P=["CONNECTING","OPEN","CLOSING","CLOSED"],O=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class A extends i{constructor(e,t,r){super(),this._binaryType=m[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=g,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=A.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(r=t,t=[]):t=[t]),L(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){m.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){const i=new f({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new p(e,this._extensions,r.generateMask),this._receiver=i,this._socket=e,i[v]=this,e[v]=this,i.on("conclude",B),i.on("drain",q),i.on("error",U),i.on("message",W),i.on("ping",K),i.on("pong",$),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",G),e.on("data",V),e.on("end",X),e.on("error",J),this._readyState=A.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=A.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[d.extensionName]&&this._extensions[d.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=A.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==A.CLOSED){if(this.readyState===A.CONNECTING){const e="WebSocket was closed before the connection was established";return j(this,this._req,e)}this.readyState!==A.CLOSING?(this._readyState=A.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end()}}pause(){this.readyState!==A.CONNECTING&&this.readyState!==A.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===A.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===A.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||g,t,r)):D(this,e,r)}pong(e,t,r){if(this.readyState===A.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===A.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||g,t,r)):D(this,e,r)}resume(){this.readyState!==A.CONNECTING&&this.readyState!==A.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===A.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==A.OPEN)return void D(this,e,r);const i={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[d.extensionName]||(i.compress=!1),this._sender.send(e||g,i,r)}terminate(){if(this.readyState!==A.CLOSED){if(this.readyState===A.CONNECTING){const e="WebSocket was closed before the connection was established";return j(this,this._req,e)}this._socket&&(this._readyState=A.CLOSING,this._socket.destroy())}}}function L(e,t,r,i){const o={protocolVersion:R[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...i,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!R.includes(o.protocolVersion))throw new RangeError(`Unsupported protocol version: ${o.protocolVersion} (supported versions: ${R.join(", ")})`);let a;if(t instanceof h)a=t,e._url=t.href;else{try{a=new h(t)}catch(e){throw new SyntaxError(`Invalid URL: ${t}`)}e._url=t}const u="wss:"===a.protocol,f="ws+unix:"===a.protocol;let p;if("ws:"===a.protocol||u||f?f&&!a.pathname?p="The URL's pathname is empty":a.hash&&(p="The URL contains a fragment identifier"):p='The URL\'s protocol must be one of "ws:", "wss:", or "ws+unix:"',p){const t=new SyntaxError(p);if(0===e._redirects)throw t;return void I(e,t)}const m=u?443:80,g=c(16).toString("base64"),_=u?n.request:s.request,b=new Set;let w,v;if(o.createConnection=u?F:N,o.defaultPort=o.defaultPort||m,o.port=a.port||m,o.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,o.headers={"Sec-WebSocket-Version":o.protocolVersion,"Sec-WebSocket-Key":g,Connection:"Upgrade",Upgrade:"websocket",...o.headers},o.path=a.pathname+a.search,o.timeout=o.handshakeTimeout,o.perMessageDeflate&&(w=new d(!0!==o.perMessageDeflate?o.perMessageDeflate:{},!1,o.maxPayload),o.headers["Sec-WebSocket-Extensions"]=x({[d.extensionName]:w.offer()})),r.length){for(const e of r){if("string"!=typeof e||!O.test(e)||b.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");b.add(e)}o.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(o.origin&&(o.protocolVersion<13?o.headers["Sec-WebSocket-Origin"]=o.origin:o.headers.Origin=o.origin),(a.username||a.password)&&(o.auth=`${a.username}:${a.password}`),f){const e=o.path.split(":");o.socketPath=e[0],o.path=e[1]}if(o.followRedirects){if(0===e._redirects){e._originalHost=a.host;const t=i&&i.headers;if(i={...i,headers:{}},t)for(const[e,r]of Object.entries(t))i.headers[e.toLowerCase()]=r}else 0===e.listenerCount("redirect")&&a.host!==e._originalHost&&(delete o.headers.authorization,delete o.headers.cookie,delete o.headers.host,o.auth=void 0);o.auth&&!i.headers.authorization&&(i.headers.authorization="Basic "+Buffer.from(o.auth).toString("base64")),v=e._req=_(o),e._redirects&&e.emit("redirect",e.url,v)}else v=e._req=_(o);o.timeout&&v.on("timeout",(()=>{j(e,v,"Opening handshake has timed out")})),v.on("error",(t=>{null===v||v[M]||(v=e._req=null,I(e,t))})),v.on("response",(n=>{const s=n.headers.location,a=n.statusCode;if(s&&o.followRedirects&&a>=300&&a<400){if(++e._redirects>o.maxRedirects)return void j(e,v,"Maximum redirects exceeded");let n;v.abort();try{n=new h(s,t)}catch(t){const r=new SyntaxError(`Invalid URL: ${s}`);return void I(e,r)}L(e,n,r,i)}else e.emit("unexpected-response",v,n)||j(e,v,`Unexpected server response: ${n.statusCode}`)})),v.on("upgrade",((t,r,i)=>{if(e.emit("upgrade",t),e.readyState!==A.CONNECTING)return;v=e._req=null;const n=l("sha1").update(g+y).digest("base64");if(t.headers["sec-websocket-accept"]!==n)return void j(e,r,"Invalid Sec-WebSocket-Accept header");const s=t.headers["sec-websocket-protocol"];let a;if(void 0!==s?b.size?b.has(s)||(a="Server sent an invalid subprotocol"):a="Server sent a subprotocol but none was requested":b.size&&(a="Server sent no subprotocol"),a)return void j(e,r,a);s&&(e._protocol=s);const c=t.headers["sec-websocket-extensions"];if(void 0!==c){if(!w)return void j(e,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");let t;try{t=C(c)}catch(t){return void j(e,r,"Invalid Sec-WebSocket-Extensions header")}const i=Object.keys(t);if(1!==i.length||i[0]!==d.extensionName)return void j(e,r,"Server indicated an extension that was not requested");try{w.accept(t[d.extensionName])}catch(t){return void j(e,r,"Invalid Sec-WebSocket-Extensions header")}e._extensions[d.extensionName]=w}e.setSocket(r,i,{generateMask:o.generateMask,maxPayload:o.maxPayload,skipUTF8Validation:o.skipUTF8Validation})})),v.end()}function I(e,t){e._readyState=A.CLOSING,e.emit("error",t),e.emitClose()}function N(e){return e.path=e.socketPath,o.connect(e)}function F(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=o.isIP(e.host)?"":e.host),a.connect(e)}function j(e,t,r){e._readyState=A.CLOSING;const i=new Error(r);Error.captureStackTrace(i,j),t.setHeader?(t[M]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(I,e,i)):(t.destroy(i),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function D(e,t,r){if(t){const r=T(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}r&&r(new Error(`WebSocket is not open: readyState ${e.readyState} (${P[e.readyState]})`))}function B(e,t){const r=this[v];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[v]&&(r._socket.removeListener("data",V),process.nextTick(H,r._socket),1005===e?r.close():r.close(e,t))}function q(){const e=this[v];e.isPaused||e._socket.resume()}function U(e){const t=this[v];void 0!==t._socket[v]&&(t._socket.removeListener("data",V),process.nextTick(H,t._socket),t.close(e[w])),t.emit("error",e)}function z(){this[v].emitClose()}function W(e,t){this[v].emit("message",e,t)}function K(e){const t=this[v];t.pong(e,!t._isServer,k),t.emit("ping",e)}function $(e){this[v].emit("pong",e)}function H(e){e.resume()}function G(){const e=this[v];let t;this.removeListener("close",G),this.removeListener("data",V),this.removeListener("end",X),e._readyState=A.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[v]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",z),e._receiver.on("finish",z))}function V(e){this[v]._receiver.write(e)||this.pause()}function X(){const e=this[v];e._readyState=A.CLOSING,e._receiver.end(),this.end()}function J(){const e=this[v];this.removeListener("error",J),this.on("error",k),e&&(e._readyState=A.CLOSING,this.destroy())}Object.defineProperty(A,"CONNECTING",{enumerable:!0,value:P.indexOf("CONNECTING")}),Object.defineProperty(A.prototype,"CONNECTING",{enumerable:!0,value:P.indexOf("CONNECTING")}),Object.defineProperty(A,"OPEN",{enumerable:!0,value:P.indexOf("OPEN")}),Object.defineProperty(A.prototype,"OPEN",{enumerable:!0,value:P.indexOf("OPEN")}),Object.defineProperty(A,"CLOSING",{enumerable:!0,value:P.indexOf("CLOSING")}),Object.defineProperty(A.prototype,"CLOSING",{enumerable:!0,value:P.indexOf("CLOSING")}),Object.defineProperty(A,"CLOSED",{enumerable:!0,value:P.indexOf("CLOSED")}),Object.defineProperty(A.prototype,"CLOSED",{enumerable:!0,value:P.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((e=>{Object.defineProperty(A.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(A.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[_])return t[b];return null},set(t){for(const t of this.listeners(e))if(t[_]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[_]:!0})}})})),A.prototype.addEventListener=S,A.prototype.removeEventListener=E,e.exports=A},5234:(e,t,r)=>{var i,n=r(7147),s=r(9796),o=r(4906),a=r(9666),c=r(3837),l=r(2361).EventEmitter,u=r(2781).Transform,h=r(2781).PassThrough,d=r(2781).Writable;function f(e,t,r){"function"==typeof t&&(r=t,t=null),null==t&&(t={}),null==t.autoClose&&(t.autoClose=!1),null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),null==r&&(r=T),n.fstat(e,(function(i,n){if(i)return r(i);p(o.createFromFd(e,{autoClose:!0}),n.size,t,r)}))}function p(e,t,r,n){"function"==typeof r&&(n=r,r=null),null==r&&(r={}),null==r.autoClose&&(r.autoClose=!0),null==r.lazyEntries&&(r.lazyEntries=!1),null==r.decodeStrings&&(r.decodeStrings=!0);var s=!!r.decodeStrings;if(null==r.validateEntrySizes&&(r.validateEntrySizes=!0),null==r.strictFileNames&&(r.strictFileNames=!1),null==n&&(n=T),"number"!=typeof t)throw new Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");e.ref();var o=Math.min(65557,t),a=i(o),c=t-a.length;v(e,a,0,o,c,(function(l){if(l)return n(l);for(var u=o-22;u>=0;u-=1)if(101010256===a.readUInt32LE(u)){var h=a.slice(u),d=h.readUInt16LE(4);if(0!==d)return n(new Error("multi-disk zip files are not supported: found disk number: "+d));var f=h.readUInt16LE(10),p=h.readUInt32LE(16),g=h.readUInt16LE(20),y=h.length-22;if(g!==y)return n(new Error("invalid comment length. expected: "+y+". found: "+g));var _=s?x(h,22,h.length,!1):h.slice(22);if(65535!==f&&4294967295!==p)return n(null,new m(e,p,t,f,_,r.autoClose,r.lazyEntries,s,r.validateEntrySizes,r.strictFileNames));var b=i(20),w=c+u-b.length;return void v(e,b,0,b.length,w,(function(o){if(o)return n(o);if(117853008!==b.readUInt32LE(0))return n(new Error("invalid zip64 end of central directory locator signature"));var a=C(b,8),c=i(56);v(e,c,0,c.length,a,(function(i){return i?n(i):101075792!==c.readUInt32LE(0)?n(new Error("invalid zip64 end of central directory record signature")):(f=C(c,32),p=C(c,48),n(null,new m(e,p,t,f,_,r.autoClose,r.lazyEntries,s,r.validateEntrySizes,r.strictFileNames)))}))}))}n(new Error("end of central directory record signature not found"))}))}function m(e,t,r,i,n,s,o,a,c,u){var h=this;l.call(h),h.reader=e,h.reader.on("error",(function(e){y(h,e)})),h.reader.once("close",(function(){h.emit("close")})),h.readEntryCursor=t,h.fileSize=r,h.entryCount=i,h.comment=n,h.entriesRead=0,h.autoClose=!!s,h.lazyEntries=!!o,h.decodeStrings=!!a,h.validateEntrySizes=!!c,h.strictFileNames=!!u,h.isOpen=!0,h.emittedError=!1,h.lazyEntries||h._readEntry()}function g(e,t){e.autoClose&&e.close(),y(e,t)}function y(e,t){e.emittedError||(e.emittedError=!0,e.emit("error",t))}function _(){}function b(e,t){return new Date(1980+(e>>9&127),(e>>5&15)-1,31&e,t>>11&31,t>>5&63,2*(31&t),0)}function w(e){return-1!==e.indexOf("\\")?"invalid characters in fileName: "+e:/^[a-zA-Z]:/.test(e)||/^\//.test(e)?"absolute path: "+e:-1!==e.split("/").indexOf("..")?"invalid relative path: "+e:null}function v(e,t,r,n,s,o){if(0===n)return setImmediate((function(){o(null,i(0))}));e.read(t,r,n,s,(function(e,t){return e?o(e):t<n?o(new Error("unexpected EOF")):void o()}))}function k(e){u.call(this),this.actualByteCount=0,this.expectedByteCount=e}function S(){l.call(this),this.refCount=0}function E(e){h.call(this),this.context=e,this.context.ref(),this.unreffedYet=!1}function x(e,t,r,i){if(i)return e.toString("utf8",t,r);for(var n="",s=t;s<r;s++)n+="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "[e[s]];return n}function C(e,t){var r=e.readUInt32LE(t);return 4294967296*e.readUInt32LE(t+4)+r}function T(e){if(e)throw e}t.open=function(e,t,r){"function"==typeof t&&(r=t,t=null),null==t&&(t={}),null==t.autoClose&&(t.autoClose=!0),null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),null==r&&(r=T),n.open(e,"r",(function(e,i){if(e)return r(e);f(i,t,(function(e,t){e&&n.close(i,T),r(e,t)}))}))},t.fromFd=f,t.fromBuffer=function(e,t,r){"function"==typeof t&&(r=t,t=null),null==t&&(t={}),t.autoClose=!1,null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),p(o.createFromBuffer(e,{maxChunkSize:65536}),e.length,t,r)},t.fromRandomAccessReader=p,t.dosDateTimeToDate=b,t.validateFileName=w,t.ZipFile=m,t.Entry=_,t.RandomAccessReader=S,c.inherits(m,l),m.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())},m.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()},m.prototype._readEntry=function(){var e=this;if(e.entryCount!==e.entriesRead){if(!e.emittedError){var t=i(46);v(e.reader,t,0,t.length,e.readEntryCursor,(function(r){if(r)return g(e,r);if(!e.emittedError){var n=new _,s=t.readUInt32LE(0);if(33639248!==s)return g(e,new Error("invalid central directory file header signature: 0x"+s.toString(16)));if(n.versionMadeBy=t.readUInt16LE(4),n.versionNeededToExtract=t.readUInt16LE(6),n.generalPurposeBitFlag=t.readUInt16LE(8),n.compressionMethod=t.readUInt16LE(10),n.lastModFileTime=t.readUInt16LE(12),n.lastModFileDate=t.readUInt16LE(14),n.crc32=t.readUInt32LE(16),n.compressedSize=t.readUInt32LE(20),n.uncompressedSize=t.readUInt32LE(24),n.fileNameLength=t.readUInt16LE(28),n.extraFieldLength=t.readUInt16LE(30),n.fileCommentLength=t.readUInt16LE(32),n.internalFileAttributes=t.readUInt16LE(36),n.externalFileAttributes=t.readUInt32LE(38),n.relativeOffsetOfLocalHeader=t.readUInt32LE(42),64&n.generalPurposeBitFlag)return g(e,new Error("strong encryption is not supported"));e.readEntryCursor+=46,t=i(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),v(e.reader,t,0,t.length,e.readEntryCursor,(function(r){if(r)return g(e,r);if(!e.emittedError){var s=0!=(2048&n.generalPurposeBitFlag);n.fileName=e.decodeStrings?x(t,0,n.fileNameLength,s):t.slice(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength,c=t.slice(n.fileNameLength,o);n.extraFields=[];for(var l=0;l<c.length-3;){var u=c.readUInt16LE(l+0),h=c.readUInt16LE(l+2),d=l+4,f=d+h;if(f>c.length)return g(e,new Error("extra field length exceeds extra field buffer size"));var p=i(h);c.copy(p,0,d,f),n.extraFields.push({id:u,data:p}),l=f}if(n.fileComment=e.decodeStrings?x(t,o,o+n.fileCommentLength,s):t.slice(o,o+n.fileCommentLength),n.comment=n.fileComment,e.readEntryCursor+=t.length,e.entriesRead+=1,4294967295===n.uncompressedSize||4294967295===n.compressedSize||4294967295===n.relativeOffsetOfLocalHeader){var m=null;for(l=0;l<n.extraFields.length;l++)if(1===(_=n.extraFields[l]).id){m=_.data;break}if(null==m)return g(e,new Error("expected zip64 extended information extra field"));var y=0;if(4294967295===n.uncompressedSize){if(y+8>m.length)return g(e,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=C(m,y),y+=8}if(4294967295===n.compressedSize){if(y+8>m.length)return g(e,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=C(m,y),y+=8}if(4294967295===n.relativeOffsetOfLocalHeader){if(y+8>m.length)return g(e,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=C(m,y),y+=8}}if(e.decodeStrings)for(l=0;l<n.extraFields.length;l++){var _;if(28789===(_=n.extraFields[l]).id){if(_.data.length<6)continue;if(1!==_.data.readUInt8(0))continue;var b=_.data.readUInt32LE(1);if(a.unsigned(t.slice(0,n.fileNameLength))!==b)continue;n.fileName=x(_.data,5,_.data.length,!0);break}}if(e.validateEntrySizes&&0===n.compressionMethod){var v=n.uncompressedSize;if(n.isEncrypted()&&(v+=12),n.compressedSize!==v){var k="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return g(e,new Error(k))}}if(e.decodeStrings){e.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var S=w(n.fileName,e.validateFileNameOptions);if(null!=S)return g(e,new Error(S))}e.emit("entry",n),e.lazyEntries||e._readEntry()}}))}}))}}else setImmediate((function(){e.autoClose&&e.close(),e.emittedError||e.emit("end")}))},m.prototype.openReadStream=function(e,t,r){var n=this,o=0,a=e.compressedSize;if(null==r)r=t,t={};else{if(null!=t.decrypt){if(!e.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(!1!==t.decrypt)throw new Error("invalid options.decrypt value: "+t.decrypt);if(e.isCompressed()&&!1!==t.decompress)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(null!=t.decompress){if(!e.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!1!==t.decompress&&!0!==t.decompress)throw new Error("invalid options.decompress value: "+t.decompress)}if(null!=t.start||null!=t.end){if(e.isCompressed()&&!1!==t.decompress)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(e.isEncrypted()&&!1!==t.decrypt)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(null!=t.start){if((o=t.start)<0)throw new Error("options.start < 0");if(o>e.compressedSize)throw new Error("options.start > entry.compressedSize")}if(null!=t.end){if((a=t.end)<0)throw new Error("options.end < 0");if(a>e.compressedSize)throw new Error("options.end > entry.compressedSize");if(a<o)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(e.isEncrypted()&&!1!==t.decrypt)return r(new Error("entry is encrypted, and options.decrypt !== false"));n.reader.ref();var c=i(30);v(n.reader,c,0,c.length,e.relativeOffsetOfLocalHeader,(function(i){try{if(i)return r(i);var l=c.readUInt32LE(0);if(67324752!==l)return r(new Error("invalid local file header signature: 0x"+l.toString(16)));var u,h=c.readUInt16LE(26),d=c.readUInt16LE(28),f=e.relativeOffsetOfLocalHeader+c.length+h+d;if(0===e.compressionMethod)u=!1;else{if(8!==e.compressionMethod)return r(new Error("unsupported compression method: "+e.compressionMethod));u=null==t.decompress||t.decompress}var p=f,m=p+e.compressedSize;if(0!==e.compressedSize&&m>n.fileSize)return r(new Error("file data overflows file bounds: "+p+" + "+e.compressedSize+" > "+n.fileSize));var g=n.reader.createReadStream({start:p+o,end:p+a}),y=g;if(u){var _=!1,b=s.createInflateRaw();g.on("error",(function(e){setImmediate((function(){_||b.emit("error",e)}))})),g.pipe(b),n.validateEntrySizes?(y=new k(e.uncompressedSize),b.on("error",(function(e){setImmediate((function(){_||y.emit("error",e)}))})),b.pipe(y)):y=b,y.destroy=function(){_=!0,b!==y&&b.unpipe(y),g.unpipe(b),g.destroy()}}r(null,y)}finally{n.reader.unref()}}))},_.prototype.getLastModDate=function(){return b(this.lastModFileDate,this.lastModFileTime)},_.prototype.isEncrypted=function(){return 0!=(1&this.generalPurposeBitFlag)},_.prototype.isCompressed=function(){return 8===this.compressionMethod},c.inherits(k,u),k.prototype._transform=function(e,t,r){if(this.actualByteCount+=e.length,this.actualByteCount>this.expectedByteCount){var i="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(i))}r(null,e)},k.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount){var t="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return e(new Error(t))}e()},c.inherits(S,l),S.prototype.ref=function(){this.refCount+=1},S.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.close((function(t){if(t)return e.emit("error",t);e.emit("close")}))}},S.prototype.createReadStream=function(e){var t=e.start,r=e.end;if(t===r){var i=new h;return setImmediate((function(){i.end()})),i}var n=this._readStreamForRange(t,r),s=!1,o=new E(this);n.on("error",(function(e){setImmediate((function(){s||o.emit("error",e)}))})),o.destroy=function(){n.unpipe(o),o.unref(),n.destroy()};var a=new k(r-t);return o.on("error",(function(e){setImmediate((function(){s||a.emit("error",e)}))})),a.destroy=function(){s=!0,o.unpipe(a),o.destroy()},n.pipe(o).pipe(a)},S.prototype._readStreamForRange=function(e,t){throw new Error("not implemented")},S.prototype.read=function(e,t,r,i,n){var s=this.createReadStream({start:i,end:i+r}),o=new d,a=0;o._write=function(r,i,n){r.copy(e,t+a,0,r.length),a+=r.length,n()},o.on("finish",n),s.on("error",(function(e){n(e)})),s.pipe(o)},S.prototype.close=function(e){setImmediate(e)},c.inherits(E,h),E.prototype._flush=function(e){this.unref(),e()},E.prototype.unref=function(e){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())},i="function"==typeof Buffer.allocUnsafe?function(e){return Buffer.allocUnsafe(e)}:function(e){return new Buffer(e)}},9669:(e,t,r)=>{e.exports=r(1609)},7970:(e,t,r)=>{"use strict";var i=r(4867),n=r(6026),s=r(4097),o=r(5327),a=r(3685),c=r(5687),l=r(938).http,u=r(938).https,h=r(7310),d=r(9796),f=r(7288).version,p=r(5061),m=r(481),g=r(5655),y=r(5263),_=/https:?/;function b(e,t,r){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=r,t.auth){var i=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+i}e.beforeRedirect=function(e){e.headers.host=e.host,b(e,t,e.href)}}e.exports=function(e){return new Promise((function(t,r){var w;function v(){e.cancelToken&&e.cancelToken.unsubscribe(w),e.signal&&e.signal.removeEventListener("abort",w)}var k=function(e){v(),t(e)},S=!1,E=function(e){v(),S=!0,r(e)},x=e.data,C=e.headers,T={};if(Object.keys(C).forEach((function(e){T[e.toLowerCase()]=e})),"user-agent"in T?C[T["user-agent"]]||delete C[T["user-agent"]]:C["User-Agent"]="axios/"+f,x&&!i.isStream(x)){if(Buffer.isBuffer(x));else if(i.isArrayBuffer(x))x=Buffer.from(new Uint8Array(x));else{if(!i.isString(x))return E(p("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));x=Buffer.from(x,"utf-8")}if(e.maxBodyLength>-1&&x.length>e.maxBodyLength)return E(p("Request body larger than maxBodyLength limit",e));T["content-length"]||(C["Content-Length"]=x.length)}var M=void 0;e.auth&&(M=(e.auth.username||"")+":"+(e.auth.password||""));var R=s(e.baseURL,e.url),P=h.parse(R),O=P.protocol||"http:";if(!M&&P.auth){var A=P.auth.split(":");M=(A[0]||"")+":"+(A[1]||"")}M&&T.authorization&&delete C[T.authorization];var L=_.test(O),I=L?e.httpsAgent:e.httpAgent,N={path:o(P.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:C,agent:I,agents:{http:e.httpAgent,https:e.httpsAgent},auth:M};e.socketPath?N.socketPath=e.socketPath:(N.hostname=P.hostname,N.port=P.port);var F,j=e.proxy;if(!j&&!1!==j){var D=O.slice(0,-1)+"_proxy",B=process.env[D]||process.env[D.toUpperCase()];if(B){var q=h.parse(B),U=process.env.no_proxy||process.env.NO_PROXY,z=!0;if(U&&(z=!U.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||"."===e[0]&&P.hostname.substr(P.hostname.length-e.length)===e||P.hostname===e)}))),z&&(j={host:q.hostname,port:q.port,protocol:q.protocol},q.auth)){var W=q.auth.split(":");j.auth={username:W[0],password:W[1]}}}}j&&(N.headers.host=P.hostname+(P.port?":"+P.port:""),b(N,j,O+"//"+P.hostname+(P.port?":"+P.port:"")+N.path));var K=L&&(!j||_.test(j.protocol));e.transport?F=e.transport:0===e.maxRedirects?F=K?c:a:(e.maxRedirects&&(N.maxRedirects=e.maxRedirects),F=K?u:l),e.maxBodyLength>-1&&(N.maxBodyLength=e.maxBodyLength),e.insecureHTTPParser&&(N.insecureHTTPParser=e.insecureHTTPParser);var $=F.request(N,(function(t){if(!$.aborted){var r=t,s=t.req||$;if(204!==t.statusCode&&"HEAD"!==s.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":r=r.pipe(d.createUnzip()),delete t.headers["content-encoding"]}var o={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:s};if("stream"===e.responseType)o.data=r,n(k,E,o);else{var a=[],c=0;r.on("data",(function(t){a.push(t),c+=t.length,e.maxContentLength>-1&&c>e.maxContentLength&&(S=!0,r.destroy(),E(p("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,s)))})),r.on("aborted",(function(){S||(r.destroy(),E(p("error request aborted",e,"ERR_REQUEST_ABORTED",s)))})),r.on("error",(function(t){$.aborted||E(m(t,e,null,s))})),r.on("end",(function(){try{var t=1===a.length?a[0]:Buffer.concat(a);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=i.stripBOM(t))),o.data=t}catch(t){E(m(t,e,t.code,o.request,o))}n(k,E,o)}))}}}));if($.on("error",(function(t){$.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||E(m(t,e,null,$))})),$.on("socket",(function(e){e.setKeepAlive(!0,6e4)})),e.timeout){var H=parseInt(e.timeout,10);if(isNaN(H))return void E(p("error trying to parse `config.timeout` to int",e,"ERR_PARSE_TIMEOUT",$));$.setTimeout(H,(function(){$.abort();var t=e.transitional||g.transitional;E(p("timeout of "+H+"ms exceeded",e,t.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",$))}))}(e.cancelToken||e.signal)&&(w=function(e){$.aborted||($.abort(),E(!e||e&&e.type?new y("canceled"):e))},e.cancelToken&&e.cancelToken.subscribe(w),e.signal&&(e.signal.aborted?w():e.signal.addEventListener("abort",w))),i.isStream(x)?x.on("error",(function(t){E(m(t,e,null,$))})).pipe($):$.end(x)}))}},5448:(e,t,r)=>{"use strict";var i=r(4867),n=r(6026),s=r(4372),o=r(5327),a=r(4097),c=r(4109),l=r(7985),u=r(5061),h=r(5655),d=r(5263);e.exports=function(e){return new Promise((function(t,r){var f,p=e.data,m=e.headers,g=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}i.isFormData(p)&&delete m["Content-Type"];var _=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+w)}var v=a(e.baseURL,e.url);function k(){if(_){var i="getAllResponseHeaders"in _?c(_.getAllResponseHeaders()):null,s={data:g&&"text"!==g&&"json"!==g?_.response:_.responseText,status:_.status,statusText:_.statusText,headers:i,config:e,request:_};n((function(e){t(e),y()}),(function(e){r(e),y()}),s),_=null}}if(_.open(e.method.toUpperCase(),o(v,e.params,e.paramsSerializer),!0),_.timeout=e.timeout,"onloadend"in _?_.onloadend=k:_.onreadystatechange=function(){_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))&&setTimeout(k)},_.onabort=function(){_&&(r(u("Request aborted",e,"ECONNABORTED",_)),_=null)},_.onerror=function(){r(u("Network Error",e,null,_)),_=null},_.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||h.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(u(t,e,i.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",_)),_=null},i.isStandardBrowserEnv()){var S=(e.withCredentials||l(v))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;S&&(m[e.xsrfHeaderName]=S)}"setRequestHeader"in _&&i.forEach(m,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete m[t]:_.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(_.withCredentials=!!e.withCredentials),g&&"json"!==g&&(_.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&_.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&_.upload&&_.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){_&&(r(!e||e&&e.type?new d("canceled"):e),_.abort(),_=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),p||(p=null),_.send(p)}))}},1609:(e,t,r)=>{"use strict";var i=r(4867),n=r(1849),s=r(321),o=r(7185),a=function e(t){var r=new s(t),a=n(s.prototype.request,r);return i.extend(a,s.prototype,r),i.extend(a,r),a.create=function(r){return e(o(t,r))},a}(r(5655));a.Axios=s,a.Cancel=r(5263),a.CancelToken=r(4972),a.isCancel=r(6502),a.VERSION=r(7288).version,a.all=function(e){return Promise.all(e)},a.spread=r(8713),a.isAxiosError=r(6268),e.exports=a,e.exports.default=a},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,r)=>{"use strict";var i=r(5263);function n(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,i=r._listeners.length;for(t=0;t<i;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){r.subscribe(e),t=e})).then(e);return i.cancel=function(){r.unsubscribe(t)},i},e((function(e){r.reason||(r.reason=new i(e),t(r.reason))}))}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},n.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},n.source=function(){var e;return{token:new n((function(t){e=t})),cancel:e}},e.exports=n},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,r)=>{"use strict";var i=r(4867),n=r(5327),s=r(782),o=r(3572),a=r(7185),c=r(4875),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new s,response:new s}}u.prototype.request=function(e,t){if("string"==typeof e?(t=t||{}).url=e:t=e||{},!t.url)throw new Error("Provided config url is not valid");(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var i=[],n=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(n=n&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var s,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!n){var h=[o,void 0];for(Array.prototype.unshift.apply(h,i),h=h.concat(u),s=Promise.resolve(t);h.length;)s=s.then(h.shift(),h.shift());return s}for(var d=t;i.length;){var f=i.shift(),p=i.shift();try{d=f(d)}catch(e){p(e);break}}try{s=o(d)}catch(e){return Promise.reject(e)}for(;u.length;)s=s.then(u.shift(),u.shift());return s},u.prototype.getUri=function(e){if(!e.url)throw new Error("Provided config url is not valid");return e=a(this.defaults,e),n(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,r,i){return this.request(a(i||{},{method:e,url:t,data:r}))}})),e.exports=u},782:(e,t,r)=>{"use strict";var i=r(4867);function n(){this.handlers=[]}n.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=n},4097:(e,t,r)=>{"use strict";var i=r(1793),n=r(7303);e.exports=function(e,t){return e&&!i(t)?n(e,t):t}},5061:(e,t,r)=>{"use strict";var i=r(481);e.exports=function(e,t,r,n,s){var o=new Error(e);return i(o,t,r,n,s)}},3572:(e,t,r)=>{"use strict";var i=r(4867),n=r(8527),s=r(6502),o=r(5655),a=r(5263);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=n.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return c(e),t.data=n.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(c(e),t&&t.response&&(t.response.data=n.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,r,i,n){return e.config=t,r&&(e.code=r),e.request=i,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},7185:(e,t,r)=>{"use strict";var i=r(4867);e.exports=function(e,t){t=t||{};var r={};function n(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function s(r){return i.isUndefined(t[r])?i.isUndefined(e[r])?void 0:n(void 0,e[r]):n(e[r],t[r])}function o(e){if(!i.isUndefined(t[e]))return n(void 0,t[e])}function a(r){return i.isUndefined(t[r])?i.isUndefined(e[r])?void 0:n(void 0,e[r]):n(void 0,t[r])}function c(r){return r in t?n(e[r],t[r]):r in e?n(void 0,e[r]):void 0}var l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return i.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||s,n=t(e);i.isUndefined(n)&&t!==c||(r[e]=n)})),r}},6026:(e,t,r)=>{"use strict";var i=r(5061);e.exports=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(i("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},8527:(e,t,r)=>{"use strict";var i=r(4867),n=r(5655);e.exports=function(e,t,r){var s=this||n;return i.forEach(r,(function(r){e=r.call(s,e,t)})),e}},5655:(e,t,r)=>{"use strict";var i=r(4867),n=r(6016),s=r(481),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?c=r(5448):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(c=r(7970)),c),transformRequest:[function(e,t){return n(t,"Accept"),n(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,r){if(i.isString(e))try{return(0,JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||n&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){l.headers[e]=i.merge(o)})),e.exports=l},7288:e=>{e.exports={version:"0.25.0"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),i=0;i<r.length;i++)r[i]=arguments[i];return e.apply(t,r)}}},5327:(e,t,r)=>{"use strict";var i=r(4867);function n(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(i.isURLSearchParams(t))s=t.toString();else{var o=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),o.push(n(t)+"="+n(e))})))})),s=o.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,r)=>{"use strict";var i=r(4867);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,r,n,s,o){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),i.isString(n)&&a.push("path="+n),i.isString(s)&&a.push("domain="+s),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},6268:(e,t,r)=>{"use strict";var i=r(4867);e.exports=function(e){return i.isObject(e)&&!0===e.isAxiosError}},7985:(e,t,r)=>{"use strict";var i=r(4867);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var i=e;return t&&(r.setAttribute("href",i),i=r.href),r.setAttribute("href",i),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=i.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},6016:(e,t,r)=>{"use strict";var i=r(4867);e.exports=function(e,t){i.forEach(e,(function(r,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[i])}))}},4109:(e,t,r)=>{"use strict";var i=r(4867),n=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,o={};return e?(i.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=i.trim(e.substr(0,s)).toLowerCase(),r=i.trim(e.substr(s+1)),t){if(o[t]&&n.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}})),o):o}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:(e,t,r)=>{"use strict";var i=r(7288).version,n={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){n[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var s={};n.transitional=function(e,t,r){function n(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,i,o){if(!1===e)throw new Error(n(i," has been removed"+(t?" in "+t:"")));return t&&!s[i]&&(s[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var i=Object.keys(e),n=i.length;n-- >0;){var s=i[n],o=t[s];if(o){var a=e[s],c=void 0===a||o(a,s,e);if(!0!==c)throw new TypeError("option "+s+" must be "+c)}else if(!0!==r)throw Error("Unknown option "+s)}},validators:n}},4867:(e,t,r)=>{"use strict";var i=r(1849),n=Object.prototype.toString;function s(e){return Array.isArray(e)}function o(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===n.call(e)}function c(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==n.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===n.call(e)}function h(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.call(null,e[n],n,e)}e.exports={isArray:s,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===n.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:l,isUndefined:o,isDate:function(e){return"[object Date]"===n.call(e)},isFile:function(e){return"[object File]"===n.call(e)},isBlob:function(e){return"[object Blob]"===n.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===n.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:h,merge:function e(){var t={};function r(r,i){l(t[i])&&l(r)?t[i]=e(t[i],r):l(r)?t[i]=e({},r):s(r)?t[i]=r.slice():t[i]=r}for(var i=0,n=arguments.length;i<n;i++)h(arguments[i],r);return t},extend:function(e,t,r){return h(t,(function(t,n){e[n]=r&&"function"==typeof t?i(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},2261:(e,t,r)=>{var i;e.exports=function(){if(!i){try{i=r(445)("follow-redirects")}catch(e){}"function"!=typeof i&&(i=function(){})}i.apply(null,arguments)}},938:(e,t,r)=>{var i=r(7310),n=i.URL,s=r(3685),o=r(5687),a=r(2781).Writable,c=r(9491),l=r(2261),u=["abort","aborted","connect","error","socket","timeout"],h=Object.create(null);u.forEach((function(e){h[e]=function(t,r,i){this._redirectable.emit(e,t,r,i)}}));var d=v("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),f=v("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),p=v("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),m=v("ERR_STREAM_WRITE_AFTER_END","write after end");function g(e,t){a.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var r=this;this._onNativeResponse=function(e){r._processResponse(e)},this._performRequest()}function y(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach((function(s){var o=s+":",a=r[o]=e[s],u=t[s]=Object.create(a);Object.defineProperties(u,{request:{value:function(e,s,a){if("string"==typeof e){var u=e;try{e=b(new n(u))}catch(t){e=i.parse(u)}}else n&&e instanceof n?e=b(e):(a=s,s=e,e={protocol:o});return"function"==typeof s&&(a=s,s=null),(s=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,s)).nativeProtocols=r,c.equal(s.protocol,o,"protocol mismatch"),l("options",s),new g(s,a)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,r){var i=u.request(e,t,r);return i.end(),i},configurable:!0,enumerable:!0,writable:!0}})})),t}function _(){}function b(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function w(e,t){var r;for(var i in t)e.test(i)&&(r=t[i],delete t[i]);return null==r?void 0:String(r).trim()}function v(e,t){function r(e){Error.captureStackTrace(this,this.constructor),e?(this.message=t+": "+e.message,this.cause=e):this.message=t}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+e+"]",r.prototype.code=e,r}function k(e){for(var t of u)e.removeListener(t,h[t]);e.on("error",_),e.abort()}g.prototype=Object.create(a.prototype),g.prototype.abort=function(){k(this._currentRequest),this.emit("abort")},g.prototype.write=function(e,t,r){if(this._ending)throw new m;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new p),this.abort()):r&&r()},g.prototype.end=function(e,t,r){if("function"==typeof e?(r=e,e=t=null):"function"==typeof t&&(r=t,t=null),e){var i=this,n=this._currentRequest;this.write(e,t,(function(){i._ended=!0,n.end(null,null,r)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},g.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},g.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},g.prototype.setTimeout=function(e,t){var r=this;function i(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function n(t){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout((function(){r.emit("timeout"),s()}),e),i(t)}function s(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",s),r.removeListener("error",s),r.removeListener("response",s),t&&r.removeListener("timeout",t),r.socket||r._currentRequest.removeListener("socket",n)}return t&&this.on("timeout",t),this.socket?n(this.socket):this._currentRequest.once("socket",n),this.on("socket",i),this.on("abort",s),this.on("error",s),this.on("response",s),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){g.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(g.prototype,e,{get:function(){return this._currentRequest[e]}})})),g.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},g.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.slice(0,-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var s of(n._redirectable=this,u))n.on(s,h[s]);if(this._currentUrl=/^\//.test(this._options.path)?i.format(this._options):this._currentUrl=this._options.path,this._isRedirect){var o=0,a=this,c=this._requestBodyBuffers;!function e(t){if(n===a._currentRequest)if(t)a.emit("error",t);else if(o<c.length){var r=c[o++];n.finished||n.write(r.data,r.encoding,e)}else a._ended&&n.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},g.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var r=e.headers.location;if(!r||!1===this._options.followRedirects||t<300||t>=400)return e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),void(this._requestBodyBuffers=[]);if(k(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)this.emit("error",new f);else{var n,s=this._options.beforeRedirect;s&&(n=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var o=this._options.method;((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],w(/^content-/i,this._options.headers));var a,c=w(/^host$/i,this._options.headers),u=i.parse(this._currentUrl),h=c||u.host,p=/^\w+:/.test(r)?this._currentUrl:i.format(Object.assign(u,{host:h}));try{a=i.resolve(p,r)}catch(e){return void this.emit("error",new d(e))}l("redirecting to",a),this._isRedirect=!0;var m=i.parse(a);if(Object.assign(this._options,m),(m.protocol!==u.protocol&&"https:"!==m.protocol||m.host!==h&&!function(e,t){const r=e.length-t.length-1;return r>0&&"."===e[r]&&e.endsWith(t)}(m.host,h))&&w(/^(?:authorization|cookie)$/i,this._options.headers),"function"==typeof s){var g={headers:e.headers,statusCode:t},y={url:p,method:o,headers:n};try{s(this._options,g,y)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){this.emit("error",new d(e))}}},e.exports=y({http:s,https:o}),e.exports.wrap=y},468:(e,t,r)=>{(()=>{"use strict";var t=[,(e,t,r)=>{r.r(t),r.d(t,{showErrorMessage:()=>n,showInformationMessage:()=>s});var i=r(2);const n=i.window.showErrorMessage,s=i.window.showInformationMessage},e=>{e.exports=r(9496)},(e,t,r)=>{r.r(t),r.d(t,{exec:()=>s});var i=r(4),n=r(5);const s=i.promisify(n.exec)},e=>{e.exports=r(3837)},e=>{e.exports=r(2081)},(e,t,r)=>{r.r(t),r.d(t,{createFile:()=>o,readFile:()=>a});var i,n=r(7),s=r(1);!function(e){e.success="0",e.failed="1"}(i||(i={}));const o=(e,t)=>{try{return n.writeFileSync(e,t),i.success}catch(e){return(0,s.showErrorMessage)(String(e)),i.failed}},a=e=>{try{return n.readFileSync(e).toString()}catch(e){return(0,s.showErrorMessage)(String(e)),i.failed}}},e=>{e.exports=r(7147)},(e,t,r)=>{r.r(t),r.d(t,{getNonce:()=>i});const i=()=>{let e="";const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<32;r++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}},(e,t,r)=>{r.r(t),r.d(t,{createWebview:()=>n});var i=r(2);const n=(e,t,r=((e,t)=>{}),n={initMessageToWbeview:{channel:"",method:"",value:{}}})=>{const s=i.window.createWebviewPanel(e,e,i.ViewColumn.One,Object.assign({enableScripts:!0},n));s.webview.onDidReceiveMessage((e=>{r(e,s.webview)})),s.webview.html=t,n.initMessageToWbeview&&s.webview.postMessage(n.initMessageToWbeview)}},(e,t,r)=>{r.r(t),r.d(t,{getRoot:()=>n});var i=r(2);function n(){var e;let t=null===(e=i.workspace.workspaceFolders)||void 0===e?void 0:e.map((e=>e.uri.path));return t&&(null==t?void 0:t.length)>0?t[0]:""}},(e,t,r)=>{r.r(t),r.d(t,{spawn:()=>n});var i=r(5);const n=(e,t,r,n)=>{var s,o;const a=i.spawn(e,{shell:!0});return null===(s=a.stdout)||void 0===s||s.on("data",(function(e){t&&t(e.toString())})),null===(o=a.stderr)||void 0===o||o.on("data",(function(e){r&&r(e.toString())})),a.on("close",(function(t){console.log(`command ${e}; child process exited with code ${null==t?void 0:t.toString()}`),n&&n(t)})),a}}],i={};function n(e){var r=i[e];if(void 0!==r)return r.exports;var s=i[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{n.r(s),n.d(s,{showErrorMessage:()=>e.showErrorMessage,showInformationMessage:()=>e.showInformationMessage,exec:()=>t.exec,createFile:()=>r.createFile,readFile:()=>r.readFile,getNonce:()=>i.getNonce,createWebview:()=>o.createWebview,getRoot:()=>a.getRoot,spawn:()=>c.spawn});var e=n(1),t=n(3),r=n(6),i=n(8),o=n(9),a=n(10),c=n(11)})(),e.exports=s})()},9496:e=>{"use strict";e.exports=require("vscode")},2864:e=>{"use strict";e.exports=require("bufferutil")},2239:e=>{"use strict";e.exports=require("utf-8-validate")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},2057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},1576:e=>{"use strict";e.exports=require("string_decoder")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},5945:(e,t,r)=>{"use strict";r.r(t),r.d(t,{NodeWebSocketTransport:()=>s}),r(8254),r(5126),r(2282);var i=r(4545);r(7133);const n=i;class s{constructor(e){this._ws=e,this._ws.addEventListener("message",(e=>{this.onmessage&&this.onmessage.call(null,e.data)})),this._ws.addEventListener("close",(()=>{this.onclose&&this.onclose.call(null)})),this._ws.addEventListener("error",(()=>{})),this.onmessage=null,this.onclose=null}static create(e){return new Promise(((t,r)=>{const i=new n(e,[],{followRedirects:!0,perMessageDeflate:!1,maxPayload:268435456,headers:{"User-Agent":"Puppeteer 14.1.1"}});i.addEventListener("open",(()=>t(new s(i)))),i.addEventListener("error",r)}))}send(e){this._ws.send(e)}close(){this._ws.close()}}}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return i[e].call(r.exports,r,r.exports,s),r.exports}s.m=i,s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"==typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"==typeof r.then)return r}var n=Object.create(null);s.r(n);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,s.d(n,o),n},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,r)=>(s.f[r](e,t),t)),[])),s.u=e=>e+".extension.js",s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r={179:1},s.f.require=(e,t)=>{r[e]||(e=>{var t=e.modules,i=e.ids,n=e.runtime;for(var o in t)s.o(t,o)&&(s.m[o]=t[o]);n&&n(s);for(var a=0;a<i.length;a++)r[i[a]]=1})(require("./"+s.u(e)))};var o={};(()=>{"use strict";function e(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function t(t){return function r(i){return 0===arguments.length||e(i)?r:t.apply(this,arguments)}}s.r(o),s.d(o,{activate:()=>dn,deactivate:()=>fn});const r=t((function(e){return null==e}));var i=s(9496);function n(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var a=Object.prototype.toString;const c=function(){return"[object Arguments]"===a.call(arguments)?function(e){return"[object Arguments]"===a.call(e)}:function(e){return n("callee",e)}}(),l=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)},u=t((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():l(e)?[]:function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)?"":function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)?{}:c(e)?function(){return arguments}():void 0}));function h(r){return function i(n,s){switch(arguments.length){case 0:return i;case 1:return e(n)?i:t((function(e){return r(n,e)}));default:return e(n)&&e(s)?i:e(n)?t((function(e){return r(e,s)})):e(s)?t((function(e){return r(n,e)})):r(n,s)}}}function d(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function f(e,t,r){for(var i=0,n=r.length;i<n;){if(e(t,r[i]))return!0;i+=1}return!1}const p="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};var m=!{toString:null}.propertyIsEnumerable("toString"),g=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],y=function(){return arguments.propertyIsEnumerable("length")}(),_=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1};const b="function"!=typeof Object.keys||y?t((function(e){if(Object(e)!==e)return[];var t,r,i=[],s=y&&c(e);for(t in e)!n(t,e)||s&&"length"===t||(i[i.length]=t);if(m)for(r=g.length-1;r>=0;)n(t=g[r],e)&&!_(i,t)&&(i[i.length]=t),r-=1;return i})):t((function(e){return Object(e)!==e?[]:Object.keys(e)})),w=t((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function v(e,t,r,i){var n=d(e);function s(e,t){return k(e,t,r.slice(),i.slice())}return!f((function(e,t){return!f(s,t,e)}),d(t),n)}function k(e,t,r,i){if(p(e,t))return!0;var s,o,a=w(e);if(a!==w(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(a){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===(s=e.constructor,null==(o=String(s).match(/^function (\w*)/))?"":o[1]))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!p(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!p(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var c=r.length-1;c>=0;){if(r[c]===e)return i[c]===t;c-=1}switch(a){case"Map":return e.size===t.size&&v(e.entries(),t.entries(),r.concat([e]),i.concat([t]));case"Set":return e.size===t.size&&v(e.values(),t.values(),r.concat([e]),i.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var l=b(e);if(l.length!==b(t).length)return!1;var u=r.concat([e]),h=i.concat([t]);for(c=l.length-1;c>=0;){var d=l[c];if(!n(d,t)||!k(t[d],e[d],u,h))return!1;c-=1}return!0}const S=h((function(e,t){return k(e,t,[],[])})),E=t((function(e){return null!=e&&S(e,u(e))}));var x;!function(e){e.SsoTokens="kcfe:sso",e.Email="kcfe:email",e.Password="kcfe:password",e.UserInfo="kcfe:userinfo",e.serviceUrl="kcfe:serviceUrl",e.serviceName="kcfe:serviceName",e.tgcTokens="kcfe:tgc"}(x||(x={}));class C extends Error{constructor(e){super(e),this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}class T extends C{}class M extends C{constructor(){super(...arguments),this.originalMessage=""}}const R={TimeoutError:T},P=[{name:"Blackberry PlayBook",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:600,height:1024,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Blackberry PlayBook landscape",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.1.0; en-US) AppleWebKit/536.2+ (KHTML like Gecko) Version/7.2.1.0 Safari/536.2+",viewport:{width:1024,height:600,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"BlackBerry Z30",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"BlackBerry Z30 landscape",userAgent:"Mozilla/5.0 (BB10; Touch) AppleWebKit/537.10+ (KHTML, like Gecko) Version/10.0.9.2372 Mobile Safari/537.10+",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note 3",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note 3 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.3; en-us; SM-N900T Build/JSS15J) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Note II",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Note II landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.1; en-us; GT-N7100 Build/JRO03C) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S III",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:360,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S III landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.0; en-us; GT-I9300 Build/IMM76D) AppleWebKit/534.30 (KHTML, like Gecko) Version/4.0 Mobile Safari/534.30",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S5",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S8",userAgent:"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36",viewport:{width:360,height:740,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S8 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.0; SM-G950U Build/NRD90M) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36",viewport:{width:740,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy S9+",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.111 Mobile Safari/537.36",viewport:{width:320,height:658,deviceScaleFactor:4.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy S9+ landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; SM-G965U Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.111 Mobile Safari/537.36",viewport:{width:658,height:320,deviceScaleFactor:4.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Galaxy Tab S4",userAgent:"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.80 Safari/537.36",viewport:{width:712,height:1138,deviceScaleFactor:2.25,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Galaxy Tab S4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.1.0; SM-T837A) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.80 Safari/537.36",viewport:{width:1138,height:712,deviceScaleFactor:2.25,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad (gen 6)",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad (gen 6) landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad (gen 7)",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:810,height:1080,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad (gen 7) landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:1080,height:810,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Mini",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:768,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Mini landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:768,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Pro",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1024,height:1366,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Pro landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1",viewport:{width:1366,height:1024,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPad Pro 11",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:834,height:1194,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPad Pro 11 landscape",userAgent:"Mozilla/5.0 (iPad; CPU OS 12_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:1194,height:834,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 4",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:320,height:480,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 4 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 7_1_2 like Mac OS X) AppleWebKit/537.51.2 (KHTML, like Gecko) Version/7.0 Mobile/11D257 Safari/9537.53",viewport:{width:480,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 5",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 5 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 6 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 6 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 7 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 7 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:667,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:667,height:375,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 8 Plus",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:414,height:736,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 8 Plus landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:736,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone SE",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:320,height:568,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone SE landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 10_3_1 like Mac OS X) AppleWebKit/603.1.30 (KHTML, like Gecko) Version/10.0 Mobile/14E304 Safari/602.1",viewport:{width:568,height:320,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone X",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone X landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone XR",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone XR landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:828,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:828,height:414,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 11 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:414,height:896,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 11 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 13_7 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1 Mobile/15E148 Safari/604.1",viewport:{width:896,height:414,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 12",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:390,height:844,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 12 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:844,height:390,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 12 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:390,height:844,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 12 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:844,height:390,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 12 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:428,height:926,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 12 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:926,height:428,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 12 Mini",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 12 Mini landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 14_4 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 13",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:390,height:844,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 13 landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:844,height:390,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 13 Pro",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:390,height:844,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 13 Pro landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:844,height:390,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 13 Pro Max",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:428,height:926,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 13 Pro Max landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:926,height:428,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"iPhone 13 Mini",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:375,height:812,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"iPhone 13 Mini landscape",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.4 Mobile/15E148 Safari/604.1",viewport:{width:812,height:375,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"JioPhone 2",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:240,height:320,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"JioPhone 2 landscape",userAgent:"Mozilla/5.0 (Mobile; LYF/F300B/LYF-F300B-001-01-15-130718-i;Android; rv:48.0) Gecko/48.0 Firefox/48.0 KAIOS/2.5",viewport:{width:320,height:240,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Kindle Fire HDX",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Kindle Fire HDX landscape",userAgent:"Mozilla/5.0 (Linux; U; en-us; KFAPWI Build/JDQ39) AppleWebKit/535.19 (KHTML, like Gecko) Silk/3.13 Safari/535.19 Silk-Accelerated=true",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"LG Optimus L70",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"LG Optimus L70 landscape",userAgent:"Mozilla/5.0 (Linux; U; Android 4.4.2; en-us; LGMS323 Build/KOT49I.MS32310c) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:1.25,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Microsoft Lumia 550",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 550) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:360,height:640,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Microsoft Lumia 950 landscape",userAgent:"Mozilla/5.0 (Windows Phone 10.0; Android 4.2.1; Microsoft; Lumia 950) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2486.0 Mobile Safari/537.36 Edge/14.14263",viewport:{width:640,height:360,deviceScaleFactor:4,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 10",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:800,height:1280,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 10 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:1280,height:800,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 4",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:384,height:640,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 4.4.2; Nexus 4 Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:384,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 5X",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 5X landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 5X Build/OPR4.170623.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.1.1; Nexus 6 Build/N6F26U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 6P",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:412,height:732,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 6P landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Nexus 6P Build/OPP3.170518.006) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:732,height:412,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nexus 7",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:600,height:960,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nexus 7 landscape",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 7 Build/MOB30X) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Safari/537.36",viewport:{width:960,height:600,deviceScaleFactor:2,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia Lumia 520",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:320,height:533,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia Lumia 520 landscape",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 520)",viewport:{width:533,height:320,deviceScaleFactor:1.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Nokia N9",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:480,height:854,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Nokia N9 landscape",userAgent:"Mozilla/5.0 (MeeGo; NokiaN9) AppleWebKit/534.13 (KHTML, like Gecko) NokiaBrowser/8.5.0 Mobile Safari/534.13",viewport:{width:854,height:480,deviceScaleFactor:1,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:731,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:731,height:411,deviceScaleFactor:2.625,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 2 XL",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:411,height:823,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 2 XL landscape",userAgent:"Mozilla/5.0 (Linux; Android 8.0.0; Pixel 2 XL Build/OPD1.170816.004) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3765.0 Mobile Safari/537.36",viewport:{width:823,height:411,deviceScaleFactor:3.5,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 3",userAgent:"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.158 Mobile Safari/537.36",viewport:{width:393,height:786,deviceScaleFactor:2.75,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 3 landscape",userAgent:"Mozilla/5.0 (Linux; Android 9; Pixel 3 Build/PQ1A.181105.017.A1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/66.0.3359.158 Mobile Safari/537.36",viewport:{width:786,height:393,deviceScaleFactor:2.75,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 4",userAgent:"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Mobile Safari/537.36",viewport:{width:353,height:745,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 10; Pixel 4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/81.0.4044.138 Mobile Safari/537.36",viewport:{width:745,height:353,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 4a (5G)",userAgent:"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:353,height:745,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 4a (5G) landscape",userAgent:"Mozilla/5.0 (Linux; Android 11; Pixel 4a (5G)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:745,height:353,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Pixel 5",userAgent:"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:393,height:851,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Pixel 5 landscape",userAgent:"Mozilla/5.0 (Linux; Android 11; Pixel 5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:851,height:393,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}},{name:"Moto G4",userAgent:"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:360,height:640,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!1}},{name:"Moto G4 landscape",userAgent:"Mozilla/5.0 (Linux; Android 7.0; Moto G (4)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/99.0.4812.0 Mobile Safari/537.36",viewport:{width:640,height:360,deviceScaleFactor:3,isMobile:!0,hasTouch:!0,isLandscape:!0}}],O={};for(const e of P)O[e.name]=e;async function A(e,t,r,i){const{nodes:n}=await e.send("Accessibility.queryAXTree",{objectId:t._remoteObject.objectId,accessibleName:r,role:i});return n.filter((e=>"StaticText"!==e.role.value))}const L=e=>e.replace(/ +/g," ").trim(),I=new Set(["name","role"]),N=/\[\s*(?<attribute>\w+)\s*=\s*(?<quote>"|')(?<value>\\.|.*?(?=\k<quote>))\k<quote>\s*\]/g;function F(e){const t={},r=e.replace(N,((e,r,i,n)=>{if(r=r.trim(),!I.has(r))throw new Error(`Unknown aria attribute "${r}" in selector`);return t[r]=L(n),""}));return r&&!t.name&&(t.name=L(r)),t}const j=async(e,t)=>{const r=e.executionContext(),{name:i,role:n}=F(t),s=await A(r._client,e,i,n);return s.length<1?null:r._adoptBackendNodeId(s[0].backendDOMNodeId)},D=async(e,t)=>{const r=e.executionContext(),{name:i,role:n}=F(t),s=await A(r._client,e,i,n);return Promise.all(s.map((e=>r._adoptBackendNodeId(e.backendDOMNodeId))))},B={queryOne:j,waitFor:async(e,t,r)=>{const i={name:"ariaQuerySelector",pptrFunction:async t=>{const i=r.root||await e._document();return await j(i,t)}};return e.waitForSelectorInPage(((e,t)=>globalThis.ariaQuerySelector(t)),t,r,i)},queryAll:D,queryAllArray:async(e,t)=>{const r=await D(e,t);return e.executionContext().evaluateHandle(((...e)=>e),...r)}};function q(e){const t={};return e.queryOne&&(t.queryOne=async(t,r)=>{const i=await t.evaluateHandle(e.queryOne,r);return i.asElement()||(await i.dispose(),null)},t.waitFor=(t,r,i)=>t.waitForSelectorInPage(e.queryOne,r,i)),e.queryAll&&(t.queryAll=async(t,r)=>{const i=await t.evaluateHandle(e.queryAll,r),n=await i.getProperties();await i.dispose();const s=[];for(const e of n.values()){const t=e.asElement();t&&s.push(t)}return s},t.queryAllArray=async(t,r)=>{const i=await t.evaluateHandle(e.queryAll,r);return await i.evaluateHandle((e=>Array.from(e)))}),t}const U=q({queryOne:(e,t)=>e.querySelector(t),queryAll:(e,t)=>e.querySelectorAll(t)}),z=q({queryOne:(e,t)=>{let r=null;const i=e=>{const n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);do{const s=n.currentNode;s.shadowRoot&&i(s.shadowRoot),s instanceof ShadowRoot||s!==e&&!r&&s.matches(t)&&(r=s)}while(!r&&n.nextNode())};return e instanceof Document&&(e=e.documentElement),i(e),r},queryAll:(e,t)=>{const r=[],i=e=>{const n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT);do{const s=n.currentNode;s.shadowRoot&&i(s.shadowRoot),s instanceof ShadowRoot||s!==e&&s.matches(t)&&r.push(s)}while(n.nextNode())};return e instanceof Document&&(e=e.documentElement),i(e),r}}),W=new Map([["aria",B],["pierce",z]]),K=new Map(W);function $(e){K.has(e)&&!W.has(e)&&K.delete(e)}function H(){return[...K.keys()].filter((e=>!W.has(e)))}function G(e){if(!/^[a-zA-Z]+\//.test(e))return{updatedSelector:e,queryHandler:U};const t=e.indexOf("/"),r=e.slice(0,t),i=e.slice(t+1),n=K.get(r);if(!n)throw new Error(`Query set to use "${r}", but no query handler of that name was found`);return{updatedSelector:i,queryHandler:n}}const V=(e,t)=>{if(!e)throw new Error(t)},X=!("undefined"==typeof process||!process.version),J=e=>X?async(...t)=>{(await s.e(519).then(s.t.bind(s,1519,19))).default(e)(t)}:(...t)=>{const r=globalThis.__PUPPETEER_DEBUG;r&&("*"===r||(r.endsWith("*")?e.startsWith(r):e===r))&&console.log(`${e}:`,...t)},Z=J("puppeteer:error");function Y(e,t,r){return e.on(t,r),{emitter:e,eventName:t,handler:r}}function Q(e){for(const t of e)t.emitter.removeListener(t.eventName,t.handler);e.length=0}function ee(e){return"string"==typeof e||e instanceof String}function te(e,...t){return ee(e)?(V(0===t.length,"Cannot evaluate a string with arguments"),e):`(${e})(${t.map((function(e){return Object.is(e,void 0)?"undefined":JSON.stringify(e)})).join(",")})`}async function re(){if(!X)throw new Error("Cannot load the fs module API outside of Node.");const e=await Promise.resolve().then(s.t.bind(s,7147,19));return e.promises?e:e.default}const ie={evaluationString:te,pageBindingInitString:function(e,t){return te((function(e,t){const r=window,i=r[t];r[t]=(...r)=>{const n=window[t];let s=n.callbacks;s||(s=new Map,n.callbacks=s);const o=(n.lastSeq||0)+1;n.lastSeq=o;const a=new Promise(((e,t)=>s.set(o,{resolve:e,reject:t})));return i(JSON.stringify({type:e,name:t,seq:o,args:r})),a}}),e,t)},pageBindingDeliverResultString:function(e,t,r){return te((function(e,t,r){window[e].callbacks.get(t).resolve(r),window[e].callbacks.delete(t)}),e,t,r)},pageBindingDeliverErrorString:function(e,t,r,i){return te((function(e,t,r,i){const n=new Error(r);n.stack=i,window[e].callbacks.get(t).reject(n),window[e].callbacks.delete(t)}),e,t,r,i)},pageBindingDeliverErrorValueString:function(e,t,r){return te((function(e,t,r){window[e].callbacks.get(t).reject(r),window[e].callbacks.delete(t)}),e,t,r)},makePredicateString:function(e,t){return`\n    (() => {\n      ${t?`const predicateQueryHandler = ${t};`:""}\n      const checkWaitForOptions = ${function(e,t,r){if(!e)return r;if(!t&&!r)return e;const i=e.nodeType===Node.TEXT_NODE?e.parentElement:e,n=window.getComputedStyle(i),s=n&&"hidden"!==n.visibility&&function(){const e=i.getBoundingClientRect();return!!(e.top||e.bottom||e.width||e.height)}();return t===s||r===!s?e:null}};\n      return (${e})(...args)\n    })() `},getReadableAsBuffer:async function(e,t){if(!X&&t)throw new Error("Cannot write to a path outside of Node.js environment.");const r=X?await re():null;let i;t&&r&&(i=await r.promises.open(t,"w"));const n=[];for await(const t of e)n.push(t),i&&r&&await r.promises.writeFile(i,t);t&&i&&await i.close();let s=null;try{s=Buffer.concat(n)}finally{return s}},getReadableFromProtocolStream:async function(e,t){if(!X)throw new Error("Cannot create a stream outside of Node.js environment.");const{Readable:r}=await Promise.resolve().then(s.t.bind(s,2781,19));let i=!1;return new r({async read(r){if(i)return null;const n=await e.send("IO.read",{handle:t,size:r});this.push(n.data,n.base64Encoded?"base64":void 0),n.eof&&(i=!0,await e.send("IO.close",{handle:t}),this.push(null))}})},waitWithTimeout:async function(e,t,r){let i;const n=new T(`waiting for ${t} failed: timeout ${r}ms exceeded`),s=new Promise(((e,t)=>i=t));let o=null;r&&(o=setTimeout((()=>i(n)),r));try{return await Promise.race([e,s])}finally{o&&clearTimeout(o)}},waitForEvent:async function(e,t,r,i,n){let s,o,a;const c=new Promise(((e,t)=>{o=e,a=t})),l=Y(e,t,(async e=>{await r(e)&&o(e)}));function u(){Q([l]),clearTimeout(s)}i&&(s=setTimeout((()=>{a(new T("Timeout exceeded while waiting for event"))}),i));const h=await Promise.race([c,n]).then((e=>(u(),e)),(e=>{throw u(),e}));if(h instanceof Error)throw h;return h},isString:ee,isNumber:function(e){return"number"==typeof e||e instanceof Number},importFSModule:re,addEventListener:Y,removeEventListeners:Q,valueFromRemoteObject:function(e){if(V(!e.objectId,"Cannot extract value when objectId is given"),e.unserializableValue){if("bigint"===e.type&&"undefined"!=typeof BigInt)return BigInt(e.unserializableValue.replace("n",""));switch(e.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unsupported unserializable value: "+e.unserializableValue)}}return e.value},getExceptionMessage:function(e){if(e.exception)return e.exception.description||e.exception.value;let t=e.text;if(e.stackTrace)for(const r of e.stackTrace.callFrames){const e=r.url+":"+r.lineNumber+":"+r.columnNumber;t+=`\n    at ${r.functionName||"<anonymous>"} (${e})`}return t},releaseObject:async function(e,t){t.objectId&&await e.send("Runtime.releaseObject",{objectId:t.objectId}).catch((e=>{Z(e)}))}};class ne{constructor(){var e;this.eventsMap=new Map,this.emitter={all:e=(e=this.eventsMap)||new Map,on(t,r){const i=e.get(t);i&&i.push(r)||e.set(t,[r])},off(t,r){const i=e.get(t);i&&i.splice(i.indexOf(r)>>>0,1)},emit(t,r){(e.get(t)||[]).slice().map((e=>{e(r)})),(e.get("*")||[]).slice().map((e=>{e(t,r)}))}}}on(e,t){return this.emitter.on(e,t),this}off(e,t){return this.emitter.off(e,t),this}removeListener(e,t){return this.off(e,t),this}addListener(e,t){return this.on(e,t),this}emit(e,t){return this.emitter.emit(e,t),this.eventListenersCount(e)>0}once(e,t){const r=i=>{t(i),this.off(e,r)};return this.on(e,r)}listenerCount(e){return this.eventListenersCount(e)}removeAllListeners(e){return e?this.eventsMap.delete(e):this.eventsMap.clear(),this}eventListenersCount(e){var t;return(null===(t=this.eventsMap.get(e))||void 0===t?void 0:t.length)||0}}const se=J("puppeteer:protocol:SEND ►"),oe=J("puppeteer:protocol:RECV ◀"),ae={Disconnected:Symbol("Connection.Disconnected")};class ce extends ne{constructor(e,t,r=0){super(),this._lastId=0,this._sessions=new Map,this._closed=!1,this._callbacks=new Map,this._url=e,this._delay=r,this._transport=t,this._transport.onmessage=this._onMessage.bind(this),this._transport.onclose=this._onClose.bind(this)}static fromSession(e){return e._connection}session(e){return this._sessions.get(e)||null}url(){return this._url}send(e,...t){const r=t.length?t[0]:void 0,i=this._rawSend({method:e,params:r});return new Promise(((t,r)=>{this._callbacks.set(i,{resolve:t,reject:r,error:new M,method:e})}))}_rawSend(e){const t=++this._lastId,r=JSON.stringify(Object.assign({},e,{id:t}));return se(r),this._transport.send(r),t}async _onMessage(e){this._delay&&await new Promise((e=>setTimeout(e,this._delay))),oe(e);const t=JSON.parse(e);if("Target.attachedToTarget"===t.method){const e=t.params.sessionId,r=new ue(this,t.params.targetInfo.type,e);this._sessions.set(e,r),this.emit("sessionattached",r);const i=this._sessions.get(t.sessionId);i&&i.emit("sessionattached",r)}else if("Target.detachedFromTarget"===t.method){const e=this._sessions.get(t.params.sessionId);if(e){e._onClosed(),this._sessions.delete(t.params.sessionId),this.emit("sessiondetached",e);const r=this._sessions.get(t.sessionId);r&&r.emit("sessiondetached",e)}}if(t.sessionId){const e=this._sessions.get(t.sessionId);e&&e._onMessage(t)}else if(t.id){const e=this._callbacks.get(t.id);e&&(this._callbacks.delete(t.id),t.error?e.reject(he(e.error,e.method,t)):e.resolve(t.result))}else this.emit(t.method,t.params)}_onClose(){if(!this._closed){this._closed=!0,this._transport.onmessage=void 0,this._transport.onclose=void 0;for(const e of this._callbacks.values())e.reject(de(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear();for(const e of this._sessions.values())e._onClosed();this._sessions.clear(),this.emit(ae.Disconnected)}}dispose(){this._onClose(),this._transport.close()}async createSession(e){const{sessionId:t}=await this.send("Target.attachToTarget",{targetId:e.targetId,flatten:!0}),r=this._sessions.get(t);if(!r)throw new Error("CDPSession creation failed.");return r}}const le={Disconnected:Symbol("CDPSession.Disconnected")};class ue extends ne{constructor(e,t,r){super(),this._callbacks=new Map,this._connection=e,this._targetType=t,this._sessionId=r}connection(){return this._connection}send(e,...t){if(!this._connection)return Promise.reject(new Error(`Protocol error (${e}): Session closed. Most likely the ${this._targetType} has been closed.`));const r=t.length?t[0]:void 0,i=this._connection._rawSend({sessionId:this._sessionId,method:e,params:r});return new Promise(((t,r)=>{this._callbacks.set(i,{resolve:t,reject:r,error:new M,method:e})}))}_onMessage(e){const t=e.id?this._callbacks.get(e.id):void 0;e.id&&t?(this._callbacks.delete(e.id),e.error?t.reject(he(t.error,t.method,e)):t.resolve(e.result)):(V(!e.id),this.emit(e.method,e.params))}async detach(){if(!this._connection)throw new Error(`Session already detached. Most likely the ${this._targetType} has been closed.`);await this._connection.send("Target.detachFromTarget",{sessionId:this._sessionId})}_onClosed(){for(const e of this._callbacks.values())e.reject(de(e.error,`Protocol error (${e.method}): Target closed.`));this._callbacks.clear(),this._connection=void 0,this.emit(le.Disconnected)}id(){return this._sessionId}}function he(e,t,r){let i=`Protocol error (${t}): ${r.error.message}`;return"data"in r.error&&(i+=` ${r.error.data}`),de(e,i,r.error.message)}function de(e,t,r){return e.message=t,e.originalMessage=null!=r?r:e.originalMessage,e}class fe{constructor(e,t,r,i=""){this._handled=!1,this._client=e,this._type=t,this._message=r,this._defaultValue=i}type(){return this._type}message(){return this._message}defaultValue(){return this._defaultValue}async accept(e){V(!this._handled,"Cannot accept dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!0,promptText:e})}async dismiss(){V(!this._handled,"Cannot dismiss dialog which is already handled!"),this._handled=!0,await this._client.send("Page.handleJavaScriptDialog",{accept:!1})}}class pe{constructor(e){this._emulatingMobile=!1,this._hasTouch=!1,this._client=e}async emulateViewport(e){const t=e.isMobile||!1,r=e.width,i=e.height,n=e.deviceScaleFactor||1,s=e.isLandscape?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"},o=e.hasTouch||!1;await Promise.all([this._client.send("Emulation.setDeviceMetricsOverride",{mobile:t,width:r,height:i,deviceScaleFactor:n,screenOrientation:s}),this._client.send("Emulation.setTouchEmulationEnabled",{enabled:o})]);const a=this._emulatingMobile!==t||this._hasTouch!==o;return this._emulatingMobile=t,this._hasTouch=o,a}}function me(e,t){const r=e.frame();if("node"===t.subtype&&r){const i=r._frameManager;return new _e(e,e._client,t,r,i.page(),i)}return new ye(e,e._client,t)}const ge=(e,t,r)=>e.map((e=>({x:e.x+t,y:e.y+r})));class ye{constructor(e,t,r){this._disposed=!1,this._context=e,this._client=t,this._remoteObject=r}executionContext(){return this._context}async evaluate(e,...t){return await this.executionContext().evaluate(e,this,...t)}async evaluateHandle(e,...t){return await this.executionContext().evaluateHandle(e,this,...t)}async getProperty(e){const t=await this.evaluateHandle(((e,t)=>{const r={__proto__:null};return r[t]=e[t],r}),e),r=(await t.getProperties()).get(e);return V(r instanceof ye),await t.dispose(),r}async getProperties(){const e=await this._client.send("Runtime.getProperties",{objectId:this._remoteObject.objectId,ownProperties:!0}),t=new Map;for(const r of e.result)r.enumerable&&t.set(r.name,me(this._context,r.value));return t}async jsonValue(){if(this._remoteObject.objectId){const e=await this._client.send("Runtime.callFunctionOn",{functionDeclaration:"function() { return this; }",objectId:this._remoteObject.objectId,returnByValue:!0,awaitPromise:!0});return ie.valueFromRemoteObject(e.result)}return ie.valueFromRemoteObject(this._remoteObject)}asElement(){return null}async dispose(){this._disposed||(this._disposed=!0,await ie.releaseObject(this._client,this._remoteObject))}toString(){return this._remoteObject.objectId?"JSHandle@"+(this._remoteObject.subtype||this._remoteObject.type):"JSHandle:"+ie.valueFromRemoteObject(this._remoteObject)}}class _e extends ye{constructor(e,t,r,i,n,s){super(e,t,r),this._client=t,this._remoteObject=r,this._frame=i,this._page=n,this._frameManager=s}async waitForSelector(e,t={}){const r=this._context.frame(),i=await r._secondaryWorld.executionContext(),n=await i._adoptElementHandle(this),s=await r._secondaryWorld.waitForSelector(e,{...t,root:n});if(await n.dispose(),!s)return null;const o=await r._mainWorld.executionContext(),a=await o._adoptElementHandle(s);return await s.dispose(),a}async waitForXPath(e,t={}){const r=this._context.frame(),i=await r._secondaryWorld.executionContext(),n=await i._adoptElementHandle(this);if(!(e=e.startsWith("//")?"."+e:e).startsWith(".//"))throw await n.dispose(),new Error("Unsupported xpath expression: "+e);const s=await r._secondaryWorld.waitForXPath(e,{...t,root:n});if(await n.dispose(),!s)return null;const o=await r._mainWorld.executionContext(),a=await o._adoptElementHandle(s);return await s.dispose(),a}asElement(){return this}async contentFrame(){const e=await this._client.send("DOM.describeNode",{objectId:this._remoteObject.objectId});return"string"!=typeof e.node.frameId?null:this._frameManager.frame(e.node.frameId)}async _scrollIntoViewIfNeeded(){const e=await this.evaluate((async(e,t)=>{if(!e.isConnected)return"Node is detached from document";if(e.nodeType!==Node.ELEMENT_NODE)return"Node is not of type HTMLElement";if(!t)return e.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1;const r=await new Promise((t=>{const r=new IntersectionObserver((e=>{t(e[0].intersectionRatio),r.disconnect()}));r.observe(e)}));return 1!==r&&e.scrollIntoView({block:"center",inline:"center",behavior:"instant"}),!1}),this._page.isJavaScriptEnabled());if(e)throw new Error(e)}async _getOOPIFOffsets(e){let t=0,r=0;for(;e.parentFrame();){const i=e.parentFrame();if(!e.isOOPFrame()){e=i;continue}const{backendNodeId:n}=await i._client.send("DOM.getFrameOwner",{frameId:e._id}),s=await i._client.send("DOM.getBoxModel",{backendNodeId:n});if(!s)break;const o=s.model.content,a=this._fromProtocolQuad(o)[0];t+=a.x,r+=a.y,e=i}return{offsetX:t,offsetY:r}}async clickablePoint(e){const[t,r]=await Promise.all([this._client.send("DOM.getContentQuads",{objectId:this._remoteObject.objectId}).catch(Z),this._page.client().send("Page.getLayoutMetrics")]);if(!t||!t.quads.length)throw new Error("Node is either not clickable or not an HTMLElement");const{clientWidth:i,clientHeight:n}=r.cssLayoutViewport||r.layoutViewport,{offsetX:s,offsetY:o}=await this._getOOPIFOffsets(this._frame),a=t.quads.map((e=>this._fromProtocolQuad(e))).map((e=>ge(e,s,o))).map((e=>this._intersectQuadWithViewport(e,i,n))).filter((e=>function(e){let t=0;for(let r=0;r<e.length;++r){const i=e[r],n=e[(r+1)%e.length];t+=(i.x*n.y-n.x*i.y)/2}return Math.abs(t)}(e)>1));if(!a.length)throw new Error("Node is either not clickable or not an HTMLElement");const c=a[0];if(e){let t=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER;for(const e of c)e.x<t&&(t=e.x),e.y<r&&(r=e.y);if(t!==Number.MAX_SAFE_INTEGER&&r!==Number.MAX_SAFE_INTEGER)return{x:t+e.x,y:r+e.y}}let l=0,u=0;for(const e of c)l+=e.x,u+=e.y;return{x:l/4,y:u/4}}_getBoxModel(){const e={objectId:this._remoteObject.objectId};return this._client.send("DOM.getBoxModel",e).catch((e=>Z(e)))}_fromProtocolQuad(e){return[{x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},{x:e[6],y:e[7]}]}_intersectQuadWithViewport(e,t,r){return e.map((e=>({x:Math.min(Math.max(e.x,0),t),y:Math.min(Math.max(e.y,0),r)})))}async hover(){await this._scrollIntoViewIfNeeded();const{x:e,y:t}=await this.clickablePoint();await this._page.mouse.move(e,t)}async click(e={}){await this._scrollIntoViewIfNeeded();const{x:t,y:r}=await this.clickablePoint(e.offset);await this._page.mouse.click(t,r,e)}async drag(e){V(this._page.isDragInterceptionEnabled(),"Drag Interception is not enabled!"),await this._scrollIntoViewIfNeeded();const t=await this.clickablePoint();return await this._page.mouse.drag(t,e)}async dragEnter(e={items:[],dragOperationsMask:1}){await this._scrollIntoViewIfNeeded();const t=await this.clickablePoint();await this._page.mouse.dragEnter(t,e)}async dragOver(e={items:[],dragOperationsMask:1}){await this._scrollIntoViewIfNeeded();const t=await this.clickablePoint();await this._page.mouse.dragOver(t,e)}async drop(e={items:[],dragOperationsMask:1}){await this._scrollIntoViewIfNeeded();const t=await this.clickablePoint();await this._page.mouse.drop(t,e)}async dragAndDrop(e,t){await this._scrollIntoViewIfNeeded();const r=await this.clickablePoint(),i=await e.clickablePoint();await this._page.mouse.dragAndDrop(r,i,t)}async select(...e){for(const t of e)V(ie.isString(t),'Values must be strings. Found value "'+t+'" of type "'+typeof t+'"');return this.evaluate(((e,t)=>{if(!(e instanceof HTMLSelectElement))throw new Error("Element is not a <select> element.");const r=Array.from(e.options);e.value=void 0;for(const i of r)if(i.selected=t.includes(i.value),i.selected&&!e.multiple)break;return e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),r.filter((e=>e.selected)).map((e=>e.value))}),e)}async uploadFile(...e){const t=await this.evaluate((e=>{if(!(e instanceof HTMLInputElement))throw new Error("uploadFile can only be called on an input element.");return e.multiple}));if(V(e.length<=1||t,"Multiple file uploads only work with <input type=file multiple>"),!X)throw new Error("JSHandle#uploadFile can only be used in Node environments.");const r=await Promise.resolve().then(s.t.bind(s,1017,19)),i=await ie.importFSModule(),n=await Promise.all(e.map((async e=>{const t=r.resolve(e);try{await i.promises.access(t,i.constants.R_OK)}catch(t){if("ENOENT"===t.code)throw new Error(`${e} does not exist or is not readable`)}return t}))),{objectId:o}=this._remoteObject,{node:a}=await this._client.send("DOM.describeNode",{objectId:o}),{backendNodeId:c}=a;0===n.length?await this.evaluate((e=>{e.files=(new DataTransfer).files,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0}))})):await this._client.send("DOM.setFileInputFiles",{objectId:o,files:n,backendNodeId:c})}async tap(){await this._scrollIntoViewIfNeeded();const{x:e,y:t}=await this.clickablePoint();await this._page.touchscreen.tap(e,t)}async focus(){await this.evaluate((e=>e.focus()))}async type(e,t){await this.focus(),await this._page.keyboard.type(e,t)}async press(e,t){await this.focus(),await this._page.keyboard.press(e,t)}async boundingBox(){const e=await this._getBoxModel();if(!e)return null;const{offsetX:t,offsetY:r}=await this._getOOPIFOffsets(this._frame),i=e.model.border,n=Math.min(i[0],i[2],i[4],i[6]),s=Math.min(i[1],i[3],i[5],i[7]);return{x:n+t,y:s+r,width:Math.max(i[0],i[2],i[4],i[6])-n,height:Math.max(i[1],i[3],i[5],i[7])-s}}async boxModel(){const e=await this._getBoxModel();if(!e)return null;const{offsetX:t,offsetY:r}=await this._getOOPIFOffsets(this._frame),{content:i,padding:n,border:s,margin:o,width:a,height:c}=e.model;return{content:ge(this._fromProtocolQuad(i),t,r),padding:ge(this._fromProtocolQuad(n),t,r),border:ge(this._fromProtocolQuad(s),t,r),margin:ge(this._fromProtocolQuad(o),t,r),width:a,height:c}}async screenshot(e={}){let t=!1,r=await this.boundingBox();V(r,"Node is either not visible or not an HTMLElement");const i=this._page.viewport();if(i&&(r.width>i.width||r.height>i.height)){const e={width:Math.max(i.width,Math.ceil(r.width)),height:Math.max(i.height,Math.ceil(r.height))};await this._page.setViewport(Object.assign({},i,e)),t=!0}await this._scrollIntoViewIfNeeded(),r=await this.boundingBox(),V(r,"Node is either not visible or not an HTMLElement"),V(0!==r.width,"Node has 0 width."),V(0!==r.height,"Node has 0 height.");const n=await this._client.send("Page.getLayoutMetrics"),{pageX:s,pageY:o}=n.cssVisualViewport||n.layoutViewport,a=Object.assign({},r);a.x+=s,a.y+=o;const c=await this._page.screenshot(Object.assign({},{clip:a},e));return t&&await this._page.setViewport(i),c}async $(e){const{updatedSelector:t,queryHandler:r}=G(e);return r.queryOne(this,t)}async $$(e){const{updatedSelector:t,queryHandler:r}=G(e);return r.queryAll(this,t)}async $eval(e,t,...r){const i=await this.$(e);if(!i)throw new Error(`Error: failed to find element matching selector "${e}"`);const n=await i.evaluate(t,...r);return await i.dispose(),n}async $$eval(e,t,...r){const{updatedSelector:i,queryHandler:n}=G(e),s=await n.queryAllArray(this,i),o=await s.evaluate(t,...r);return await s.dispose(),o}async $x(e){const t=await this.evaluateHandle(((e,t)=>{const r=(e.ownerDocument||e).evaluate(t,e,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE),i=[];let n;for(;n=r.iterateNext();)i.push(n);return i}),e),r=await t.getProperties();await t.dispose();const i=[];for(const e of r.values()){const t=e.asElement();t&&i.push(t)}return i}async isIntersectingViewport(e){const{threshold:t=0}=e||{};return await this.evaluate((async(e,t)=>{const r=await new Promise((t=>{const r=new IntersectionObserver((e=>{t(e[0].intersectionRatio),r.disconnect()}));r.observe(e)}));return 1===t?1===r:r>t}),t)}}const be="__puppeteer_evaluation_script__",we=/^[\040\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m;class ve{constructor(e,t,r){this._client=e,this._world=r,this._contextId=t.id,this._contextName=t.name}frame(){return this._world?this._world.frame():null}async evaluate(e,...t){return await this._evaluateInternal(!0,e,...t)}async evaluateHandle(e,...t){return this._evaluateInternal(!1,e,...t)}async _evaluateInternal(e,t,...r){const i=`//# sourceURL=${be}`;if(ie.isString(t)){const r=this._contextId,n=t,s=we.test(n)?n:n+"\n"+i,{exceptionDetails:o,result:a}=await this._client.send("Runtime.evaluate",{expression:s,contextId:r,returnByValue:e,awaitPromise:!0,userGesture:!0}).catch(c);if(o)throw new Error("Evaluation failed: "+ie.getExceptionMessage(o));return e?ie.valueFromRemoteObject(a):me(this,a)}if("function"!=typeof t)throw new Error(`Expected to get |string| or |function| as the first argument, but got "${t}" instead.`);let n,s=t.toString();try{new Function("("+s+")")}catch(e){s=s.startsWith("async ")?"async function "+s.substring("async ".length):"function "+s;try{new Function("("+s+")")}catch(e){throw new Error("Passed function is not well-serializable!")}}try{n=this._client.send("Runtime.callFunctionOn",{functionDeclaration:s+"\n"+i+"\n",executionContextId:this._contextId,arguments:r.map(function(e){if("bigint"==typeof e)return{unserializableValue:`${e.toString()}n`};if(Object.is(e,-0))return{unserializableValue:"-0"};if(Object.is(e,1/0))return{unserializableValue:"Infinity"};if(Object.is(e,-1/0))return{unserializableValue:"-Infinity"};if(Object.is(e,NaN))return{unserializableValue:"NaN"};const t=e&&e instanceof ye?e:null;if(t){if(t._context!==this)throw new Error("JSHandles can be evaluated only in the context they were created!");if(t._disposed)throw new Error("JSHandle is disposed!");return t._remoteObject.unserializableValue?{unserializableValue:t._remoteObject.unserializableValue}:t._remoteObject.objectId?{objectId:t._remoteObject.objectId}:{value:t._remoteObject.value}}return{value:e}}.bind(this)),returnByValue:e,awaitPromise:!0,userGesture:!0})}catch(e){throw e instanceof TypeError&&e.message.startsWith("Converting circular structure to JSON")&&(e.message+=" Are you passing a nested JSHandle?"),e}const{exceptionDetails:o,result:a}=await n.catch(c);if(o)throw new Error("Evaluation failed: "+ie.getExceptionMessage(o));return e?ie.valueFromRemoteObject(a):me(this,a);function c(e){if(e.message.includes("Object reference chain is too long"))return{result:{type:"undefined"}};if(e.message.includes("Object couldn't be returned by value"))return{result:{type:"undefined"}};if(e.message.endsWith("Cannot find context with specified id")||e.message.endsWith("Inspected target navigated or closed"))throw new Error("Execution context was destroyed, most likely because of a navigation.");throw e}}async queryObjects(e){return V(!e._disposed,"Prototype JSHandle is disposed!"),V(e._remoteObject.objectId,"Prototype JSHandle must not be referencing primitive value"),me(this,(await this._client.send("Runtime.queryObjects",{prototypeObjectId:e._remoteObject.objectId})).objects)}async _adoptBackendNodeId(e){const{object:t}=await this._client.send("DOM.resolveNode",{backendNodeId:e,executionContextId:this._contextId});return me(this,t)}async _adoptElementHandle(e){V(e.executionContext()!==this,"Cannot adopt handle that already belongs to this execution context"),V(this._world,"Cannot adopt handle without DOMWorld");const t=await this._client.send("DOM.describeNode",{objectId:e._remoteObject.objectId});return this._adoptBackendNodeId(t.node.backendNodeId)}}class ke{constructor(e,t,r,i,n,s){this._failureText=null,this._response=null,this._fromMemoryCache=!1,this._interceptionHandled=!1,this._headers={},this._responseForRequest=null,this._abortErrorReason=null,this._interceptResolutionState={action:Se.None},this._client=e,this._requestId=n.requestId,this._isNavigationRequest=n.requestId===n.loaderId&&"Document"===n.type,this._interceptionId=r,this._allowInterception=i,this._url=n.request.url,this._resourceType=(n.type||"other").toLowerCase(),this._method=n.request.method,this._postData=n.request.postData,this._frame=t,this._redirectChain=s,this._continueRequestOverrides={},this._interceptHandlers=[],this._initiator=n.initiator;for(const e of Object.keys(n.request.headers))this._headers[e.toLowerCase()]=n.request.headers[e]}url(){return this._url}continueRequestOverrides(){return V(this._allowInterception,"Request Interception is not enabled!"),this._continueRequestOverrides}responseForRequest(){return V(this._allowInterception,"Request Interception is not enabled!"),this._responseForRequest}abortErrorReason(){return V(this._allowInterception,"Request Interception is not enabled!"),this._abortErrorReason}interceptResolutionState(){return this._allowInterception?this._interceptionHandled?{action:Se.AlreadyHandled}:{...this._interceptResolutionState}:{action:Se.Disabled}}isInterceptResolutionHandled(){return this._interceptionHandled}enqueueInterceptAction(e){this._interceptHandlers.push(e)}async finalizeInterceptions(){await this._interceptHandlers.reduce(((e,t)=>e.then(t)),Promise.resolve());const{action:e}=this.interceptResolutionState();switch(e){case"abort":return this._abort(this._abortErrorReason);case"respond":if(null===this._responseForRequest)throw new Error("Response is missing for the interception");return this._respond(this._responseForRequest);case"continue":return this._continue(this._continueRequestOverrides)}}resourceType(){return this._resourceType}method(){return this._method}postData(){return this._postData}headers(){return this._headers}response(){return this._response}frame(){return this._frame}isNavigationRequest(){return this._isNavigationRequest}initiator(){return this._initiator}redirectChain(){return this._redirectChain.slice()}failure(){return this._failureText?{errorText:this._failureText}:null}async continue(e={},t){if(!this._url.startsWith("data:")){if(V(this._allowInterception,"Request Interception is not enabled!"),V(!this._interceptionHandled,"Request is already handled!"),void 0===t)return this._continue(e);if(this._continueRequestOverrides=e,void 0===this._interceptResolutionState.priority||t>this._interceptResolutionState.priority)this._interceptResolutionState={action:Se.Continue,priority:t};else if(t===this._interceptResolutionState.priority){if("abort"===this._interceptResolutionState.action||"respond"===this._interceptResolutionState.action)return;this._interceptResolutionState.action=Se.Continue}}}async _continue(e={}){const{url:t,method:r,postData:i,headers:n}=e;this._interceptionHandled=!0;const s=i?Buffer.from(i).toString("base64"):void 0;await this._client.send("Fetch.continueRequest",{requestId:this._interceptionId,url:t,method:r,postData:s,headers:n?xe(n):void 0}).catch((e=>(this._interceptionHandled=!1,Ce(e))))}async respond(e,t){if(!this._url.startsWith("data:")){if(V(this._allowInterception,"Request Interception is not enabled!"),V(!this._interceptionHandled,"Request is already handled!"),void 0===t)return this._respond(e);if(this._responseForRequest=e,void 0===this._interceptResolutionState.priority||t>this._interceptResolutionState.priority)this._interceptResolutionState={action:Se.Respond,priority:t};else if(t===this._interceptResolutionState.priority){if("abort"===this._interceptResolutionState.action)return;this._interceptResolutionState.action=Se.Respond}}}async _respond(e){this._interceptionHandled=!0;const t=e.body&&ie.isString(e.body)?Buffer.from(e.body):e.body||null,r={};if(e.headers)for(const t of Object.keys(e.headers)){const i=e.headers[t];r[t.toLowerCase()]=Array.isArray(i)?i.map((e=>String(e))):String(i)}e.contentType&&(r["content-type"]=e.contentType),t&&!("content-length"in r)&&(r["content-length"]=String(Buffer.byteLength(t)));const i=e.status||200;await this._client.send("Fetch.fulfillRequest",{requestId:this._interceptionId,responseCode:i,responsePhrase:Te[i],responseHeaders:xe(r),body:t?t.toString("base64"):void 0}).catch((e=>(this._interceptionHandled=!1,Ce(e))))}async abort(e="failed",t){if(this._url.startsWith("data:"))return;const r=Ee[e];if(V(r,"Unknown error code: "+e),V(this._allowInterception,"Request Interception is not enabled!"),V(!this._interceptionHandled,"Request is already handled!"),void 0===t)return this._abort(r);this._abortErrorReason=r,(void 0===this._interceptResolutionState.priority||t>=this._interceptResolutionState.priority)&&(this._interceptResolutionState={action:Se.Abort,priority:t})}async _abort(e){this._interceptionHandled=!0,await this._client.send("Fetch.failRequest",{requestId:this._interceptionId,errorReason:e||"Failed"}).catch(Ce)}}var Se;!function(e){e.Abort="abort",e.Respond="respond",e.Continue="continue",e.Disabled="disabled",e.None="none",e.AlreadyHandled="already-handled"}(Se||(Se={}));const Ee={aborted:"Aborted",accessdenied:"AccessDenied",addressunreachable:"AddressUnreachable",blockedbyclient:"BlockedByClient",blockedbyresponse:"BlockedByResponse",connectionaborted:"ConnectionAborted",connectionclosed:"ConnectionClosed",connectionfailed:"ConnectionFailed",connectionrefused:"ConnectionRefused",connectionreset:"ConnectionReset",internetdisconnected:"InternetDisconnected",namenotresolved:"NameNotResolved",timedout:"TimedOut",failed:"Failed"};function xe(e){const t=[];for(const r in e){const i=e[r];if(!Object.is(i,void 0)){const e=Array.isArray(i)?i:[i];t.push(...e.map((e=>({name:r,value:e+""}))))}}return t}async function Ce(e){if(["Invalid header"].includes(e.originalMessage))throw e;Z(e)}const Te={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Switch Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Too Early",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required"};class Me{constructor(e){this._subjectName=e.subjectName,this._issuer=e.issuer,this._validFrom=e.validFrom,this._validTo=e.validTo,this._protocol=e.protocol,this._sanList=e.sanList}issuer(){return this._issuer}validFrom(){return this._validFrom}validTo(){return this._validTo}protocol(){return this._protocol}subjectName(){return this._subjectName}subjectAlternativeNames(){return this._sanList}}class Re{constructor(e,t,r,i){this._contentPromise=null,this._bodyLoadedPromiseFulfill=()=>{},this._headers={},this._client=e,this._request=t,this._bodyLoadedPromise=new Promise((e=>{this._bodyLoadedPromiseFulfill=e})),this._remoteAddress={ip:r.remoteIPAddress,port:r.remotePort},this._statusText=this._parseStatusTextFromExtrInfo(i)||r.statusText,this._url=t.url(),this._fromDiskCache=!!r.fromDiskCache,this._fromServiceWorker=!!r.fromServiceWorker,this._status=i?i.statusCode:r.status;const n=i?i.headers:r.headers;for(const e of Object.keys(n))this._headers[e.toLowerCase()]=n[e];this._securityDetails=r.securityDetails?new Me(r.securityDetails):null,this._timing=r.timing||null}_parseStatusTextFromExtrInfo(e){if(!e||!e.headersText)return;const t=e.headersText.split("\r",1)[0];if(!t)return;const r=t.match(/[^ ]* [^ ]* (.*)/);if(!r)return;return r[1]||void 0}_resolveBody(e){return e?this._bodyLoadedPromiseFulfill(e):this._bodyLoadedPromiseFulfill()}remoteAddress(){return this._remoteAddress}url(){return this._url}ok(){return 0===this._status||this._status>=200&&this._status<=299}status(){return this._status}statusText(){return this._statusText}headers(){return this._headers}securityDetails(){return this._securityDetails}timing(){return this._timing}buffer(){return this._contentPromise||(this._contentPromise=this._bodyLoadedPromise.then((async e=>{if(e)throw e;try{const e=await this._client.send("Network.getResponseBody",{requestId:this._request._requestId});return Buffer.from(e.body,e.base64Encoded?"base64":"utf8")}catch(e){if(e instanceof M&&"No resource with given identifier found"===e.originalMessage)throw new M("Could not load body for this request. This might happen if the request is a preflight request.");throw e}}))),this._contentPromise}async text(){return(await this.buffer()).toString("utf8")}async json(){const e=await this.text();return JSON.parse(e)}request(){return this._request}fromCache(){return this._fromDiskCache||this._request._fromMemoryCache}fromServiceWorker(){return this._fromServiceWorker}frame(){return this._request.frame()}}class Pe{constructor(){this._requestWillBeSentMap=new Map,this._requestPausedMap=new Map,this._httpRequestsMap=new Map,this._responseReceivedExtraInfoMap=new Map,this._queuedRedirectInfoMap=new Map,this._queuedEventGroupMap=new Map}forget(e){this._requestWillBeSentMap.delete(e),this._requestPausedMap.delete(e),this._queuedEventGroupMap.delete(e),this._queuedRedirectInfoMap.delete(e),this._responseReceivedExtraInfoMap.delete(e)}responseExtraInfo(e){return this._responseReceivedExtraInfoMap.has(e)||this._responseReceivedExtraInfoMap.set(e,[]),this._responseReceivedExtraInfoMap.get(e)}queuedRedirectInfo(e){return this._queuedRedirectInfoMap.has(e)||this._queuedRedirectInfoMap.set(e,[]),this._queuedRedirectInfoMap.get(e)}queueRedirectInfo(e,t){this.queuedRedirectInfo(e).push(t)}takeQueuedRedirectInfo(e){return this.queuedRedirectInfo(e).shift()}numRequestsInProgress(){return[...this._httpRequestsMap].filter((([,e])=>!e.response())).length}storeRequestWillBeSent(e,t){this._requestWillBeSentMap.set(e,t)}getRequestWillBeSent(e){return this._requestWillBeSentMap.get(e)}forgetRequestWillBeSent(e){this._requestWillBeSentMap.delete(e)}getRequestPaused(e){return this._requestPausedMap.get(e)}forgetRequestPaused(e){this._requestPausedMap.delete(e)}storeRequestPaused(e,t){this._requestPausedMap.set(e,t)}getRequest(e){return this._httpRequestsMap.get(e)}storeRequest(e,t){this._httpRequestsMap.set(e,t)}forgetRequest(e){this._httpRequestsMap.delete(e)}getQueuedEventGroup(e){return this._queuedEventGroupMap.get(e)}queueEventGroup(e,t){this._queuedEventGroupMap.set(e,t)}forgetQueuedEventGroup(e){this._queuedEventGroupMap.delete(e)}}const Oe={Request:Symbol("NetworkManager.Request"),RequestServedFromCache:Symbol("NetworkManager.RequestServedFromCache"),Response:Symbol("NetworkManager.Response"),RequestFailed:Symbol("NetworkManager.RequestFailed"),RequestFinished:Symbol("NetworkManager.RequestFinished")};class Ae extends ne{constructor(e,t,r){super(),this._networkEventManager=new Pe,this._extraHTTPHeaders={},this._credentials=null,this._attemptedAuthentications=new Set,this._userRequestInterceptionEnabled=!1,this._protocolRequestInterceptionEnabled=!1,this._userCacheDisabled=!1,this._emulatedNetworkConditions={offline:!1,upload:-1,download:-1,latency:0},this._client=e,this._ignoreHTTPSErrors=t,this._frameManager=r,this._client.on("Fetch.requestPaused",this._onRequestPaused.bind(this)),this._client.on("Fetch.authRequired",this._onAuthRequired.bind(this)),this._client.on("Network.requestWillBeSent",this._onRequestWillBeSent.bind(this)),this._client.on("Network.requestServedFromCache",this._onRequestServedFromCache.bind(this)),this._client.on("Network.responseReceived",this._onResponseReceived.bind(this)),this._client.on("Network.loadingFinished",this._onLoadingFinished.bind(this)),this._client.on("Network.loadingFailed",this._onLoadingFailed.bind(this)),this._client.on("Network.responseReceivedExtraInfo",this._onResponseReceivedExtraInfo.bind(this))}async initialize(){await this._client.send("Network.enable"),this._ignoreHTTPSErrors&&await this._client.send("Security.setIgnoreCertificateErrors",{ignore:!0})}async authenticate(e){this._credentials=e,await this._updateProtocolRequestInterception()}async setExtraHTTPHeaders(e){this._extraHTTPHeaders={};for(const t of Object.keys(e)){const r=e[t];V(ie.isString(r),`Expected value of header "${t}" to be String, but "${typeof r}" is found.`),this._extraHTTPHeaders[t.toLowerCase()]=r}await this._client.send("Network.setExtraHTTPHeaders",{headers:this._extraHTTPHeaders})}extraHTTPHeaders(){return Object.assign({},this._extraHTTPHeaders)}numRequestsInProgress(){return this._networkEventManager.numRequestsInProgress()}async setOfflineMode(e){this._emulatedNetworkConditions.offline=e,await this._updateNetworkConditions()}async emulateNetworkConditions(e){this._emulatedNetworkConditions.upload=e?e.upload:-1,this._emulatedNetworkConditions.download=e?e.download:-1,this._emulatedNetworkConditions.latency=e?e.latency:0,await this._updateNetworkConditions()}async _updateNetworkConditions(){await this._client.send("Network.emulateNetworkConditions",{offline:this._emulatedNetworkConditions.offline,latency:this._emulatedNetworkConditions.latency,uploadThroughput:this._emulatedNetworkConditions.upload,downloadThroughput:this._emulatedNetworkConditions.download})}async setUserAgent(e,t){await this._client.send("Network.setUserAgentOverride",{userAgent:e,userAgentMetadata:t})}async setCacheEnabled(e){this._userCacheDisabled=!e,await this._updateProtocolCacheDisabled()}async setRequestInterception(e){this._userRequestInterceptionEnabled=e,await this._updateProtocolRequestInterception()}async _updateProtocolRequestInterception(){const e=this._userRequestInterceptionEnabled||!!this._credentials;e!==this._protocolRequestInterceptionEnabled&&(this._protocolRequestInterceptionEnabled=e,e?await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.enable",{handleAuthRequests:!0,patterns:[{urlPattern:"*"}]})]):await Promise.all([this._updateProtocolCacheDisabled(),this._client.send("Fetch.disable")]))}_cacheDisabled(){return this._userCacheDisabled}async _updateProtocolCacheDisabled(){await this._client.send("Network.setCacheDisabled",{cacheDisabled:this._cacheDisabled()})}_onRequestWillBeSent(e){if(!this._userRequestInterceptionEnabled||e.request.url.startsWith("data:"))this._onRequest(e,null);else{const{requestId:t}=e;this._networkEventManager.storeRequestWillBeSent(t,e);const r=this._networkEventManager.getRequestPaused(t);if(r){const{requestId:i}=r;this._patchRequestEventHeaders(e,r),this._onRequest(e,i),this._networkEventManager.forgetRequestPaused(t)}}}_onAuthRequired(e){let t="Default";this._attemptedAuthentications.has(e.requestId)?t="CancelAuth":this._credentials&&(t="ProvideCredentials",this._attemptedAuthentications.add(e.requestId));const{username:r,password:i}=this._credentials||{username:void 0,password:void 0};this._client.send("Fetch.continueWithAuth",{requestId:e.requestId,authChallengeResponse:{response:t,username:r,password:i}}).catch(Z)}_onRequestPaused(e){!this._userRequestInterceptionEnabled&&this._protocolRequestInterceptionEnabled&&this._client.send("Fetch.continueRequest",{requestId:e.requestId}).catch(Z);const{networkId:t,requestId:r}=e;if(!t)return;const i=(()=>{const r=this._networkEventManager.getRequestWillBeSent(t);if(!r||r.request.url===e.request.url&&r.request.method===e.request.method)return r;this._networkEventManager.forgetRequestWillBeSent(t)})();i?(this._patchRequestEventHeaders(i,e),this._onRequest(i,r)):this._networkEventManager.storeRequestPaused(t,e)}_patchRequestEventHeaders(e,t){e.request.headers={...e.request.headers,...t.request.headers}}_onRequest(e,t){let r=[];if(e.redirectResponse){let i=null;if(e.redirectHasExtraInfo&&(i=this._networkEventManager.responseExtraInfo(e.requestId).shift(),!i))return void this._networkEventManager.queueRedirectInfo(e.requestId,{event:e,fetchRequestId:t});const n=this._networkEventManager.getRequest(e.requestId);n&&(this._handleRequestRedirect(n,e.redirectResponse,i),r=n._redirectChain)}const i=e.frameId?this._frameManager.frame(e.frameId):null,n=new ke(this._client,i,t,this._userRequestInterceptionEnabled,e,r);this._networkEventManager.storeRequest(e.requestId,n),this.emit(Oe.Request,n),n.finalizeInterceptions()}_onRequestServedFromCache(e){const t=this._networkEventManager.getRequest(e.requestId);t&&(t._fromMemoryCache=!0),this.emit(Oe.RequestServedFromCache,t)}_handleRequestRedirect(e,t,r){const i=new Re(this._client,e,t,r);e._response=i,e._redirectChain.push(e),i._resolveBody(new Error("Response body is unavailable for redirect responses")),this._forgetRequest(e,!1),this.emit(Oe.Response,i),this.emit(Oe.RequestFinished,e)}_emitResponseEvent(e,t){const r=this._networkEventManager.getRequest(e.requestId);if(!r)return;this._networkEventManager.responseExtraInfo(e.requestId).length&&Z(new Error("Unexpected extraInfo events for request "+e.requestId));const i=new Re(this._client,r,e.response,t);r._response=i,this.emit(Oe.Response,i)}_onResponseReceived(e){const t=this._networkEventManager.getRequest(e.requestId);let r=null;!t||t._fromMemoryCache||!e.hasExtraInfo||(r=this._networkEventManager.responseExtraInfo(e.requestId).shift(),r)?this._emitResponseEvent(e,r):this._networkEventManager.queueEventGroup(e.requestId,{responseReceivedEvent:e})}_onResponseReceivedExtraInfo(e){const t=this._networkEventManager.takeQueuedRedirectInfo(e.requestId);if(t)return this._networkEventManager.responseExtraInfo(e.requestId).push(e),void this._onRequest(t.event,t.fetchRequestId);const r=this._networkEventManager.getQueuedEventGroup(e.requestId);if(r)return this._networkEventManager.forgetQueuedEventGroup(e.requestId),this._emitResponseEvent(r.responseReceivedEvent,e),r.loadingFinishedEvent&&this._emitLoadingFinished(r.loadingFinishedEvent),void(r.loadingFailedEvent&&this._emitLoadingFailed(r.loadingFailedEvent));this._networkEventManager.responseExtraInfo(e.requestId).push(e)}_forgetRequest(e,t){const r=e._requestId,i=e._interceptionId;this._networkEventManager.forgetRequest(r),this._attemptedAuthentications.delete(i),t&&this._networkEventManager.forget(r)}_onLoadingFinished(e){const t=this._networkEventManager.getQueuedEventGroup(e.requestId);t?t.loadingFinishedEvent=e:this._emitLoadingFinished(e)}_emitLoadingFinished(e){const t=this._networkEventManager.getRequest(e.requestId);t&&(t.response()&&t.response()._resolveBody(null),this._forgetRequest(t,!0),this.emit(Oe.RequestFinished,t))}_onLoadingFailed(e){const t=this._networkEventManager.getQueuedEventGroup(e.requestId);t?t.loadingFailedEvent=e:this._emitLoadingFailed(e)}_emitLoadingFailed(e){const t=this._networkEventManager.getRequest(e.requestId);if(!t)return;t._failureText=e.errorText;const r=t.response();r&&r._resolveBody(null),this._forgetRequest(t,!0),this.emit(Oe.RequestFailed,t)}}const Le=new Map([["load","load"],["domcontentloaded","DOMContentLoaded"],["networkidle0","networkIdle"],["networkidle2","networkAlmostIdle"]]);class Ie{constructor(e,t,r,i){Array.isArray(r)?r=r.slice():"string"==typeof r&&(r=[r]),this._expectedLifecycle=r.map((e=>{const t=Le.get(e);return V(t,"Unknown value for options.waitUntil: "+e),t})),this._frameManager=e,this._frame=t,this._initialLoaderId=t._loaderId,this._timeout=i,this._navigationRequest=null,this._eventListeners=[ie.addEventListener(e._client,le.Disconnected,(()=>this._terminate(new Error("Navigation failed because browser has disconnected!")))),ie.addEventListener(this._frameManager,qe.LifecycleEvent,this._checkLifecycleComplete.bind(this)),ie.addEventListener(this._frameManager,qe.FrameNavigatedWithinDocument,this._navigatedWithinDocument.bind(this)),ie.addEventListener(this._frameManager,qe.FrameSwapped,this._frameSwapped.bind(this)),ie.addEventListener(this._frameManager,qe.FrameDetached,this._onFrameDetached.bind(this)),ie.addEventListener(this._frameManager.networkManager(),Oe.Request,this._onRequest.bind(this))],this._sameDocumentNavigationPromise=new Promise((e=>{this._sameDocumentNavigationCompleteCallback=e})),this._lifecyclePromise=new Promise((e=>{this._lifecycleCallback=e})),this._newDocumentNavigationPromise=new Promise((e=>{this._newDocumentNavigationCompleteCallback=e})),this._timeoutPromise=this._createTimeoutPromise(),this._terminationPromise=new Promise((e=>{this._terminationCallback=e})),this._checkLifecycleComplete()}_onRequest(e){e.frame()===this._frame&&e.isNavigationRequest()&&(this._navigationRequest=e)}_onFrameDetached(e){this._frame!==e?this._checkLifecycleComplete():this._terminationCallback.call(null,new Error("Navigating frame was detached"))}async navigationResponse(){return this._navigationRequest?this._navigationRequest.response():null}_terminate(e){this._terminationCallback.call(null,e)}sameDocumentNavigationPromise(){return this._sameDocumentNavigationPromise}newDocumentNavigationPromise(){return this._newDocumentNavigationPromise}lifecyclePromise(){return this._lifecyclePromise}timeoutOrTerminationPromise(){return Promise.race([this._timeoutPromise,this._terminationPromise])}_createTimeoutPromise(){if(!this._timeout)return new Promise((()=>{}));const e="Navigation timeout of "+this._timeout+" ms exceeded";return new Promise((e=>this._maximumTimer=setTimeout(e,this._timeout))).then((()=>new T(e)))}_navigatedWithinDocument(e){e===this._frame&&(this._hasSameDocumentNavigation=!0,this._checkLifecycleComplete())}_frameSwapped(e){e===this._frame&&(this._swapped=!0,this._checkLifecycleComplete())}_checkLifecycleComplete(){(function e(t,r){for(const e of r)if(!t._lifecycleEvents.has(e))return!1;for(const i of t.childFrames())if(i._hasStartedLoading&&!e(i,r))return!1;return!0})(this._frame,this._expectedLifecycle)&&(this._lifecycleCallback(),this._frame._loaderId!==this._initialLoaderId||this._hasSameDocumentNavigation?(this._hasSameDocumentNavigation&&this._sameDocumentNavigationCompleteCallback(),this._frame._loaderId!==this._initialLoaderId&&this._newDocumentNavigationCompleteCallback()):this._swapped&&(this._swapped=!1,this._newDocumentNavigationCompleteCallback()))}dispose(){ie.removeEventListeners(this._eventListeners),clearTimeout(this._maximumTimer)}}class Ne{constructor(e,t,r,i){this._documentPromise=null,this._contextPromise=null,this._contextResolveCallback=null,this._detached=!1,this._waitTasks=new Set,this._boundFunctions=new Map,this._ctxBindings=new Set,this._settingUpBinding=null,this._client=e,this._frameManager=t,this._frame=r,this._timeoutSettings=i,this._setContext(null),this._onBindingCalled=this._onBindingCalled.bind(this),this._client.on("Runtime.bindingCalled",this._onBindingCalled)}frame(){return this._frame}async _setContext(e){if(e){V(this._contextResolveCallback,"Execution Context has already been set."),this._ctxBindings.clear(),this._contextResolveCallback.call(null,e),this._contextResolveCallback=null;for(const e of this._waitTasks)e.rerun()}else this._documentPromise=null,this._contextPromise=new Promise((e=>{this._contextResolveCallback=e}))}_hasContext(){return!this._contextResolveCallback}_detach(){this._detached=!0,this._client.off("Runtime.bindingCalled",this._onBindingCalled);for(const e of this._waitTasks)e.terminate(new Error("waitForFunction failed: frame got detached."))}executionContext(){if(this._detached)throw new Error(`Execution context is not available in detached frame "${this._frame.url()}" (are you trying to evaluate?)`);return this._contextPromise}async evaluateHandle(e,...t){return(await this.executionContext()).evaluateHandle(e,...t)}async evaluate(e,...t){return(await this.executionContext()).evaluate(e,...t)}async $(e){const t=await this._document();return await t.$(e)}async _document(){return this._documentPromise||(this._documentPromise=this.executionContext().then((async e=>(await e.evaluateHandle("document")).asElement()))),this._documentPromise}async $x(e){const t=await this._document();return await t.$x(e)}async $eval(e,t,...r){return(await this._document()).$eval(e,t,...r)}async $$eval(e,t,...r){const i=await this._document();return await i.$$eval(e,t,...r)}async $$(e){const t=await this._document();return await t.$$(e)}async content(){return await this.evaluate((()=>{let e="";return document.doctype&&(e=(new XMLSerializer).serializeToString(document.doctype)),document.documentElement&&(e+=document.documentElement.outerHTML),e}))}async setContent(e,t={}){const{waitUntil:r=["load"],timeout:i=this._timeoutSettings.navigationTimeout()}=t;await this.evaluate((e=>{document.open(),document.write(e),document.close()}),e);const n=new Ie(this._frameManager,this._frame,r,i),s=await Promise.race([n.timeoutOrTerminationPromise(),n.lifecyclePromise()]);if(n.dispose(),s)throw s}async addScriptTag(e){const{url:t=null,path:r=null,content:i=null,id:n="",type:s=""}=e;if(null!==t)try{const e=await this.executionContext();return(await e.evaluateHandle((async function(e,t,r){const i=document.createElement("script");i.src=e,t&&(i.id=t),r&&(i.type=r);const n=new Promise(((e,t)=>{i.onload=e,i.onerror=t}));return document.head.appendChild(i),await n,i}),t,n,s)).asElement()}catch(e){throw new Error(`Loading script from ${t} failed`)}if(null!==r){if(!X)throw new Error("Cannot pass a filepath to addScriptTag in the browser environment.");const e=await ie.importFSModule();let t=await e.promises.readFile(r,"utf8");t+="//# sourceURL="+r.replace(/\n/g,"");const i=await this.executionContext();return(await i.evaluateHandle(o,t,n,s)).asElement()}if(null!==i){const e=await this.executionContext();return(await e.evaluateHandle(o,i,n,s)).asElement()}throw new Error("Provide an object with a `url`, `path` or `content` property");function o(e,t,r="text/javascript"){const i=document.createElement("script");i.type=r,i.text=e,t&&(i.id=t);let n=null;if(i.onerror=e=>n=e,document.head.appendChild(i),n)throw n;return i}}async addStyleTag(e){const{url:t=null,path:r=null,content:i=null}=e;if(null!==t)try{const e=await this.executionContext();return(await e.evaluateHandle((async function(e){const t=document.createElement("link");t.rel="stylesheet",t.href=e;const r=new Promise(((e,r)=>{t.onload=e,t.onerror=r}));return document.head.appendChild(t),await r,t}),t)).asElement()}catch(e){throw new Error(`Loading style from ${t} failed`)}if(null!==r){if(!X)throw new Error("Cannot pass a filepath to addStyleTag in the browser environment.");const e=await ie.importFSModule();let t=await e.promises.readFile(r,"utf8");t+="/*# sourceURL="+r.replace(/\n/g,"")+"*/";const i=await this.executionContext();return(await i.evaluateHandle(n,t)).asElement()}if(null!==i){const e=await this.executionContext();return(await e.evaluateHandle(n,i)).asElement()}throw new Error("Provide an object with a `url`, `path` or `content` property");async function n(e){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(e));const r=new Promise(((e,r)=>{t.onload=e,t.onerror=r}));return document.head.appendChild(t),await r,t}}async click(e,t){const r=await this.$(e);V(r,"No node found for selector: "+e),await r.click(t),await r.dispose()}async focus(e){const t=await this.$(e);V(t,"No node found for selector: "+e),await t.focus(),await t.dispose()}async hover(e){const t=await this.$(e);V(t,"No node found for selector: "+e),await t.hover(),await t.dispose()}async select(e,...t){const r=await this.$(e);V(r,"No node found for selector: "+e);const i=await r.select(...t);return await r.dispose(),i}async tap(e){const t=await this.$(e);await t.tap(),await t.dispose()}async type(e,t,r){const i=await this.$(e);V(i,"No node found for selector: "+e),await i.type(t,r),await i.dispose()}async waitForSelector(e,t){const{updatedSelector:r,queryHandler:i}=G(e);return i.waitFor(this,r,t)}async addBindingToContext(e,t){if(!this._ctxBindings.has(Ne.bindingIdentifier(t,e._contextId)))return this._settingUpBinding?(await this._settingUpBinding,this.addBindingToContext(e,t)):(this._settingUpBinding=(async t=>{const r=ie.pageBindingInitString("internal",t);try{await e._client.send("Runtime.addBinding",{name:t,executionContextName:e._contextName}),await e.evaluate(r)}catch(e){const t=e.message.includes("Execution context was destroyed"),r=e.message.includes("Cannot find context with specified id");return t||r?void 0:void Z(e)}this._ctxBindings.add(Ne.bindingIdentifier(t,e._contextId))})(t),await this._settingUpBinding,void(this._settingUpBinding=null))}async _onBindingCalled(e){let t;if(!this._hasContext())return;const r=await this.executionContext();try{t=JSON.parse(e.payload)}catch{return}const{type:i,name:n,seq:s,args:o}=t;if("internal"===i&&this._ctxBindings.has(Ne.bindingIdentifier(n,r._contextId))&&r._contextId===e.executionContextId)try{const e=await this._boundFunctions.get(n)(...o);await r.evaluate((function(e,t,r){globalThis[e].callbacks.get(t).resolve(r),globalThis[e].callbacks.delete(t)}),n,s,e)}catch(e){if(e.message.includes("Protocol error"))return;Z(e)}}async waitForSelectorInPage(e,t,r,i){const{visible:n=!1,hidden:s=!1,timeout:o=this._timeoutSettings.timeout()}=r,a=n||s?"raf":"mutation",c=`selector \`${t}\`${s?" to be hidden":""}`,l={domWorld:this,predicateBody:ie.makePredicateString((async function(e,t,r,i){const n=predicateQueryHandler?await predicateQueryHandler(e,t):e.querySelector(t);return checkWaitForOptions(n,r,i)}),e),predicateAcceptsContextElement:!0,title:c,polling:a,timeout:o,args:[t,n,s],binding:i,root:r.root},u=new Fe(l),h=await u.promise;return h.asElement()||(await h.dispose(),null)}async waitForXPath(e,t){const{visible:r=!1,hidden:i=!1,timeout:n=this._timeoutSettings.timeout()}=t,s=r||i?"raf":"mutation",o=`XPath \`${e}\`${i?" to be hidden":""}`,a={domWorld:this,predicateBody:ie.makePredicateString((function(e,t,r,i){const n=document.evaluate(t,e,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue;return checkWaitForOptions(n,r,i)})),predicateAcceptsContextElement:!0,title:o,polling:s,timeout:n,args:[e,r,i],root:t.root},c=new Fe(a),l=await c.promise;return l.asElement()||(await l.dispose(),null)}waitForFunction(e,t={},...r){const{polling:i="raf",timeout:n=this._timeoutSettings.timeout()}=t;return new Fe({domWorld:this,predicateBody:e,predicateAcceptsContextElement:!1,title:"function",polling:i,timeout:n,args:r}).promise}async title(){return this.evaluate((()=>document.title))}}Ne.bindingIdentifier=(e,t)=>`${e}_${t}`;class Fe{constructor(e){if(this._runCount=0,this._terminated=!1,this._root=null,ie.isString(e.polling))V("raf"===e.polling||"mutation"===e.polling,"Unknown polling option: "+e.polling);else{if(!ie.isNumber(e.polling))throw new Error("Unknown polling options: "+e.polling);V(e.polling>0,"Cannot poll with non-positive interval: "+e.polling)}var t;if(this._domWorld=e.domWorld,this._polling=e.polling,this._timeout=e.timeout,this._root=e.root,this._predicateBody=(t=e.predicateBody,ie.isString(t)?`return (${t});`:`return (${t})(...args);`),this._predicateAcceptsContextElement=e.predicateAcceptsContextElement,this._args=e.args,this._binding=e.binding,this._runCount=0,this._domWorld._waitTasks.add(this),this._binding&&this._domWorld._boundFunctions.set(this._binding.name,this._binding.pptrFunction),this.promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t})),e.timeout){const t=new T(`waiting for ${e.title} failed: timeout ${e.timeout}ms exceeded`);this._timeoutTimer=setTimeout((()=>this.terminate(t)),e.timeout)}this.rerun()}terminate(e){this._terminated=!0,this._reject(e),this._cleanup()}async rerun(){const e=++this._runCount;let t=null,r=null;const i=await this._domWorld.executionContext();if(!this._terminated&&e===this._runCount&&(this._binding&&await this._domWorld.addBindingToContext(i,this._binding.name),!this._terminated&&e===this._runCount)){try{t=await i.evaluateHandle(je,this._root||null,this._predicateBody,this._predicateAcceptsContextElement,this._polling,this._timeout,...this._args)}catch(e){r=e}if(this._terminated||e!==this._runCount)t&&await t.dispose();else if(r||!await this._domWorld.evaluate((e=>!e),t).catch((()=>!0))){if(r){if(r.message.includes("TypeError: binding is not a function"))return this.rerun();if(r.message.includes("Execution context is not available in detached frame"))return void this.terminate(new Error("waitForFunction failed: frame got detached."));if(r.message.includes("Execution context was destroyed"))return;if(r.message.includes("Cannot find context with specified id"))return;this._reject(r)}else this._resolve(t);this._cleanup()}else await t.dispose()}}_cleanup(){clearTimeout(this._timeoutTimer),this._domWorld._waitTasks.delete(this)}}async function je(e,t,r,i,n,...s){e=e||document;const o=new Function("...args",t);let a=!1;return n&&setTimeout((()=>a=!0),n),"raf"===i?await async function(){let t;const i=new Promise((e=>t=e));return await async function i(){if(a)return void t();const n=r?await o(e,...s):await o(...s);n?t(n):requestAnimationFrame(i)}(),i}():"mutation"===i?await async function(){const t=r?await o(e,...s):await o(...s);if(t)return Promise.resolve(t);let i;const n=new Promise((e=>i=e)),c=new MutationObserver((async()=>{a&&(c.disconnect(),i());const t=r?await o(e,...s):await o(...s);t&&(c.disconnect(),i(t))}));return c.observe(e,{childList:!0,subtree:!0,attributes:!0}),n}():"number"==typeof i?await async function(t){let i;const n=new Promise((e=>i=e));return await async function n(){if(a)return void i();const c=r?await o(e,...s):await o(...s);c?i(c):setTimeout(n,t)}(),n}(i):void 0}const De="__puppeteer_utility_world__",Be=/^\(\/\/[^\)]+\)|^\/\//,qe={FrameAttached:Symbol("FrameManager.FrameAttached"),FrameNavigated:Symbol("FrameManager.FrameNavigated"),FrameDetached:Symbol("FrameManager.FrameDetached"),FrameSwapped:Symbol("FrameManager.FrameSwapped"),LifecycleEvent:Symbol("FrameManager.LifecycleEvent"),FrameNavigatedWithinDocument:Symbol("FrameManager.FrameNavigatedWithinDocument"),ExecutionContextCreated:Symbol("FrameManager.ExecutionContextCreated"),ExecutionContextDestroyed:Symbol("FrameManager.ExecutionContextDestroyed")};class Ue extends ne{constructor(e,t,r,i){super(),this._frames=new Map,this._contextIdToContext=new Map,this._isolatedWorlds=new Set,this._client=e,this._page=t,this._networkManager=new Ae(e,r,this),this._timeoutSettings=i,this.setupEventListeners(this._client)}setupEventListeners(e){e.on("Page.frameAttached",(t=>{this._onFrameAttached(e,t.frameId,t.parentFrameId)})),e.on("Page.frameNavigated",(e=>{this._onFrameNavigated(e.frame)})),e.on("Page.navigatedWithinDocument",(e=>{this._onFrameNavigatedWithinDocument(e.frameId,e.url)})),e.on("Page.frameDetached",(e=>{this._onFrameDetached(e.frameId,e.reason)})),e.on("Page.frameStartedLoading",(e=>{this._onFrameStartedLoading(e.frameId)})),e.on("Page.frameStoppedLoading",(e=>{this._onFrameStoppedLoading(e.frameId)})),e.on("Runtime.executionContextCreated",(t=>{this._onExecutionContextCreated(t.context,e)})),e.on("Runtime.executionContextDestroyed",(t=>{this._onExecutionContextDestroyed(t.executionContextId,e)})),e.on("Runtime.executionContextsCleared",(()=>{this._onExecutionContextsCleared(e)})),e.on("Page.lifecycleEvent",(e=>{this._onLifecycleEvent(e)})),e.on("Target.attachedToTarget",(async e=>{this._onAttachedToTarget(e)})),e.on("Target.detachedFromTarget",(async e=>{this._onDetachedFromTarget(e)}))}async initialize(e=this._client){try{const t=await Promise.all([e.send("Page.enable"),e.send("Page.getFrameTree"),e!==this._client?e.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0}):Promise.resolve()]),{frameTree:r}=t[1];this._handleFrameTree(e,r),await Promise.all([e.send("Page.setLifecycleEventsEnabled",{enabled:!0}),e.send("Runtime.enable").then((()=>this._ensureIsolatedWorld(e,De))),e===this._client?this._networkManager.initialize():Promise.resolve()])}catch(e){if(e.message.includes("Target closed")||e.message.includes("Session closed"))return;throw e}}networkManager(){return this._networkManager}async navigateFrame(e,t,r={}){We(r);const{referer:i=this._networkManager.extraHTTPHeaders().referer,waitUntil:n=["load"],timeout:s=this._timeoutSettings.navigationTimeout()}=r,o=new Ie(this,e,n,s);let a=!1,c=await Promise.race([async function(e,t,r,i){try{const n=await e.send("Page.navigate",{url:t,referrer:r,frameId:i});return a=!!n.loaderId,n.errorText?new Error(`${n.errorText} at ${t}`):null}catch(e){return e}}(this._client,t,i,e._id),o.timeoutOrTerminationPromise()]);if(c||(c=await Promise.race([o.timeoutOrTerminationPromise(),a?o.newDocumentNavigationPromise():o.sameDocumentNavigationPromise()])),o.dispose(),c)throw c;return await o.navigationResponse()}async waitForFrameNavigation(e,t={}){We(t);const{waitUntil:r=["load"],timeout:i=this._timeoutSettings.navigationTimeout()}=t,n=new Ie(this,e,r,i),s=await Promise.race([n.timeoutOrTerminationPromise(),n.sameDocumentNavigationPromise(),n.newDocumentNavigationPromise()]);if(n.dispose(),s)throw s;return await n.navigationResponse()}async _onAttachedToTarget(e){if("iframe"!==e.targetInfo.type)return;const t=this._frames.get(e.targetInfo.targetId),r=ce.fromSession(this._client).session(e.sessionId);t&&t._updateClient(r),this.setupEventListeners(r),await this.initialize(r)}async _onDetachedFromTarget(e){const t=this._frames.get(e.targetId);t&&t.isOOPFrame()&&this._removeFramesRecursively(t)}_onLifecycleEvent(e){const t=this._frames.get(e.frameId);t&&(t._onLifecycleEvent(e.loaderId,e.name),this.emit(qe.LifecycleEvent,t))}_onFrameStartedLoading(e){const t=this._frames.get(e);t&&t._onLoadingStarted()}_onFrameStoppedLoading(e){const t=this._frames.get(e);t&&(t._onLoadingStopped(),this.emit(qe.LifecycleEvent,t))}_handleFrameTree(e,t){if(t.frame.parentId&&this._onFrameAttached(e,t.frame.id,t.frame.parentId),this._onFrameNavigated(t.frame),t.childFrames)for(const r of t.childFrames)this._handleFrameTree(e,r)}page(){return this._page}mainFrame(){return this._mainFrame}frames(){return Array.from(this._frames.values())}frame(e){return this._frames.get(e)||null}_onFrameAttached(e,t,r){if(this._frames.has(t)){const r=this._frames.get(t);return void(e&&r.isOOPFrame()&&r._updateClient(e))}V(r);const i=this._frames.get(r),n=new ze(this,i,t,e);this._frames.set(n._id,n),this.emit(qe.FrameAttached,n)}_onFrameNavigated(e){const t=!e.parentId;let r=t?this._mainFrame:this._frames.get(e.id);if(V(t||r,"We either navigate top level or have old version of the navigated frame"),r)for(const e of r.childFrames())this._removeFramesRecursively(e);t&&(r?(this._frames.delete(r._id),r._id=e.id):r=new ze(this,null,e.id,this._client),this._frames.set(e.id,r),this._mainFrame=r),r._navigated(e),this.emit(qe.FrameNavigated,r)}async _ensureIsolatedWorld(e,t){const r=`${e.id()}:${t}`;this._isolatedWorlds.has(r)||(this._isolatedWorlds.add(r),await e.send("Page.addScriptToEvaluateOnNewDocument",{source:`//# sourceURL=${be}`,worldName:t}),await Promise.all(this.frames().filter((t=>t._client===e)).map((r=>e.send("Page.createIsolatedWorld",{frameId:r._id,worldName:t,grantUniveralAccess:!0}).catch(Z)))))}_onFrameNavigatedWithinDocument(e,t){const r=this._frames.get(e);r&&(r._navigatedWithinDocument(t),this.emit(qe.FrameNavigatedWithinDocument,r),this.emit(qe.FrameNavigated,r))}_onFrameDetached(e,t){const r=this._frames.get(e);"remove"===t?r&&this._removeFramesRecursively(r):"swap"===t&&this.emit(qe.FrameSwapped,r)}_onExecutionContextCreated(e,t){const r=e.auxData,i=r?r.frameId:null,n=this._frames.get(i)||null;let s=null;if(n){if(n._client!==t)return;e.auxData&&e.auxData.isDefault?s=n._mainWorld:e.name!==De||n._secondaryWorld._hasContext()||(s=n._secondaryWorld)}const o=new ve((null==n?void 0:n._client)||this._client,e,s);s&&s._setContext(o);const a=`${t.id()}:${e.id}`;this._contextIdToContext.set(a,o)}_onExecutionContextDestroyed(e,t){const r=`${t.id()}:${e}`,i=this._contextIdToContext.get(r);i&&(this._contextIdToContext.delete(r),i._world&&i._world._setContext(null))}_onExecutionContextsCleared(e){for(const[t,r]of this._contextIdToContext.entries())r._client===e&&(r._world&&r._world._setContext(null),this._contextIdToContext.delete(t))}executionContextById(e,t=this._client){const r=`${t.id()}:${e}`,i=this._contextIdToContext.get(r);return V(i,"INTERNAL ERROR: missing context with id = "+e),i}_removeFramesRecursively(e){for(const t of e.childFrames())this._removeFramesRecursively(t);e._detach(),this._frames.delete(e._id),this.emit(qe.FrameDetached,e)}}class ze{constructor(e,t,r,i){this._url="",this._detached=!1,this._loaderId="",this._hasStartedLoading=!1,this._lifecycleEvents=new Set,this._frameManager=e,this._parentFrame=t,this._url="",this._id=r,this._detached=!1,this._loaderId="",this._childFrames=new Set,this._parentFrame&&this._parentFrame._childFrames.add(this),this._updateClient(i)}_updateClient(e){this._client=e,this._mainWorld=new Ne(this._client,this._frameManager,this,this._frameManager._timeoutSettings),this._secondaryWorld=new Ne(this._client,this._frameManager,this,this._frameManager._timeoutSettings)}isOOPFrame(){return this._client!==this._frameManager._client}async goto(e,t={}){return await this._frameManager.navigateFrame(this,e,t)}async waitForNavigation(e={}){return await this._frameManager.waitForFrameNavigation(this,e)}client(){return this._client}executionContext(){return this._mainWorld.executionContext()}async evaluateHandle(e,...t){return this._mainWorld.evaluateHandle(e,...t)}async evaluate(e,...t){return this._mainWorld.evaluate(e,...t)}async $(e){return this._mainWorld.$(e)}async $x(e){return this._mainWorld.$x(e)}async $eval(e,t,...r){return this._mainWorld.$eval(e,t,...r)}async $$eval(e,t,...r){return this._mainWorld.$$eval(e,t,...r)}async $$(e){return this._mainWorld.$$(e)}async content(){return this._secondaryWorld.content()}async setContent(e,t={}){return this._secondaryWorld.setContent(e,t)}name(){return this._name||""}url(){return this._url}parentFrame(){return this._parentFrame}childFrames(){return Array.from(this._childFrames)}isDetached(){return this._detached}async addScriptTag(e){return this._mainWorld.addScriptTag(e)}async addStyleTag(e){return this._mainWorld.addStyleTag(e)}async click(e,t={}){return this._secondaryWorld.click(e,t)}async focus(e){return this._secondaryWorld.focus(e)}async hover(e){return this._secondaryWorld.hover(e)}select(e,...t){return this._secondaryWorld.select(e,...t)}async tap(e){return this._secondaryWorld.tap(e)}async type(e,t,r){return this._mainWorld.type(e,t,r)}waitFor(e,t={},...r){if(console.warn("waitFor is deprecated and will be removed in a future release. See https://github.com/puppeteer/puppeteer/issues/6214 for details and how to migrate your code."),ie.isString(e)){const r=e;return Be.test(r)?this.waitForXPath(r,t):this.waitForSelector(r,t)}return ie.isNumber(e)?new Promise((t=>setTimeout(t,e))):"function"==typeof e?this.waitForFunction(e,t,...r):Promise.reject(new Error("Unsupported target type: "+typeof e))}waitForTimeout(e){return new Promise((t=>{setTimeout(t,e)}))}async waitForSelector(e,t={}){const r=await this._secondaryWorld.waitForSelector(e,t);if(!r)return null;const i=await this._mainWorld.executionContext(),n=await i._adoptElementHandle(r);return await r.dispose(),n}async waitForXPath(e,t={}){const r=await this._secondaryWorld.waitForXPath(e,t);if(!r)return null;const i=await this._mainWorld.executionContext(),n=await i._adoptElementHandle(r);return await r.dispose(),n}waitForFunction(e,t={},...r){return this._mainWorld.waitForFunction(e,t,...r)}async title(){return this._secondaryWorld.title()}_navigated(e){this._name=e.name,this._url=`${e.url}${e.urlFragment||""}`}_navigatedWithinDocument(e){this._url=e}_onLifecycleEvent(e,t){"init"===t&&(this._loaderId=e,this._lifecycleEvents.clear()),this._lifecycleEvents.add(t)}_onLoadingStopped(){this._lifecycleEvents.add("DOMContentLoaded"),this._lifecycleEvents.add("load")}_onLoadingStarted(){this._hasStartedLoading=!0}_detach(){this._detached=!0,this._mainWorld._detach(),this._secondaryWorld._detach(),this._parentFrame&&this._parentFrame._childFrames.delete(this),this._parentFrame=null}}function We(e){V(void 0===e.networkIdleTimeout,"ERROR: networkIdleTimeout option is no longer supported."),V(void 0===e.networkIdleInflight,"ERROR: networkIdleInflight option is no longer supported."),V("networkidle"!==e.waitUntil,'ERROR: "networkidle" option is no longer supported. Use "networkidle2" instead')}const Ke={0:{keyCode:48,key:"0",code:"Digit0"},1:{keyCode:49,key:"1",code:"Digit1"},2:{keyCode:50,key:"2",code:"Digit2"},3:{keyCode:51,key:"3",code:"Digit3"},4:{keyCode:52,key:"4",code:"Digit4"},5:{keyCode:53,key:"5",code:"Digit5"},6:{keyCode:54,key:"6",code:"Digit6"},7:{keyCode:55,key:"7",code:"Digit7"},8:{keyCode:56,key:"8",code:"Digit8"},9:{keyCode:57,key:"9",code:"Digit9"},Power:{key:"Power",code:"Power"},Eject:{key:"Eject",code:"Eject"},Abort:{keyCode:3,code:"Abort",key:"Cancel"},Help:{keyCode:6,code:"Help",key:"Help"},Backspace:{keyCode:8,code:"Backspace",key:"Backspace"},Tab:{keyCode:9,code:"Tab",key:"Tab"},Numpad5:{keyCode:12,shiftKeyCode:101,key:"Clear",code:"Numpad5",shiftKey:"5",location:3},NumpadEnter:{keyCode:13,code:"NumpadEnter",key:"Enter",text:"\r",location:3},Enter:{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\r":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},"\n":{keyCode:13,code:"Enter",key:"Enter",text:"\r"},ShiftLeft:{keyCode:16,code:"ShiftLeft",key:"Shift",location:1},ShiftRight:{keyCode:16,code:"ShiftRight",key:"Shift",location:2},ControlLeft:{keyCode:17,code:"ControlLeft",key:"Control",location:1},ControlRight:{keyCode:17,code:"ControlRight",key:"Control",location:2},AltLeft:{keyCode:18,code:"AltLeft",key:"Alt",location:1},AltRight:{keyCode:18,code:"AltRight",key:"Alt",location:2},Pause:{keyCode:19,code:"Pause",key:"Pause"},CapsLock:{keyCode:20,code:"CapsLock",key:"CapsLock"},Escape:{keyCode:27,code:"Escape",key:"Escape"},Convert:{keyCode:28,code:"Convert",key:"Convert"},NonConvert:{keyCode:29,code:"NonConvert",key:"NonConvert"},Space:{keyCode:32,code:"Space",key:" "},Numpad9:{keyCode:33,shiftKeyCode:105,key:"PageUp",code:"Numpad9",shiftKey:"9",location:3},PageUp:{keyCode:33,code:"PageUp",key:"PageUp"},Numpad3:{keyCode:34,shiftKeyCode:99,key:"PageDown",code:"Numpad3",shiftKey:"3",location:3},PageDown:{keyCode:34,code:"PageDown",key:"PageDown"},End:{keyCode:35,code:"End",key:"End"},Numpad1:{keyCode:35,shiftKeyCode:97,key:"End",code:"Numpad1",shiftKey:"1",location:3},Home:{keyCode:36,code:"Home",key:"Home"},Numpad7:{keyCode:36,shiftKeyCode:103,key:"Home",code:"Numpad7",shiftKey:"7",location:3},ArrowLeft:{keyCode:37,code:"ArrowLeft",key:"ArrowLeft"},Numpad4:{keyCode:37,shiftKeyCode:100,key:"ArrowLeft",code:"Numpad4",shiftKey:"4",location:3},Numpad8:{keyCode:38,shiftKeyCode:104,key:"ArrowUp",code:"Numpad8",shiftKey:"8",location:3},ArrowUp:{keyCode:38,code:"ArrowUp",key:"ArrowUp"},ArrowRight:{keyCode:39,code:"ArrowRight",key:"ArrowRight"},Numpad6:{keyCode:39,shiftKeyCode:102,key:"ArrowRight",code:"Numpad6",shiftKey:"6",location:3},Numpad2:{keyCode:40,shiftKeyCode:98,key:"ArrowDown",code:"Numpad2",shiftKey:"2",location:3},ArrowDown:{keyCode:40,code:"ArrowDown",key:"ArrowDown"},Select:{keyCode:41,code:"Select",key:"Select"},Open:{keyCode:43,code:"Open",key:"Execute"},PrintScreen:{keyCode:44,code:"PrintScreen",key:"PrintScreen"},Insert:{keyCode:45,code:"Insert",key:"Insert"},Numpad0:{keyCode:45,shiftKeyCode:96,key:"Insert",code:"Numpad0",shiftKey:"0",location:3},Delete:{keyCode:46,code:"Delete",key:"Delete"},NumpadDecimal:{keyCode:46,shiftKeyCode:110,code:"NumpadDecimal",key:"\0",shiftKey:".",location:3},Digit0:{keyCode:48,code:"Digit0",shiftKey:")",key:"0"},Digit1:{keyCode:49,code:"Digit1",shiftKey:"!",key:"1"},Digit2:{keyCode:50,code:"Digit2",shiftKey:"@",key:"2"},Digit3:{keyCode:51,code:"Digit3",shiftKey:"#",key:"3"},Digit4:{keyCode:52,code:"Digit4",shiftKey:"$",key:"4"},Digit5:{keyCode:53,code:"Digit5",shiftKey:"%",key:"5"},Digit6:{keyCode:54,code:"Digit6",shiftKey:"^",key:"6"},Digit7:{keyCode:55,code:"Digit7",shiftKey:"&",key:"7"},Digit8:{keyCode:56,code:"Digit8",shiftKey:"*",key:"8"},Digit9:{keyCode:57,code:"Digit9",shiftKey:"(",key:"9"},KeyA:{keyCode:65,code:"KeyA",shiftKey:"A",key:"a"},KeyB:{keyCode:66,code:"KeyB",shiftKey:"B",key:"b"},KeyC:{keyCode:67,code:"KeyC",shiftKey:"C",key:"c"},KeyD:{keyCode:68,code:"KeyD",shiftKey:"D",key:"d"},KeyE:{keyCode:69,code:"KeyE",shiftKey:"E",key:"e"},KeyF:{keyCode:70,code:"KeyF",shiftKey:"F",key:"f"},KeyG:{keyCode:71,code:"KeyG",shiftKey:"G",key:"g"},KeyH:{keyCode:72,code:"KeyH",shiftKey:"H",key:"h"},KeyI:{keyCode:73,code:"KeyI",shiftKey:"I",key:"i"},KeyJ:{keyCode:74,code:"KeyJ",shiftKey:"J",key:"j"},KeyK:{keyCode:75,code:"KeyK",shiftKey:"K",key:"k"},KeyL:{keyCode:76,code:"KeyL",shiftKey:"L",key:"l"},KeyM:{keyCode:77,code:"KeyM",shiftKey:"M",key:"m"},KeyN:{keyCode:78,code:"KeyN",shiftKey:"N",key:"n"},KeyO:{keyCode:79,code:"KeyO",shiftKey:"O",key:"o"},KeyP:{keyCode:80,code:"KeyP",shiftKey:"P",key:"p"},KeyQ:{keyCode:81,code:"KeyQ",shiftKey:"Q",key:"q"},KeyR:{keyCode:82,code:"KeyR",shiftKey:"R",key:"r"},KeyS:{keyCode:83,code:"KeyS",shiftKey:"S",key:"s"},KeyT:{keyCode:84,code:"KeyT",shiftKey:"T",key:"t"},KeyU:{keyCode:85,code:"KeyU",shiftKey:"U",key:"u"},KeyV:{keyCode:86,code:"KeyV",shiftKey:"V",key:"v"},KeyW:{keyCode:87,code:"KeyW",shiftKey:"W",key:"w"},KeyX:{keyCode:88,code:"KeyX",shiftKey:"X",key:"x"},KeyY:{keyCode:89,code:"KeyY",shiftKey:"Y",key:"y"},KeyZ:{keyCode:90,code:"KeyZ",shiftKey:"Z",key:"z"},MetaLeft:{keyCode:91,code:"MetaLeft",key:"Meta",location:1},MetaRight:{keyCode:92,code:"MetaRight",key:"Meta",location:2},ContextMenu:{keyCode:93,code:"ContextMenu",key:"ContextMenu"},NumpadMultiply:{keyCode:106,code:"NumpadMultiply",key:"*",location:3},NumpadAdd:{keyCode:107,code:"NumpadAdd",key:"+",location:3},NumpadSubtract:{keyCode:109,code:"NumpadSubtract",key:"-",location:3},NumpadDivide:{keyCode:111,code:"NumpadDivide",key:"/",location:3},F1:{keyCode:112,code:"F1",key:"F1"},F2:{keyCode:113,code:"F2",key:"F2"},F3:{keyCode:114,code:"F3",key:"F3"},F4:{keyCode:115,code:"F4",key:"F4"},F5:{keyCode:116,code:"F5",key:"F5"},F6:{keyCode:117,code:"F6",key:"F6"},F7:{keyCode:118,code:"F7",key:"F7"},F8:{keyCode:119,code:"F8",key:"F8"},F9:{keyCode:120,code:"F9",key:"F9"},F10:{keyCode:121,code:"F10",key:"F10"},F11:{keyCode:122,code:"F11",key:"F11"},F12:{keyCode:123,code:"F12",key:"F12"},F13:{keyCode:124,code:"F13",key:"F13"},F14:{keyCode:125,code:"F14",key:"F14"},F15:{keyCode:126,code:"F15",key:"F15"},F16:{keyCode:127,code:"F16",key:"F16"},F17:{keyCode:128,code:"F17",key:"F17"},F18:{keyCode:129,code:"F18",key:"F18"},F19:{keyCode:130,code:"F19",key:"F19"},F20:{keyCode:131,code:"F20",key:"F20"},F21:{keyCode:132,code:"F21",key:"F21"},F22:{keyCode:133,code:"F22",key:"F22"},F23:{keyCode:134,code:"F23",key:"F23"},F24:{keyCode:135,code:"F24",key:"F24"},NumLock:{keyCode:144,code:"NumLock",key:"NumLock"},ScrollLock:{keyCode:145,code:"ScrollLock",key:"ScrollLock"},AudioVolumeMute:{keyCode:173,code:"AudioVolumeMute",key:"AudioVolumeMute"},AudioVolumeDown:{keyCode:174,code:"AudioVolumeDown",key:"AudioVolumeDown"},AudioVolumeUp:{keyCode:175,code:"AudioVolumeUp",key:"AudioVolumeUp"},MediaTrackNext:{keyCode:176,code:"MediaTrackNext",key:"MediaTrackNext"},MediaTrackPrevious:{keyCode:177,code:"MediaTrackPrevious",key:"MediaTrackPrevious"},MediaStop:{keyCode:178,code:"MediaStop",key:"MediaStop"},MediaPlayPause:{keyCode:179,code:"MediaPlayPause",key:"MediaPlayPause"},Semicolon:{keyCode:186,code:"Semicolon",shiftKey:":",key:";"},Equal:{keyCode:187,code:"Equal",shiftKey:"+",key:"="},NumpadEqual:{keyCode:187,code:"NumpadEqual",key:"=",location:3},Comma:{keyCode:188,code:"Comma",shiftKey:"<",key:","},Minus:{keyCode:189,code:"Minus",shiftKey:"_",key:"-"},Period:{keyCode:190,code:"Period",shiftKey:">",key:"."},Slash:{keyCode:191,code:"Slash",shiftKey:"?",key:"/"},Backquote:{keyCode:192,code:"Backquote",shiftKey:"~",key:"`"},BracketLeft:{keyCode:219,code:"BracketLeft",shiftKey:"{",key:"["},Backslash:{keyCode:220,code:"Backslash",shiftKey:"|",key:"\\"},BracketRight:{keyCode:221,code:"BracketRight",shiftKey:"}",key:"]"},Quote:{keyCode:222,code:"Quote",shiftKey:'"',key:"'"},AltGraph:{keyCode:225,code:"AltGraph",key:"AltGraph"},Props:{keyCode:247,code:"Props",key:"CrSel"},Cancel:{keyCode:3,key:"Cancel",code:"Abort"},Clear:{keyCode:12,key:"Clear",code:"Numpad5",location:3},Shift:{keyCode:16,key:"Shift",code:"ShiftLeft",location:1},Control:{keyCode:17,key:"Control",code:"ControlLeft",location:1},Alt:{keyCode:18,key:"Alt",code:"AltLeft",location:1},Accept:{keyCode:30,key:"Accept"},ModeChange:{keyCode:31,key:"ModeChange"}," ":{keyCode:32,key:" ",code:"Space"},Print:{keyCode:42,key:"Print"},Execute:{keyCode:43,key:"Execute",code:"Open"},"\0":{keyCode:46,key:"\0",code:"NumpadDecimal",location:3},a:{keyCode:65,key:"a",code:"KeyA"},b:{keyCode:66,key:"b",code:"KeyB"},c:{keyCode:67,key:"c",code:"KeyC"},d:{keyCode:68,key:"d",code:"KeyD"},e:{keyCode:69,key:"e",code:"KeyE"},f:{keyCode:70,key:"f",code:"KeyF"},g:{keyCode:71,key:"g",code:"KeyG"},h:{keyCode:72,key:"h",code:"KeyH"},i:{keyCode:73,key:"i",code:"KeyI"},j:{keyCode:74,key:"j",code:"KeyJ"},k:{keyCode:75,key:"k",code:"KeyK"},l:{keyCode:76,key:"l",code:"KeyL"},m:{keyCode:77,key:"m",code:"KeyM"},n:{keyCode:78,key:"n",code:"KeyN"},o:{keyCode:79,key:"o",code:"KeyO"},p:{keyCode:80,key:"p",code:"KeyP"},q:{keyCode:81,key:"q",code:"KeyQ"},r:{keyCode:82,key:"r",code:"KeyR"},s:{keyCode:83,key:"s",code:"KeyS"},t:{keyCode:84,key:"t",code:"KeyT"},u:{keyCode:85,key:"u",code:"KeyU"},v:{keyCode:86,key:"v",code:"KeyV"},w:{keyCode:87,key:"w",code:"KeyW"},x:{keyCode:88,key:"x",code:"KeyX"},y:{keyCode:89,key:"y",code:"KeyY"},z:{keyCode:90,key:"z",code:"KeyZ"},Meta:{keyCode:91,key:"Meta",code:"MetaLeft",location:1},"*":{keyCode:106,key:"*",code:"NumpadMultiply",location:3},"+":{keyCode:107,key:"+",code:"NumpadAdd",location:3},"-":{keyCode:109,key:"-",code:"NumpadSubtract",location:3},"/":{keyCode:111,key:"/",code:"NumpadDivide",location:3},";":{keyCode:186,key:";",code:"Semicolon"},"=":{keyCode:187,key:"=",code:"Equal"},",":{keyCode:188,key:",",code:"Comma"},".":{keyCode:190,key:".",code:"Period"},"`":{keyCode:192,key:"`",code:"Backquote"},"[":{keyCode:219,key:"[",code:"BracketLeft"},"\\":{keyCode:220,key:"\\",code:"Backslash"},"]":{keyCode:221,key:"]",code:"BracketRight"},"'":{keyCode:222,key:"'",code:"Quote"},Attn:{keyCode:246,key:"Attn"},CrSel:{keyCode:247,key:"CrSel",code:"Props"},ExSel:{keyCode:248,key:"ExSel"},EraseEof:{keyCode:249,key:"EraseEof"},Play:{keyCode:250,key:"Play"},ZoomOut:{keyCode:251,key:"ZoomOut"},")":{keyCode:48,key:")",code:"Digit0"},"!":{keyCode:49,key:"!",code:"Digit1"},"@":{keyCode:50,key:"@",code:"Digit2"},"#":{keyCode:51,key:"#",code:"Digit3"},$:{keyCode:52,key:"$",code:"Digit4"},"%":{keyCode:53,key:"%",code:"Digit5"},"^":{keyCode:54,key:"^",code:"Digit6"},"&":{keyCode:55,key:"&",code:"Digit7"},"(":{keyCode:57,key:"(",code:"Digit9"},A:{keyCode:65,key:"A",code:"KeyA"},B:{keyCode:66,key:"B",code:"KeyB"},C:{keyCode:67,key:"C",code:"KeyC"},D:{keyCode:68,key:"D",code:"KeyD"},E:{keyCode:69,key:"E",code:"KeyE"},F:{keyCode:70,key:"F",code:"KeyF"},G:{keyCode:71,key:"G",code:"KeyG"},H:{keyCode:72,key:"H",code:"KeyH"},I:{keyCode:73,key:"I",code:"KeyI"},J:{keyCode:74,key:"J",code:"KeyJ"},K:{keyCode:75,key:"K",code:"KeyK"},L:{keyCode:76,key:"L",code:"KeyL"},M:{keyCode:77,key:"M",code:"KeyM"},N:{keyCode:78,key:"N",code:"KeyN"},O:{keyCode:79,key:"O",code:"KeyO"},P:{keyCode:80,key:"P",code:"KeyP"},Q:{keyCode:81,key:"Q",code:"KeyQ"},R:{keyCode:82,key:"R",code:"KeyR"},S:{keyCode:83,key:"S",code:"KeyS"},T:{keyCode:84,key:"T",code:"KeyT"},U:{keyCode:85,key:"U",code:"KeyU"},V:{keyCode:86,key:"V",code:"KeyV"},W:{keyCode:87,key:"W",code:"KeyW"},X:{keyCode:88,key:"X",code:"KeyX"},Y:{keyCode:89,key:"Y",code:"KeyY"},Z:{keyCode:90,key:"Z",code:"KeyZ"},":":{keyCode:186,key:":",code:"Semicolon"},"<":{keyCode:188,key:"<",code:"Comma"},_:{keyCode:189,key:"_",code:"Minus"},">":{keyCode:190,key:">",code:"Period"},"?":{keyCode:191,key:"?",code:"Slash"},"~":{keyCode:192,key:"~",code:"Backquote"},"{":{keyCode:219,key:"{",code:"BracketLeft"},"|":{keyCode:220,key:"|",code:"Backslash"},"}":{keyCode:221,key:"}",code:"BracketRight"},'"':{keyCode:222,key:'"',code:"Quote"},SoftLeft:{key:"SoftLeft",code:"SoftLeft",location:4},SoftRight:{key:"SoftRight",code:"SoftRight",location:4},Camera:{keyCode:44,key:"Camera",code:"Camera",location:4},Call:{key:"Call",code:"Call",location:4},EndCall:{keyCode:95,key:"EndCall",code:"EndCall",location:4},VolumeDown:{keyCode:182,key:"VolumeDown",code:"VolumeDown",location:4},VolumeUp:{keyCode:183,key:"VolumeUp",code:"VolumeUp",location:4}};class $e{constructor(e){this._modifiers=0,this._pressedKeys=new Set,this._client=e}async down(e,t={text:void 0}){const r=this._keyDescriptionForString(e),i=this._pressedKeys.has(r.code);this._pressedKeys.add(r.code),this._modifiers|=this._modifierBit(r.key);const n=void 0===t.text?r.text:t.text;await this._client.send("Input.dispatchKeyEvent",{type:n?"keyDown":"rawKeyDown",modifiers:this._modifiers,windowsVirtualKeyCode:r.keyCode,code:r.code,key:r.key,text:n,unmodifiedText:n,autoRepeat:i,location:r.location,isKeypad:3===r.location})}_modifierBit(e){return"Alt"===e?1:"Control"===e?2:"Meta"===e?4:"Shift"===e?8:0}_keyDescriptionForString(e){const t=8&this._modifiers,r={key:"",keyCode:0,code:"",text:"",location:0},i=Ke[e];return V(i,`Unknown key: "${e}"`),i.key&&(r.key=i.key),t&&i.shiftKey&&(r.key=i.shiftKey),i.keyCode&&(r.keyCode=i.keyCode),t&&i.shiftKeyCode&&(r.keyCode=i.shiftKeyCode),i.code&&(r.code=i.code),i.location&&(r.location=i.location),1===r.key.length&&(r.text=r.key),i.text&&(r.text=i.text),t&&i.shiftText&&(r.text=i.shiftText),-9&this._modifiers&&(r.text=""),r}async up(e){const t=this._keyDescriptionForString(e);this._modifiers&=~this._modifierBit(t.key),this._pressedKeys.delete(t.code),await this._client.send("Input.dispatchKeyEvent",{type:"keyUp",modifiers:this._modifiers,key:t.key,windowsVirtualKeyCode:t.keyCode,code:t.code,location:t.location})}async sendCharacter(e){await this._client.send("Input.insertText",{text:e})}charIsKey(e){return!!Ke[e]}async type(e,t={}){const r=t.delay||null;for(const t of e)this.charIsKey(t)?await this.press(t,{delay:r}):(r&&await new Promise((e=>setTimeout(e,r))),await this.sendCharacter(t))}async press(e,t={}){const{delay:r=null}=t;await this.down(e,t),r&&await new Promise((e=>setTimeout(e,t.delay))),await this.up(e)}}class He{constructor(e,t){this._x=0,this._y=0,this._button="none",this._client=e,this._keyboard=t}async move(e,t,r={}){const{steps:i=1}=r,n=this._x,s=this._y;this._x=e,this._y=t;for(let e=1;e<=i;e++)await this._client.send("Input.dispatchMouseEvent",{type:"mouseMoved",button:this._button,x:n+(this._x-n)*(e/i),y:s+(this._y-s)*(e/i),modifiers:this._keyboard._modifiers})}async click(e,t,r={}){const{delay:i=null}=r;null!==i?(await this.move(e,t),await this.down(r),await new Promise((e=>setTimeout(e,i))),await this.up(r)):(await this.move(e,t),await this.down(r),await this.up(r))}async down(e={}){const{button:t="left",clickCount:r=1}=e;this._button=t,await this._client.send("Input.dispatchMouseEvent",{type:"mousePressed",button:t,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:r})}async up(e={}){const{button:t="left",clickCount:r=1}=e;this._button="none",await this._client.send("Input.dispatchMouseEvent",{type:"mouseReleased",button:t,x:this._x,y:this._y,modifiers:this._keyboard._modifiers,clickCount:r})}async wheel(e={}){const{deltaX:t=0,deltaY:r=0}=e;await this._client.send("Input.dispatchMouseEvent",{type:"mouseWheel",x:this._x,y:this._y,deltaX:t,deltaY:r,modifiers:this._keyboard._modifiers,pointerType:"mouse"})}async drag(e,t){const r=new Promise((e=>{this._client.once("Input.dragIntercepted",(t=>e(t.data)))}));return await this.move(e.x,e.y),await this.down(),await this.move(t.x,t.y),r}async dragEnter(e,t){await this._client.send("Input.dispatchDragEvent",{type:"dragEnter",x:e.x,y:e.y,modifiers:this._keyboard._modifiers,data:t})}async dragOver(e,t){await this._client.send("Input.dispatchDragEvent",{type:"dragOver",x:e.x,y:e.y,modifiers:this._keyboard._modifiers,data:t})}async drop(e,t){await this._client.send("Input.dispatchDragEvent",{type:"drop",x:e.x,y:e.y,modifiers:this._keyboard._modifiers,data:t})}async dragAndDrop(e,t,r={}){const{delay:i=null}=r,n=await this.drag(e,t);await this.dragEnter(t,n),await this.dragOver(t,n),i&&await new Promise((e=>setTimeout(e,i))),await this.drop(t,n),await this.up()}}class Ge{constructor(e,t){this._client=e,this._keyboard=t}async tap(e,t){const r=[{x:Math.round(e),y:Math.round(t)}];await this._client.send("Input.dispatchTouchEvent",{type:"touchStart",touchPoints:r,modifiers:this._keyboard._modifiers}),await this._client.send("Input.dispatchTouchEvent",{type:"touchEnd",touchPoints:[],modifiers:this._keyboard._modifiers})}}class Ve{constructor(e){this._recording=!1,this._path="",this._client=e}async start(e={}){V(!this._recording,"Cannot start recording trace while already recording trace.");const t=["-*","devtools.timeline","v8.execute","disabled-by-default-devtools.timeline","disabled-by-default-devtools.timeline.frame","toplevel","blink.console","blink.user_timing","latencyInfo","disabled-by-default-devtools.timeline.stack","disabled-by-default-v8.cpu_profiler"],{path:r=null,screenshots:i=!1,categories:n=t}=e;i&&n.push("disabled-by-default-devtools.screenshot");const s=n.filter((e=>e.startsWith("-"))).map((e=>e.slice(1))),o=n.filter((e=>!e.startsWith("-")));this._path=r,this._recording=!0,await this._client.send("Tracing.start",{transferMode:"ReturnAsStream",traceConfig:{excludedCategories:s,includedCategories:o}})}async stop(){let e,t;const r=new Promise(((r,i)=>{e=r,t=i}));return this._client.once("Tracing.tracingComplete",(async r=>{try{const t=await ie.getReadableFromProtocolStream(this._client,r.stream),i=await ie.getReadableAsBuffer(t,this._path);e(i)}catch(e){t(e)}})),await this._client.send("Tracing.end"),this._recording=!1,r}}class Xe{constructor(e){this._jsCoverage=new Je(e),this._cssCoverage=new Ze(e)}async startJSCoverage(e={}){return await this._jsCoverage.start(e)}async stopJSCoverage(){return await this._jsCoverage.stop()}async startCSSCoverage(e={}){return await this._cssCoverage.start(e)}async stopCSSCoverage(){return await this._cssCoverage.stop()}}class Je{constructor(e){this._enabled=!1,this._scriptURLs=new Map,this._scriptSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1,this._reportAnonymousScripts=!1,this._includeRawScriptCoverage=!1,this._client=e}async start(e={}){V(!this._enabled,"JSCoverage is already enabled");const{resetOnNavigation:t=!0,reportAnonymousScripts:r=!1,includeRawScriptCoverage:i=!1}=e;this._resetOnNavigation=t,this._reportAnonymousScripts=r,this._includeRawScriptCoverage=i,this._enabled=!0,this._scriptURLs.clear(),this._scriptSources.clear(),this._eventListeners=[ie.addEventListener(this._client,"Debugger.scriptParsed",this._onScriptParsed.bind(this)),ie.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("Profiler.enable"),this._client.send("Profiler.startPreciseCoverage",{callCount:this._includeRawScriptCoverage,detailed:!0}),this._client.send("Debugger.enable"),this._client.send("Debugger.setSkipAllPauses",{skip:!0})])}_onExecutionContextsCleared(){this._resetOnNavigation&&(this._scriptURLs.clear(),this._scriptSources.clear())}async _onScriptParsed(e){if(e.url!==be&&(e.url||this._reportAnonymousScripts))try{const t=await this._client.send("Debugger.getScriptSource",{scriptId:e.scriptId});this._scriptURLs.set(e.scriptId,e.url),this._scriptSources.set(e.scriptId,t.scriptSource)}catch(e){Z(e)}}async stop(){V(this._enabled,"JSCoverage is not enabled"),this._enabled=!1;const e=await Promise.all([this._client.send("Profiler.takePreciseCoverage"),this._client.send("Profiler.stopPreciseCoverage"),this._client.send("Profiler.disable"),this._client.send("Debugger.disable")]);ie.removeEventListeners(this._eventListeners);const t=[],r=e[0];for(const e of r.result){let r=this._scriptURLs.get(e.scriptId);!r&&this._reportAnonymousScripts&&(r="debugger://VM"+e.scriptId);const i=this._scriptSources.get(e.scriptId);if(void 0===i||void 0===r)continue;const n=[];for(const t of e.functions)n.push(...t.ranges);const s=Ye(n);this._includeRawScriptCoverage?t.push({url:r,ranges:s,text:i,rawScriptCoverage:e}):t.push({url:r,ranges:s,text:i})}return t}}class Ze{constructor(e){this._enabled=!1,this._stylesheetURLs=new Map,this._stylesheetSources=new Map,this._eventListeners=[],this._resetOnNavigation=!1,this._reportAnonymousScripts=!1,this._client=e}async start(e={}){V(!this._enabled,"CSSCoverage is already enabled");const{resetOnNavigation:t=!0}=e;this._resetOnNavigation=t,this._enabled=!0,this._stylesheetURLs.clear(),this._stylesheetSources.clear(),this._eventListeners=[ie.addEventListener(this._client,"CSS.styleSheetAdded",this._onStyleSheet.bind(this)),ie.addEventListener(this._client,"Runtime.executionContextsCleared",this._onExecutionContextsCleared.bind(this))],await Promise.all([this._client.send("DOM.enable"),this._client.send("CSS.enable"),this._client.send("CSS.startRuleUsageTracking")])}_onExecutionContextsCleared(){this._resetOnNavigation&&(this._stylesheetURLs.clear(),this._stylesheetSources.clear())}async _onStyleSheet(e){const t=e.header;if(t.sourceURL)try{const e=await this._client.send("CSS.getStyleSheetText",{styleSheetId:t.styleSheetId});this._stylesheetURLs.set(t.styleSheetId,t.sourceURL),this._stylesheetSources.set(t.styleSheetId,e.text)}catch(e){Z(e)}}async stop(){V(this._enabled,"CSSCoverage is not enabled"),this._enabled=!1;const e=await this._client.send("CSS.stopRuleUsageTracking");await Promise.all([this._client.send("CSS.disable"),this._client.send("DOM.disable")]),ie.removeEventListeners(this._eventListeners);const t=new Map;for(const r of e.ruleUsage){let e=t.get(r.styleSheetId);e||(e=[],t.set(r.styleSheetId,e)),e.push({startOffset:r.startOffset,endOffset:r.endOffset,count:r.used?1:0})}const r=[];for(const e of this._stylesheetURLs.keys()){const i=this._stylesheetURLs.get(e),n=this._stylesheetSources.get(e),s=Ye(t.get(e)||[]);r.push({url:i,ranges:s,text:n})}return r}}function Ye(e){const t=[];for(const r of e)t.push({offset:r.startOffset,type:0,range:r}),t.push({offset:r.endOffset,type:1,range:r});t.sort(((e,t)=>{if(e.offset!==t.offset)return e.offset-t.offset;if(e.type!==t.type)return t.type-e.type;const r=e.range.endOffset-e.range.startOffset,i=t.range.endOffset-t.range.startOffset;return 0===e.type?i-r:r-i}));const r=[],i=[];let n=0;for(const e of t){if(r.length&&n<e.offset&&r[r.length-1]>0){const t=i.length?i[i.length-1]:null;t&&t.end===n?t.end=e.offset:i.push({start:n,end:e.offset})}n=e.offset,0===e.type?r.push(e.range.count):r.pop()}return i.filter((e=>e.end-e.start>1))}class Qe extends ne{constructor(e,t,r,i){let n;super(),this._client=e,this._url=t,this._executionContextPromise=new Promise((e=>this._executionContextCallback=e)),this._client.once("Runtime.executionContextCreated",(async t=>{n=t=>new ye(r,e,t);const r=new ve(e,t.context,null);this._executionContextCallback(r)})),this._client.send("Runtime.enable").catch(Z),this._client.on("Runtime.consoleAPICalled",(e=>r(e.type,e.args.map(n),e.stackTrace))),this._client.on("Runtime.exceptionThrown",(e=>i(e.exceptionDetails)))}url(){return this._url}async executionContext(){return this._executionContextPromise}async evaluate(e,...t){return(await this._executionContextPromise).evaluate(e,...t)}async evaluateHandle(e,...t){return(await this._executionContextPromise).evaluateHandle(e,...t)}}class et{constructor(e){this._client=e}async snapshot(e={}){const{interestingOnly:t=!0,root:r=null}=e,{nodes:i}=await this._client.send("Accessibility.getFullAXTree");let n=null;if(r){const{node:e}=await this._client.send("DOM.describeNode",{objectId:r._remoteObject.objectId});n=e.backendNodeId}const s=tt.createTree(i);let o=s;if(n&&(o=s.find((e=>e.payload.backendDOMNodeId===n)),!o))return null;if(!t)return this.serializeTree(o)[0];const a=new Set;return this.collectInterestingNodes(a,s,!1),a.has(o)?this.serializeTree(o,a)[0]:null}serializeTree(e,t){const r=[];for(const i of e.children)r.push(...this.serializeTree(i,t));if(t&&!t.has(e))return r;const i=e.serialize();return r.length&&(i.children=r),[i]}collectInterestingNodes(e,t,r){if(t.isInteresting(r)&&e.add(t),!t.isLeafNode()){r=r||t.isControl();for(const i of t.children)this.collectInterestingNodes(e,i,r)}}}class tt{constructor(e){this.children=[],this._richlyEditable=!1,this._editable=!1,this._focusable=!1,this._hidden=!1,this.payload=e,this._name=this.payload.name?this.payload.name.value:"",this._role=this.payload.role?this.payload.role.value:"Unknown",this._ignored=this.payload.ignored;for(const e of this.payload.properties||[])"editable"===e.name&&(this._richlyEditable="richtext"===e.value.value,this._editable=!0),"focusable"===e.name&&(this._focusable=e.value.value),"hidden"===e.name&&(this._hidden=e.value.value)}_isPlainTextField(){return!(this._richlyEditable||!this._editable&&"textbox"!==this._role&&"searchbox"!==this._role)}_isTextOnlyObject(){const e=this._role;return"LineBreak"===e||"text"===e||"InlineTextBox"===e}_hasFocusableChild(){if(void 0===this._cachedHasFocusableChild){this._cachedHasFocusableChild=!1;for(const e of this.children)if(e._focusable||e._hasFocusableChild()){this._cachedHasFocusableChild=!0;break}}return this._cachedHasFocusableChild}find(e){if(e(this))return this;for(const t of this.children){const r=t.find(e);if(r)return r}return null}isLeafNode(){if(!this.children.length)return!0;if(this._isPlainTextField()||this._isTextOnlyObject())return!0;switch(this._role){case"doc-cover":case"graphics-symbol":case"img":case"Meter":case"scrollbar":case"slider":case"separator":case"progressbar":return!0}return!(this._hasFocusableChild()||(!this._focusable||!this._name)&&("heading"!==this._role||!this._name))}isControl(){switch(this._role){case"button":case"checkbox":case"ColorWell":case"combobox":case"DisclosureTriangle":case"listbox":case"menu":case"menubar":case"menuitem":case"menuitemcheckbox":case"menuitemradio":case"radio":case"scrollbar":case"searchbox":case"slider":case"spinbutton":case"switch":case"tab":case"textbox":case"tree":case"treeitem":return!0;default:return!1}}isInteresting(e){return"Ignored"!==this._role&&!this._hidden&&!this._ignored&&(!(!this._focusable&&!this._richlyEditable)||!!this.isControl()||!e&&this.isLeafNode()&&!!this._name)}serialize(){const e=new Map;for(const t of this.payload.properties||[])e.set(t.name.toLowerCase(),t.value.value);this.payload.name&&e.set("name",this.payload.name.value),this.payload.value&&e.set("value",this.payload.value.value),this.payload.description&&e.set("description",this.payload.description.value);const t={role:this._role},r=["name","value","description","keyshortcuts","roledescription","valuetext"];for(const n of r)e.has(n)&&(t[n]=(i=n,e.get(i)));var i;const n=["disabled","expanded","focused","modal","multiline","multiselectable","readonly","required","selected"],s=t=>e.get(t);for(const e of n)"focused"===e&&"RootWebArea"===this._role||s(e)&&(t[e]=s(e));const o=["checked","pressed"];for(const r of o){if(!e.has(r))continue;const i=e.get(r);t[r]="mixed"===i?"mixed":"true"===i}const a=["level","valuemax","valuemin"],c=t=>e.get(t);for(const r of a)e.has(r)&&(t[r]=c(r));const l=["autocomplete","haspopup","invalid","orientation"],u=t=>e.get(t);for(const e of l){const r=u(e);r&&"false"!==r&&(t[e]=u(e))}return t}static createTree(e){const t=new Map;for(const r of e)t.set(r.nodeId,new tt(r));for(const e of t.values())for(const r of e.payload.childIds||[])e.children.push(t.get(r));return t.values().next().value}}class rt{constructor(){this._defaultTimeout=null,this._defaultNavigationTimeout=null}setDefaultTimeout(e){this._defaultTimeout=e}setDefaultNavigationTimeout(e){this._defaultNavigationTimeout=e}navigationTimeout(){return null!==this._defaultNavigationTimeout?this._defaultNavigationTimeout:null!==this._defaultTimeout?this._defaultTimeout:3e4}timeout(){return null!==this._defaultTimeout?this._defaultTimeout:3e4}}class it{constructor(e,t){this._handled=!1,this._element=e,this._multiple="selectSingle"!==t.mode}isMultiple(){return this._multiple}async accept(e){V(!this._handled,"Cannot accept FileChooser which is already handled!"),this._handled=!0,await this._element.uploadFile(...e)}cancel(){V(!this._handled,"Cannot cancel FileChooser which is already handled!"),this._handled=!0}}class nt{constructor(e,t,r,i){this._type=e,this._text=t,this._args=r,this._stackTraceLocations=i}type(){return this._type}text(){return this._text}args(){return this._args}location(){return this._stackTraceLocations.length?this._stackTraceLocations[0]:{}}stackTrace(){return this._stackTraceLocations}}const st={letter:{width:8.5,height:11},legal:{width:8.5,height:14},tabloid:{width:11,height:17},ledger:{width:17,height:11},a0:{width:33.1,height:46.8},a1:{width:23.4,height:33.1},a2:{width:16.54,height:23.4},a3:{width:11.7,height:16.54},a4:{width:8.27,height:11.7},a5:{width:5.83,height:8.27},a6:{width:4.13,height:5.83}};class ot extends ne{constructor(e,t,r,i){super(),this._closed=!1,this._timeoutSettings=new rt,this._pageBindings=new Map,this._javascriptEnabled=!0,this._workers=new Map,this._fileChooserInterceptors=new Set,this._userDragInterceptionEnabled=!1,this._handlerMap=new WeakMap,this._client=e,this._target=t,this._keyboard=new $e(e),this._mouse=new He(e,this._keyboard),this._touchscreen=new Ge(e,this._keyboard),this._accessibility=new et(e),this._frameManager=new Ue(e,this,r,this._timeoutSettings),this._emulationManager=new pe(e),this._tracing=new Ve(e),this._coverage=new Xe(e),this._screenshotTaskQueue=i,this._viewport=null,e.on("Target.attachedToTarget",(t=>{if("worker"===t.targetInfo.type||"iframe"===t.targetInfo.type){if("worker"===t.targetInfo.type){const r=ce.fromSession(e).session(t.sessionId),i=new Qe(r,t.targetInfo.url,this._addConsoleMessage.bind(this),this._handleException.bind(this));this._workers.set(t.sessionId,i),this.emit("workercreated",i)}}else e.send("Target.detachFromTarget",{sessionId:t.sessionId}).catch(Z)})),e.on("Target.detachedFromTarget",(e=>{const t=this._workers.get(e.sessionId);t&&(this._workers.delete(e.sessionId),this.emit("workerdestroyed",t))})),this._frameManager.on(qe.FrameAttached,(e=>this.emit("frameattached",e))),this._frameManager.on(qe.FrameDetached,(e=>this.emit("framedetached",e))),this._frameManager.on(qe.FrameNavigated,(e=>this.emit("framenavigated",e)));const n=this._frameManager.networkManager();n.on(Oe.Request,(e=>this.emit("request",e))),n.on(Oe.RequestServedFromCache,(e=>this.emit("requestservedfromcache",e))),n.on(Oe.Response,(e=>this.emit("response",e))),n.on(Oe.RequestFailed,(e=>this.emit("requestfailed",e))),n.on(Oe.RequestFinished,(e=>this.emit("requestfinished",e))),this._fileChooserInterceptors=new Set,e.on("Page.domContentEventFired",(()=>this.emit("domcontentloaded"))),e.on("Page.loadEventFired",(()=>this.emit("load"))),e.on("Runtime.consoleAPICalled",(e=>this._onConsoleAPI(e))),e.on("Runtime.bindingCalled",(e=>this._onBindingCalled(e))),e.on("Page.javascriptDialogOpening",(e=>this._onDialog(e))),e.on("Runtime.exceptionThrown",(e=>this._handleException(e.exceptionDetails))),e.on("Inspector.targetCrashed",(()=>this._onTargetCrashed())),e.on("Performance.metrics",(e=>this._emitMetrics(e))),e.on("Log.entryAdded",(e=>this._onLogEntryAdded(e))),e.on("Page.fileChooserOpened",(e=>this._onFileChooser(e))),this._target._isClosedPromise.then((()=>{this.emit("close"),this._closed=!0}))}static async create(e,t,r,i,n){const s=new ot(e,t,r,n);return await s._initialize(),i&&await s.setViewport(i),s}async _initialize(){await Promise.all([this._frameManager.initialize(),this._client.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0}),this._client.send("Performance.enable"),this._client.send("Log.enable")])}async _onFileChooser(e){if(!this._fileChooserInterceptors.size)return;const t=this._frameManager.frame(e.frameId),r=await t.executionContext(),i=await r._adoptBackendNodeId(e.backendNodeId),n=Array.from(this._fileChooserInterceptors);this._fileChooserInterceptors.clear();const s=new it(i,e);for(const e of n)e.call(null,s)}isDragInterceptionEnabled(){return this._userDragInterceptionEnabled}isJavaScriptEnabled(){return this._javascriptEnabled}on(e,t){if("request"===e){const r=e=>{e.enqueueInterceptAction((()=>t(e)))};return this._handlerMap.set(t,r),super.on(e,r)}return super.on(e,t)}once(e,t){return super.once(e,t)}off(e,t){return"request"===e&&(t=this._handlerMap.get(t)||t),super.off(e,t)}async waitForFileChooser(e={}){this._fileChooserInterceptors.size||await this._client.send("Page.setInterceptFileChooserDialog",{enabled:!0});const{timeout:t=this._timeoutSettings.timeout()}=e;let r;const i=new Promise((e=>r=e));return this._fileChooserInterceptors.add(r),ie.waitWithTimeout(i,"waiting for file chooser",t).catch((e=>{throw this._fileChooserInterceptors.delete(r),e}))}async setGeolocation(e){const{longitude:t,latitude:r,accuracy:i=0}=e;if(t<-180||t>180)throw new Error(`Invalid longitude "${t}": precondition -180 <= LONGITUDE <= 180 failed.`);if(r<-90||r>90)throw new Error(`Invalid latitude "${r}": precondition -90 <= LATITUDE <= 90 failed.`);if(i<0)throw new Error(`Invalid accuracy "${i}": precondition 0 <= ACCURACY failed.`);await this._client.send("Emulation.setGeolocationOverride",{longitude:t,latitude:r,accuracy:i})}target(){return this._target}client(){return this._client}browser(){return this._target.browser()}browserContext(){return this._target.browserContext()}_onTargetCrashed(){this.emit("error",new Error("Page crashed!"))}_onLogEntryAdded(e){const{level:t,text:r,args:i,source:n,url:s,lineNumber:o}=e.entry;i&&i.map((e=>ie.releaseObject(this._client,e))),"worker"!==n&&this.emit("console",new nt(t,r,[],[{url:s,lineNumber:o}]))}mainFrame(){return this._frameManager.mainFrame()}get keyboard(){return this._keyboard}get touchscreen(){return this._touchscreen}get coverage(){return this._coverage}get tracing(){return this._tracing}get accessibility(){return this._accessibility}frames(){return this._frameManager.frames()}workers(){return Array.from(this._workers.values())}async setRequestInterception(e){return this._frameManager.networkManager().setRequestInterception(e)}async setDragInterception(e){return this._userDragInterceptionEnabled=e,this._client.send("Input.setInterceptDrags",{enabled:e})}setOfflineMode(e){return this._frameManager.networkManager().setOfflineMode(e)}emulateNetworkConditions(e){return this._frameManager.networkManager().emulateNetworkConditions(e)}setDefaultNavigationTimeout(e){this._timeoutSettings.setDefaultNavigationTimeout(e)}setDefaultTimeout(e){this._timeoutSettings.setDefaultTimeout(e)}async $(e){return this.mainFrame().$(e)}async evaluateHandle(e,...t){return(await this.mainFrame().executionContext()).evaluateHandle(e,...t)}async queryObjects(e){return(await this.mainFrame().executionContext()).queryObjects(e)}async $eval(e,t,...r){return this.mainFrame().$eval(e,t,...r)}async $$eval(e,t,...r){return this.mainFrame().$$eval(e,t,...r)}async $$(e){return this.mainFrame().$$(e)}async $x(e){return this.mainFrame().$x(e)}async cookies(...e){const t=(await this._client.send("Network.getCookies",{urls:e.length?e:[this.url()]})).cookies,r=["priority"];return t.map((e=>{for(const t of r)delete e[t];return e}))}async deleteCookie(...e){const t=this.url();for(const r of e){const e=Object.assign({},r);!r.url&&t.startsWith("http")&&(e.url=t),await this._client.send("Network.deleteCookies",e)}}async setCookie(...e){const t=this.url(),r=t.startsWith("http"),i=e.map((e=>{const i=Object.assign({},e);return!i.url&&r&&(i.url=t),V("about:blank"!==i.url,`Blank page can not have cookie "${i.name}"`),V(!String.prototype.startsWith.call(i.url||"","data:"),`Data URL page can not have cookie "${i.name}"`),i}));await this.deleteCookie(...i),i.length&&await this._client.send("Network.setCookies",{cookies:i})}async addScriptTag(e){return this.mainFrame().addScriptTag(e)}async addStyleTag(e){return this.mainFrame().addStyleTag(e)}async exposeFunction(e,t){if(this._pageBindings.has(e))throw new Error(`Failed to add page binding with name ${e}: window['${e}'] already exists!`);let r;if("function"==typeof t)r=t;else{if("function"!=typeof t.default)throw new Error(`Failed to add page binding with name ${e}: ${t} is not a function or a module with a default export.`);r=t.default}this._pageBindings.set(e,r);const i=ie.pageBindingInitString("exposedFun",e);await this._client.send("Runtime.addBinding",{name:e}),await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:i}),await Promise.all(this.frames().map((e=>e.evaluate(i).catch(Z))))}async authenticate(e){return this._frameManager.networkManager().authenticate(e)}async setExtraHTTPHeaders(e){return this._frameManager.networkManager().setExtraHTTPHeaders(e)}async setUserAgent(e,t){return this._frameManager.networkManager().setUserAgent(e,t)}async metrics(){const e=await this._client.send("Performance.getMetrics");return this._buildMetricsObject(e.metrics)}_emitMetrics(e){this.emit("metrics",{title:e.title,metrics:this._buildMetricsObject(e.metrics)})}_buildMetricsObject(e){const t={};for(const r of e||[])at.has(r.name)&&(t[r.name]=r.value);return t}_handleException(e){const t=ie.getExceptionMessage(e),r=new Error(t);r.stack="",this.emit("pageerror",r)}async _onConsoleAPI(e){if(0===e.executionContextId)return;const t=this._frameManager.executionContextById(e.executionContextId,this._client),r=e.args.map((e=>me(t,e)));this._addConsoleMessage(e.type,r,e.stackTrace)}async _onBindingCalled(e){let t;try{t=JSON.parse(e.payload)}catch{return}const{type:r,name:i,seq:n,args:s}=t;if("exposedFun"!==r||!this._pageBindings.has(i))return;let o=null;try{const e=await this._pageBindings.get(i)(...s);o=ie.pageBindingDeliverResultString(i,n,e)}catch(e){o=e instanceof Error?ie.pageBindingDeliverErrorString(i,n,e.message,e.stack):ie.pageBindingDeliverErrorValueString(i,n,e)}this._client.send("Runtime.evaluate",{expression:o,contextId:e.executionContextId}).catch(Z)}_addConsoleMessage(e,t,r){if(!this.listenerCount("console"))return void t.forEach((e=>e.dispose()));const i=[];for(const e of t){const t=e._remoteObject;t.objectId?i.push(e.toString()):i.push(ie.valueFromRemoteObject(t))}const n=[];if(r)for(const e of r.callFrames)n.push({url:e.url,lineNumber:e.lineNumber,columnNumber:e.columnNumber});const s=new nt(e,i.join(" "),t,n);this.emit("console",s)}_onDialog(e){let t=null;new Set(["alert","confirm","prompt","beforeunload"]).has(e.type)&&(t=e.type),V(t,"Unknown javascript dialog type: "+e.type);const r=new fe(this._client,t,e.message,e.defaultPrompt);this.emit("dialog",r)}async _resetDefaultBackgroundColor(){await this._client.send("Emulation.setDefaultBackgroundColorOverride")}async _setTransparentBackgroundColor(){await this._client.send("Emulation.setDefaultBackgroundColorOverride",{color:{r:0,g:0,b:0,a:0}})}url(){return this.mainFrame().url()}async content(){return await this._frameManager.mainFrame().content()}async setContent(e,t={}){await this._frameManager.mainFrame().setContent(e,t)}async goto(e,t={}){return await this._frameManager.mainFrame().goto(e,t)}async reload(e){return(await Promise.all([this.waitForNavigation(e),this._client.send("Page.reload")]))[0]}async waitForNavigation(e={}){return await this._frameManager.mainFrame().waitForNavigation(e)}_sessionClosePromise(){return this._disconnectPromise||(this._disconnectPromise=new Promise((e=>this._client.once(le.Disconnected,(()=>e(new Error("Target closed"))))))),this._disconnectPromise}async waitForRequest(e,t={}){const{timeout:r=this._timeoutSettings.timeout()}=t;return ie.waitForEvent(this._frameManager.networkManager(),Oe.Request,(t=>ie.isString(e)?e===t.url():"function"==typeof e&&!!e(t)),r,this._sessionClosePromise())}async waitForResponse(e,t={}){const{timeout:r=this._timeoutSettings.timeout()}=t;return ie.waitForEvent(this._frameManager.networkManager(),Oe.Response,(async t=>ie.isString(e)?e===t.url():"function"==typeof e&&!!await e(t)),r,this._sessionClosePromise())}async waitForNetworkIdle(e={}){const{idleTime:t=500,timeout:r=this._timeoutSettings.timeout()}=e,i=this._frameManager.networkManager();let n;const s=new Promise((e=>{n=e}));let o;const a=new Promise(((e,t)=>{o=t}));let c;const l=()=>n(),u=()=>{c&&clearTimeout(c),o(new Error("abort"))},h=()=>{c&&clearTimeout(c),0===i.numRequestsInProgress()&&(c=setTimeout(l,t))};h();const d=()=>(h(),!1),f=e=>ie.waitForEvent(i,e,d,r,a),p=[f(Oe.Request),f(Oe.Response)];await Promise.race([s,...p,this._sessionClosePromise()]).then((e=>(u(),e)),(e=>{throw u(),e}))}async waitForFrame(e,t={}){const{timeout:r=this._timeoutSettings.timeout()}=t;async function i(t){return ie.isString(e)?e===t.url():"function"==typeof e&&!!await e(t)}const n=Promise.race([ie.waitForEvent(this._frameManager,qe.FrameAttached,i,r,this._sessionClosePromise()),ie.waitForEvent(this._frameManager,qe.FrameNavigated,i,r,this._sessionClosePromise())]);return Promise.race([n,(async()=>{for(const e of this.frames())if(await i(e))return e;await n})()])}async goBack(e={}){return this._go(-1,e)}async goForward(e={}){return this._go(1,e)}async _go(e,t){const r=await this._client.send("Page.getNavigationHistory"),i=r.entries[r.currentIndex+e];return i?(await Promise.all([this.waitForNavigation(t),this._client.send("Page.navigateToHistoryEntry",{entryId:i.id})]))[0]:null}async bringToFront(){await this._client.send("Page.bringToFront")}async emulate(e){await Promise.all([this.setViewport(e.viewport),this.setUserAgent(e.userAgent)])}async setJavaScriptEnabled(e){this._javascriptEnabled!==e&&(this._javascriptEnabled=e,await this._client.send("Emulation.setScriptExecutionDisabled",{value:!e}))}async setBypassCSP(e){await this._client.send("Page.setBypassCSP",{enabled:e})}async emulateMediaType(e){V("screen"===e||"print"===e||null===e,"Unsupported media type: "+e),await this._client.send("Emulation.setEmulatedMedia",{media:e||""})}async emulateCPUThrottling(e){V(null===e||e>=1,"Throttling rate should be greater or equal to 1"),await this._client.send("Emulation.setCPUThrottlingRate",{rate:null!==e?e:1})}async emulateMediaFeatures(e){null===e&&await this._client.send("Emulation.setEmulatedMedia",{features:null}),Array.isArray(e)&&(e.every((e=>{const t=e.name;return V(/^(?:prefers-(?:color-scheme|reduced-motion)|color-gamut)$/.test(t),"Unsupported media feature: "+t),!0})),await this._client.send("Emulation.setEmulatedMedia",{features:e}))}async emulateTimezone(e){try{await this._client.send("Emulation.setTimezoneOverride",{timezoneId:e||""})}catch(t){if(t.message.includes("Invalid timezone"))throw new Error(`Invalid timezone ID: ${e}`);throw t}}async emulateIdleState(e){e?await this._client.send("Emulation.setIdleOverride",{isUserActive:e.isUserActive,isScreenUnlocked:e.isScreenUnlocked}):await this._client.send("Emulation.clearIdleOverride")}async emulateVisionDeficiency(e){const t=new Set(["none","achromatopsia","blurredVision","deuteranopia","protanopia","tritanopia"]);try{V(!e||t.has(e),`Unsupported vision deficiency: ${e}`),await this._client.send("Emulation.setEmulatedVisionDeficiency",{type:e||"none"})}catch(e){throw e}}async setViewport(e){const t=await this._emulationManager.emulateViewport(e);this._viewport=e,t&&await this.reload()}viewport(){return this._viewport}async evaluate(e,...t){return this._frameManager.mainFrame().evaluate(e,...t)}async evaluateOnNewDocument(e,...t){const r=ie.evaluationString(e,...t);await this._client.send("Page.addScriptToEvaluateOnNewDocument",{source:r})}async setCacheEnabled(e=!0){await this._frameManager.networkManager().setCacheEnabled(e)}async screenshot(e={}){let t=null;if(e.type){const r=e.type;"png"!==r&&"jpeg"!==r&&"webp"!==r&&((e,t)=>{if(e)throw new Error(t)})(r,"Unknown options.type value: "+r),t=e.type}else if(e.path){const r=e.path,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();"png"===i?t="png":"jpg"===i||"jpeg"===i?t="jpeg":"webp"===i&&(t="webp"),V(t,`Unsupported screenshot type for extension \`.${i}\``)}return t||(t="png"),e.quality&&(V("jpeg"===t||"webp"===t,"options.quality is unsupported for the "+t+" screenshots"),V("number"==typeof e.quality,"Expected options.quality to be a number but found "+typeof e.quality),V(Number.isInteger(e.quality),"Expected options.quality to be an integer"),V(e.quality>=0&&e.quality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+e.quality)),V(!e.clip||!e.fullPage,"options.clip and options.fullPage are exclusive"),e.clip&&(V("number"==typeof e.clip.x,"Expected options.clip.x to be a number but found "+typeof e.clip.x),V("number"==typeof e.clip.y,"Expected options.clip.y to be a number but found "+typeof e.clip.y),V("number"==typeof e.clip.width,"Expected options.clip.width to be a number but found "+typeof e.clip.width),V("number"==typeof e.clip.height,"Expected options.clip.height to be a number but found "+typeof e.clip.height),V(0!==e.clip.width,"Expected options.clip.width not to be 0."),V(0!==e.clip.height,"Expected options.clip.height not to be 0.")),this._screenshotTaskQueue.postTask((()=>this._screenshotTask(t,e)))}async _screenshotTask(e,t){await this._client.send("Target.activateTarget",{targetId:this._target._targetId});let r=t.clip?function(e){const t=Math.round(e.x),r=Math.round(e.y);return{x:t,y:r,width:Math.round(e.width+e.x-t),height:Math.round(e.height+e.y-r),scale:1}}(t.clip):void 0,{captureBeyondViewport:i=!0}=t;if(i="boolean"!=typeof i||i,t.fullPage){const e=await this._client.send("Page.getLayoutMetrics"),{width:t,height:n}=e.cssContentSize||e.contentSize;if(r={x:0,y:0,width:t,height:n,scale:1},!i){const{isMobile:e=!1,deviceScaleFactor:r=1,isLandscape:i=!1}=this._viewport||{},s=i?{angle:90,type:"landscapePrimary"}:{angle:0,type:"portraitPrimary"};await this._client.send("Emulation.setDeviceMetricsOverride",{mobile:e,width:t,height:n,deviceScaleFactor:r,screenOrientation:s})}}const n=t.omitBackground&&("png"===e||"webp"===e);n&&await this._setTransparentBackgroundColor();const s=await this._client.send("Page.captureScreenshot",{format:e,quality:t.quality,clip:r,captureBeyondViewport:i});n&&await this._resetDefaultBackgroundColor(),t.fullPage&&this._viewport&&await this.setViewport(this._viewport);const o="base64"===t.encoding?s.data:Buffer.from(s.data,"base64");if(t.path){if(!X)throw new Error("Screenshots can only be written to a file path in a Node environment.");const e=await ie.importFSModule();await e.promises.writeFile(t.path,o)}return o}async createPDFStream(e={}){const{scale:t=1,displayHeaderFooter:r=!1,headerTemplate:i="",footerTemplate:n="",printBackground:s=!1,landscape:o=!1,pageRanges:a="",preferCSSPageSize:c=!1,margin:l={},omitBackground:u=!1,timeout:h=3e4}=e;let d=8.5,f=11;if(e.format){const t=st[e.format.toLowerCase()];V(t,"Unknown paper format: "+e.format),d=t.width,f=t.height}else d=lt(e.width)||d,f=lt(e.height)||f;const p=lt(l.top)||0,m=lt(l.left)||0,g=lt(l.bottom)||0,y=lt(l.right)||0;u&&await this._setTransparentBackgroundColor();const _=this._client.send("Page.printToPDF",{transferMode:"ReturnAsStream",landscape:o,displayHeaderFooter:r,headerTemplate:i,footerTemplate:n,printBackground:s,scale:t,paperWidth:d,paperHeight:f,marginTop:p,marginBottom:g,marginLeft:m,marginRight:y,pageRanges:a,preferCSSPageSize:c}),b=await ie.waitWithTimeout(_,"Page.printToPDF",h);return u&&await this._resetDefaultBackgroundColor(),ie.getReadableFromProtocolStream(this._client,b.stream)}async pdf(e={}){const{path:t}=e,r=await this.createPDFStream(e);return await ie.getReadableAsBuffer(r,t)}async title(){return this.mainFrame().title()}async close(e={runBeforeUnload:void 0}){V(!!this._client._connection,"Protocol error: Connection closed. Most likely the page has been closed."),e.runBeforeUnload?await this._client.send("Page.close"):(await this._client._connection.send("Target.closeTarget",{targetId:this._target._targetId}),await this._target._isClosedPromise)}isClosed(){return this._closed}get mouse(){return this._mouse}click(e,t={}){return this.mainFrame().click(e,t)}focus(e){return this.mainFrame().focus(e)}hover(e){return this.mainFrame().hover(e)}select(e,...t){return this.mainFrame().select(e,...t)}tap(e){return this.mainFrame().tap(e)}type(e,t,r){return this.mainFrame().type(e,t,r)}waitFor(e,t={},...r){return this.mainFrame().waitFor(e,t,...r)}waitForTimeout(e){return this.mainFrame().waitForTimeout(e)}waitForSelector(e,t={}){return this.mainFrame().waitForSelector(e,t)}waitForXPath(e,t={}){return this.mainFrame().waitForXPath(e,t)}waitForFunction(e,t={},...r){return this.mainFrame().waitForFunction(e,t,...r)}}const at=new Set(["Timestamp","Documents","Frames","JSEventListeners","Nodes","LayoutCount","RecalcStyleCount","LayoutDuration","RecalcStyleDuration","ScriptDuration","TaskDuration","JSHeapUsedSize","JSHeapTotalSize"]),ct={px:1,in:96,cm:37.8,mm:3.78};function lt(e){if(void 0===e)return;let t;if(ie.isNumber(e))t=e;else{if(!ie.isString(e))throw new Error("page.pdf() Cannot handle parameter type: "+typeof e);{const r=e;let i=r.substring(r.length-2).toLowerCase(),n="";ct.hasOwnProperty(i)?n=r.substring(0,r.length-2):(i="px",n=r);const s=Number(n);V(!isNaN(s),"Failed to parse parameter value: "+r),t=s*ct[i]}}return t/96}class ut{constructor(e,t,r,i,n,s,o){this._targetInfo=e,this._browserContext=t,this._targetId=e.targetId,this._sessionFactory=r,this._ignoreHTTPSErrors=i,this._defaultViewport=n,this._screenshotTaskQueue=s,this._isPageTargetCallback=o,this._pagePromise=null,this._workerPromise=null,this._initializedPromise=new Promise((e=>this._initializedCallback=e)).then((async e=>{if(!e)return!1;const t=this.opener();if(!t||!t._pagePromise||"page"!==this.type())return!0;const r=await t._pagePromise;if(!r.listenerCount("popup"))return!0;const i=await this.page();return r.emit("popup",i),!0})),this._isClosedPromise=new Promise((e=>this._closedCallback=e)),this._isInitialized=!this._isPageTargetCallback(this._targetInfo)||""!==this._targetInfo.url,this._isInitialized&&this._initializedCallback(!0)}createCDPSession(){return this._sessionFactory()}async page(){return this._isPageTargetCallback(this._targetInfo)&&!this._pagePromise&&(this._pagePromise=this._sessionFactory().then((e=>ot.create(e,this,this._ignoreHTTPSErrors,this._defaultViewport,this._screenshotTaskQueue)))),this._pagePromise}async worker(){return"service_worker"!==this._targetInfo.type&&"shared_worker"!==this._targetInfo.type?null:(this._workerPromise||(this._workerPromise=this._sessionFactory().then((e=>new Qe(e,this._targetInfo.url,(()=>{}),(()=>{}))))),this._workerPromise)}url(){return this._targetInfo.url}type(){const e=this._targetInfo.type;return"page"===e||"background_page"===e||"service_worker"===e||"shared_worker"===e||"browser"===e||"webview"===e?e:"other"}browser(){return this._browserContext.browser()}browserContext(){return this._browserContext}opener(){const{openerId:e}=this._targetInfo;return e?this.browser()._targets.get(e):null}_targetInfoChanged(e){if(this._targetInfo=e,!(this._isInitialized||this._isPageTargetCallback(this._targetInfo)&&""===this._targetInfo.url))return this._isInitialized=!0,void this._initializedCallback(!0)}}class ht{constructor(){this._chain=Promise.resolve()}postTask(e){const t=this._chain.then(e);return this._chain=t.then((()=>{}),(()=>{})),t}}const dt=new Map([["geolocation","geolocation"],["midi","midi"],["notifications","notifications"],["camera","videoCapture"],["microphone","audioCapture"],["background-sync","backgroundSync"],["ambient-light-sensor","sensors"],["accelerometer","sensors"],["gyroscope","sensors"],["magnetometer","sensors"],["accessibility-events","accessibilityEvents"],["clipboard-read","clipboardReadWrite"],["clipboard-write","clipboardReadWrite"],["payment-handler","paymentHandler"],["persistent-storage","durableStorage"],["idle-detection","idleDetection"],["midi-sysex","midiSysex"]]);class ft extends ne{constructor(e,t,r,i,n,s,o,a){super(),this._ignoredTargets=new Set,this._ignoreHTTPSErrors=r,this._defaultViewport=i,this._process=n,this._screenshotTaskQueue=new ht,this._connection=e,this._closeCallback=s||function(){},this._targetFilterCallback=o||(()=>!0),this._setIsPageTargetCallback(a),this._defaultContext=new pt(this._connection,this),this._contexts=new Map;for(const e of t)this._contexts.set(e,new pt(this._connection,this,e));this._targets=new Map,this._connection.on(ae.Disconnected,(()=>this.emit("disconnected"))),this._connection.on("Target.targetCreated",this._targetCreated.bind(this)),this._connection.on("Target.targetDestroyed",this._targetDestroyed.bind(this)),this._connection.on("Target.targetInfoChanged",this._targetInfoChanged.bind(this))}static async create(e,t,r,i,n,s,o,a){const c=new ft(e,t,r,i,n,s,o,a);return await e.send("Target.setDiscoverTargets",{discover:!0}),c}process(){var e;return null!==(e=this._process)&&void 0!==e?e:null}_setIsPageTargetCallback(e){this._isPageTargetCallback=e||(e=>"page"===e.type||"background_page"===e.type||"webview"===e.type)}async createIncognitoBrowserContext(e={}){const{proxyServer:t,proxyBypassList:r}=e,{browserContextId:i}=await this._connection.send("Target.createBrowserContext",{proxyServer:t,proxyBypassList:r&&r.join(",")}),n=new pt(this._connection,this,i);return this._contexts.set(i,n),n}browserContexts(){return[this._defaultContext,...Array.from(this._contexts.values())]}defaultBrowserContext(){return this._defaultContext}async _disposeContext(e){e&&(await this._connection.send("Target.disposeBrowserContext",{browserContextId:e}),this._contexts.delete(e))}async _targetCreated(e){var t;const r=e.targetInfo,{browserContextId:i}=r,n=i&&this._contexts.has(i)?this._contexts.get(i):this._defaultContext;if(!n)throw new Error("Missing browser context");if(!this._targetFilterCallback(r))return void this._ignoredTargets.add(r.targetId);const s=new ut(r,n,(()=>this._connection.createSession(r)),this._ignoreHTTPSErrors,null!==(t=this._defaultViewport)&&void 0!==t?t:null,this._screenshotTaskQueue,this._isPageTargetCallback);V(!this._targets.has(e.targetInfo.targetId),"Target should not exist before targetCreated"),this._targets.set(e.targetInfo.targetId,s),await s._initializedPromise&&(this.emit("targetcreated",s),n.emit("targetcreated",s))}async _targetDestroyed(e){if(this._ignoredTargets.has(e.targetId))return;const t=this._targets.get(e.targetId);if(!t)throw new Error(`Missing target in _targetDestroyed (id = ${e.targetId})`);t._initializedCallback(!1),this._targets.delete(e.targetId),t._closedCallback(),await t._initializedPromise&&(this.emit("targetdestroyed",t),t.browserContext().emit("targetdestroyed",t))}_targetInfoChanged(e){if(this._ignoredTargets.has(e.targetInfo.targetId))return;const t=this._targets.get(e.targetInfo.targetId);if(!t)throw new Error(`Missing target in targetInfoChanged (id = ${e.targetInfo.targetId})`);const r=t.url(),i=t._isInitialized;t._targetInfoChanged(e.targetInfo),i&&r!==t.url()&&(this.emit("targetchanged",t),t.browserContext().emit("targetchanged",t))}wsEndpoint(){return this._connection.url()}async newPage(){return this._defaultContext.newPage()}async _createPageInContext(e){const{targetId:t}=await this._connection.send("Target.createTarget",{url:"about:blank",browserContextId:e||void 0}),r=this._targets.get(t);if(!r)throw new Error(`Missing target for page (id = ${t})`);if(!await r._initializedPromise)throw new Error(`Failed to create target for page (id = ${t})`);const i=await r.page();if(!i)throw new Error(`Failed to create a page for context (id = ${e})`);return i}targets(){return Array.from(this._targets.values()).filter((e=>e._isInitialized))}target(){const e=this.targets().find((e=>"browser"===e.type()));if(!e)throw new Error("Browser target is not found");return e}async waitForTarget(e,t={}){const{timeout:r=3e4}=t;let i;const n=new Promise((e=>i=e));this.on("targetcreated",s),this.on("targetchanged",s);try{return r?await ie.waitWithTimeout(Promise.race([n,(async()=>{for(const t of this.targets())if(await e(t))return t;await n})()]),"target",r):await n}finally{this.removeListener("targetcreated",s),this.removeListener("targetchanged",s)}async function s(t){await e(t)&&i(t)}}async pages(){return(await Promise.all(this.browserContexts().map((e=>e.pages())))).reduce(((e,t)=>e.concat(t)),[])}async version(){return(await this._getVersion()).product}async userAgent(){return(await this._getVersion()).userAgent}async close(){await this._closeCallback.call(null),this.disconnect()}disconnect(){this._connection.dispose()}isConnected(){return!this._connection._closed}_getVersion(){return this._connection.send("Browser.getVersion")}}class pt extends ne{constructor(e,t,r){super(),this._connection=e,this._browser=t,this._id=r}targets(){return this._browser.targets().filter((e=>e.browserContext()===this))}waitForTarget(e,t={}){return this._browser.waitForTarget((t=>t.browserContext()===this&&e(t)),t)}async pages(){return(await Promise.all(this.targets().filter((e=>"page"===e.type())).map((e=>e.page())))).filter((e=>!!e))}isIncognito(){return!!this._id}async overridePermissions(e,t){const r=t.map((e=>{const t=dt.get(e);if(!t)throw new Error("Unknown permission: "+e);return t}));await this._connection.send("Browser.grantPermissions",{origin:e,browserContextId:this._id||void 0,permissions:r})}async clearPermissionOverrides(){await this._connection.send("Browser.resetPermissions",{browserContextId:this._id||void 0})}newPage(){return this._browser._createPageInContext(this._id)}browser(){return this._browser}async close(){V(this._id,"Non-incognito profiles cannot be closed!"),await this._browser._disposeContext(this._id)}}const mt=async()=>X?(await Promise.resolve().then(s.bind(s,5945))).NodeWebSocketTransport:(await s.e(817).then(s.bind(s,1817))).BrowserWebSocketTransport,gt={"Slow 3G":{download:5e4,upload:5e4,latency:2e3},"Fast 3G":{download:18e4,upload:84375,latency:562.5}};var yt=s(2037),_t=s(7147),bt=s.t(_t,2),wt=s.n(_t),vt=s(1017),kt=s.n(vt),St=s(3837),Et=s(2081),xt=s(5687),Ct=s(3685),Tt=s(7691),Mt=s(2133),Rt=s(7310),Pt=s(3374),Ot=s(3152),At=s(8117),Lt=s(4705);const{PUPPETEER_EXPERIMENTAL_CHROMIUM_MAC_ARM:It}=process.env,Nt=J("puppeteer:fetcher"),Ft={chrome:{linux:"%s/chromium-browser-snapshots/Linux_x64/%d/%s.zip",mac:"%s/chromium-browser-snapshots/Mac/%d/%s.zip",mac_arm:"%s/chromium-browser-snapshots/Mac_Arm/%d/%s.zip",win32:"%s/chromium-browser-snapshots/Win/%d/%s.zip",win64:"%s/chromium-browser-snapshots/Win_x64/%d/%s.zip"},firefox:{linux:"%s/firefox-%s.en-US.%s-x86_64.tar.bz2",mac:"%s/firefox-%s.en-US.%s.dmg",win32:"%s/firefox-%s.en-US.%s.zip",win64:"%s/firefox-%s.en-US.%s.zip"}},jt={chrome:{host:"https://storage.googleapis.com",destination:".local-chromium"},firefox:{host:"https://archive.mozilla.org/pub/firefox/nightly/latest-mozilla-central",destination:".local-firefox"}};function Dt(e,t,r){if("chrome"===e){if("linux"===t)return"chrome-linux";if("mac"===t||"mac_arm"===t)return"chrome-mac";if("win32"===t||"win64"===t)return parseInt(r,10)>591479?"chrome-win":"chrome-win32"}else if("firefox"===e)return t}function Bt(e,t,r,i){return St.format(Ft[e][t],r,i,Dt(e,t,i))}const qt=(0,St.promisify)(_t.readdir.bind(bt)),Ut=(0,St.promisify)(_t.mkdir.bind(bt)),zt=(0,St.promisify)(_t.unlink.bind(bt)),Wt=(0,St.promisify)(_t.chmod.bind(bt));function Kt(e){return new Promise((t=>{_t.access(e,(e=>t(!e)))}))}class $t{constructor(e,t={}){this._product=(t.product||"chrome").toLowerCase(),V("chrome"===this._product||"firefox"===this._product,`Unknown product: "${t.product}"`),this._downloadsFolder=t.path||vt.join(e,jt[this._product].destination),this._downloadHost=t.host||jt[this._product].host,this.setPlatform(t.platform,this._product),V(Ft[this._product][this._platform],"Unsupported platform: "+this._platform)}setPlatform(e,t){if(e)return void(this._platform=e);const r=yt.platform();"darwin"===r?"chrome"===t?this._platform="arm64"===yt.arch()&&It?"mac_arm":"mac":"firefox"===t&&(this._platform="mac"):"linux"===r?this._platform="linux":"win32"===r?this._platform="x64"===yt.arch()?"win64":"win32":V(this._platform,"Unsupported platform: "+r)}platform(){return this._platform}product(){return this._product}host(){return this._downloadHost}canDownload(e){const t=Bt(this._product,this._platform,this._downloadHost,e);return new Promise((e=>{Ht(t,"HEAD",(t=>{e(200===t.statusCode)}),!1).on("error",(t=>{console.error(t),e(!1)}))}))}async download(e,t=(()=>{})){const r=Bt(this._product,this._platform,this._downloadHost,e),i=r.split("/").pop(),n=vt.join(this._downloadsFolder,i),s=this._getFolderPath(e);if(await Kt(s))return this.revisionInfo(e);if(await Kt(this._downloadsFolder)||await Ut(this._downloadsFolder),"darwin"!==yt.platform()&&"arm64"===yt.arch())return void _t.stat("/usr/bin/chromium-browser",(function(e,t){void 0===t&&_t.stat("/usr/bin/chromium",(function(e,t){if(void 0===t)throw console.error("The chromium binary is not available for arm64.\nIf you are on Ubuntu, you can install with: \n\n sudo apt install chromium\n\n\n sudo apt install chromium-browser\n"),new Error}))}));try{await function(e,t,r){let i,n;Nt(`Downloading binary from ${e}`);let s=0,o=0;const a=new Promise(((e,t)=>{i=e,n=t}));return Ht(e,"GET",(s=>{if(200!==s.statusCode){const t=new Error(`Download failed: server returned code ${s.statusCode}. URL: ${e}`);return s.resume(),void n(t)}const a=_t.createWriteStream(t);a.on("finish",(()=>i())),a.on("error",(e=>n(e))),s.pipe(a),o=parseInt(s.headers["content-length"],10),r&&s.on("data",c)})).on("error",(e=>n(e))),a;function c(e){s+=e.length,r(s,o)}}(r,n,t),await function(e,t){if(Nt(`Installing ${e} to ${t}`),e.endsWith(".zip"))return Tt(e,{dir:t});if(e.endsWith(".tar.bz2"))return function(e,t){return new Promise(((r,i)=>{const n=At.extract(t);n.on("error",i),n.on("finish",r),_t.createReadStream(e).pipe(Lt()).pipe(n)}))}(e,t);if(e.endsWith(".dmg"))return Ut(t).then((()=>function(e,t){let r;return new Promise((function(i,n){const s=`hdiutil attach -nobrowse -noautoopen "${e}"`;Et.exec(s,((e,s)=>{if(e)return n(e);const o=s.match(/\/Volumes\/(.*)/m);if(!o)return n(new Error(`Could not find volume path in ${s}`));r=o[0],qt(r).then((e=>{const s=e.find((e=>"string"==typeof e&&e.endsWith(".app")));if(!s)return n(new Error(`Cannot find app in ${r}`));const o=vt.join(r,s);Nt(`Copying ${o} to ${t}`),Et.exec(`cp -R "${o}" "${t}"`,(e=>{e?n(e):i()}))})).catch(n)}))})).catch((e=>{console.error(e)})).finally((function(){if(!r)return;const e=`hdiutil detach "${r}" -quiet`;Nt(`Unmounting ${r}`),Et.exec(e,(e=>{e&&console.error(`Error unmounting dmg: ${e}`)}))}))}(e,t)));throw new Error(`Unsupported archive format: ${e}`)}(n,s)}finally{await Kt(n)&&await zt(n)}const o=this.revisionInfo(e);return o&&await Wt(o.executablePath,493),o}async localRevisions(){return await Kt(this._downloadsFolder)?(await qt(this._downloadsFolder)).map((e=>function(e,t){const r=vt.basename(t).split("-");if(2!==r.length)return null;const[i,n]=r;return Ft[e][i]?{product:e,platform:i,revision:n}:null}(this._product,e))).filter((e=>e&&e.platform===this._platform)).map((e=>e.revision)):[]}async remove(e){const t=this._getFolderPath(e);V(await Kt(t),`Failed to remove: revision ${e} is not downloaded`),await new Promise((e=>Mt(t,e)))}revisionInfo(e){const t=this._getFolderPath(e);let r="";if("chrome"===this._product)if("mac"===this._platform||"mac_arm"===this._platform)r=vt.join(t,Dt(this._product,this._platform,e),"Chromium.app","Contents","MacOS","Chromium");else if("linux"===this._platform)r=vt.join(t,Dt(this._product,this._platform,e),"chrome");else{if("win32"!==this._platform&&"win64"!==this._platform)throw new Error("Unsupported platform: "+this._platform);r=vt.join(t,Dt(this._product,this._platform,e),"chrome.exe")}else{if("firefox"!==this._product)throw new Error("Unsupported product: "+this._product);if("mac"===this._platform||"mac_arm"===this._platform)r=vt.join(t,"Firefox Nightly.app","Contents","MacOS","firefox");else if("linux"===this._platform)r=vt.join(t,"firefox","firefox");else{if("win32"!==this._platform&&"win64"!==this._platform)throw new Error("Unsupported platform: "+this._platform);r=vt.join(t,"firefox","firefox.exe")}}const i=Bt(this._product,this._platform,this._downloadHost,e),n=_t.existsSync(t);return Nt({revision:e,executablePath:r,folderPath:t,local:n,url:i,product:this._product}),{revision:e,executablePath:r,folderPath:t,local:n,url:i,product:this._product}}_getFolderPath(e){return vt.resolve(this._downloadsFolder,`${this._platform}-${e}`)}}function Ht(e,t,r,i=!0){let n={...Rt.parse(e),method:t,headers:i?{Connection:"keep-alive"}:void 0};const s=(0,Ot.j)(e);if(s)if(e.startsWith("http:")){const e=Rt.parse(s);n={path:n.href,host:e.hostname,port:e.port}}else{const e=Rt.parse(s),t={...e,secureProxy:"https:"===e.protocol};n.agent=Pt(t),n.rejectUnauthorized=!1}const o=e=>{e.statusCode>=300&&e.statusCode<400&&e.headers.location?Ht(e.headers.location,t,r):r(e)},a="https:"===n.protocol?xt.request(n,o):Ct.request(n,o);return a.end(),a}const Gt=require("readline");var Vt=s(5945);class Xt{constructor(e,t){this._pipeWrite=e,this._pendingMessage="",this._eventListeners=[ie.addEventListener(t,"data",(e=>this._dispatch(e))),ie.addEventListener(t,"close",(()=>{this.onclose&&this.onclose.call(null)})),ie.addEventListener(t,"error",Z),ie.addEventListener(e,"error",Z)],this.onmessage=null,this.onclose=null}send(e){this._pipeWrite.write(e),this._pipeWrite.write("\0")}_dispatch(e){let t=e.indexOf("\0");if(-1===t)return void(this._pendingMessage+=e.toString());const r=this._pendingMessage+e.toString(void 0,0,t);this.onmessage&&this.onmessage.call(null,r);let i=t+1;for(t=e.indexOf("\0",i);-1!==t;)this.onmessage&&this.onmessage.call(null,e.toString(void 0,i,t)),i=t+1,t=e.indexOf("\0",i);this._pendingMessage=e.toString(void 0,i)}close(){this._pipeWrite=null,ie.removeEventListeners(this._eventListeners)}}const Jt=(0,St.promisify)(Mt),Zt=(0,St.promisify)(_t.rename),Yt=(0,St.promisify)(_t.unlink),Qt=J("puppeteer:launcher");class er{constructor(e,t,r,i,n){this.proc=null,this.connection=null,this._closed=!0,this._listeners=[],this._product=e,this._executablePath=t,this._processArguments=r,this._userDataDir=i,this._isTempUserDataDir=n}start(e){const{handleSIGINT:t,handleSIGTERM:r,handleSIGHUP:i,dumpio:n,env:s,pipe:o}=e;let a;a=o?n?["ignore","pipe","pipe","pipe","pipe"]:["ignore","ignore","ignore","pipe","pipe"]:n?["pipe","pipe","pipe"]:["pipe","ignore","pipe"],V(!this.proc,"This process has previously been started."),Qt(`Calling ${this._executablePath} ${this._processArguments.join(" ")}`),this.proc=Et.spawn(this._executablePath,this._processArguments,{detached:"win32"!==process.platform,env:s,stdio:a}),n&&(this.proc.stderr.pipe(process.stderr),this.proc.stdout.pipe(process.stdout)),this._closed=!1,this._processClosing=new Promise(((e,t)=>{this.proc.once("exit",(async()=>{if(this._closed=!0,this._isTempUserDataDir)try{await Jt(this._userDataDir),e()}catch(e){Z(e),t(e)}else{if("firefox"===this._product)try{await Yt(vt.join(this._userDataDir,"user.js"));const e=vt.join(this._userDataDir,"prefs.js.puppeteer");if(_t.existsSync(e)){const t=vt.join(this._userDataDir,"prefs.js");await Yt(t),await Zt(e,t)}}catch(e){Z(e),t(e)}e()}}))})),this._listeners=[ie.addEventListener(process,"exit",this.kill.bind(this))],t&&this._listeners.push(ie.addEventListener(process,"SIGINT",(()=>{this.kill(),process.exit(130)}))),r&&this._listeners.push(ie.addEventListener(process,"SIGTERM",this.close.bind(this))),i&&this._listeners.push(ie.addEventListener(process,"SIGHUP",this.close.bind(this)))}close(){return this._closed?Promise.resolve():(this._isTempUserDataDir?this.kill():this.connection&&this.connection.send("Browser.close").catch((e=>{Z(e),this.kill()})),ie.removeEventListeners(this._listeners),this._processClosing)}kill(){if(this.proc&&this.proc.pid&&function(e){try{return process.kill(e,0)}catch(e){if(e&&e.code&&"ESRCH"===e.code)return!1;throw e}}(this.proc.pid))try{if("win32"===process.platform)Et.exec(`taskkill /pid ${this.proc.pid} /T /F`,(e=>{e&&this.proc.kill()}));else{const e=-this.proc.pid;process.kill(e,"SIGKILL")}}catch(e){throw new Error(`Puppeteer was unable to kill the process which ran the browser binary.\nThis means that, on future Puppeteer launches, Puppeteer might not be able to launch the browser.\nPlease check your open processes and ensure that the browser processes that Puppeteer launched have been killed.\nIf you think this is a bug, please report it on the Puppeteer issue tracker.\nError cause: ${e.stack}`)}try{this._isTempUserDataDir&&Mt.sync(this._userDataDir)}catch(e){}ie.removeEventListeners(this._listeners)}async setupConnection(e){const{usePipe:t,timeout:r,slowMo:i,preferredRevision:n}=e;if(t){const{3:e,4:t}=this.proc.stdio,r=new Xt(e,t);this.connection=new ce("",r,i)}else{const e=await function(e,t,r){return new Promise(((i,n)=>{const s=Gt.createInterface({input:e.stderr});let o="";const a=[ie.addEventListener(s,"line",(function(e){o+=e+"\n";const t=e.match(/^DevTools listening on (ws:\/\/.*)$/);t&&(u(),i(t[1]))})),ie.addEventListener(s,"close",(()=>l())),ie.addEventListener(e,"exit",(()=>l())),ie.addEventListener(e,"error",(e=>l(e)))],c=t?setTimeout((function(){u(),n(new T(`Timed out after ${t} ms while trying to connect to the browser! Only Chrome at revision r${r} is guaranteed to work.`))}),t):0;function l(e){u(),n(new Error(["Failed to launch the browser process!"+(e?" "+e.message:""),o,"","TROUBLESHOOTING: https://github.com/puppeteer/puppeteer/blob/main/docs/troubleshooting.md",""].join("\n")))}function u(){c&&clearTimeout(c),ie.removeEventListeners(a)}}))}(this.proc,r,n),t=await Vt.NodeWebSocketTransport.create(e);this.connection=new ce(e,t,i)}return this.connection}}const tr=(0,St.promisify)(_t.copyFile),rr=(0,St.promisify)(_t.mkdtemp),ir=(0,St.promisify)(_t.writeFile),nr=()=>process.env.PUPPETEER_TMP_DIR||yt.tmpdir();class sr{constructor(e,t,r){this._projectRoot=e,this._preferredRevision=t,this._isPuppeteerCore=r}async launch(e={}){var t;const{ignoreDefaultArgs:r=!1,args:i=[],dumpio:n=!1,channel:s=null,executablePath:o=null,pipe:a=!1,env:c=process.env,handleSIGINT:l=!0,handleSIGTERM:u=!0,handleSIGHUP:h=!0,ignoreHTTPSErrors:d=!1,defaultViewport:f={width:800,height:600},slowMo:p=0,timeout:m=3e4,waitForInitialPage:g=!0,debuggingPort:y=null}=e,_=[];let b;r?Array.isArray(r)?_.push(...this.defaultArgs(e).filter((e=>!r.includes(e)))):_.push(...i):_.push(...this.defaultArgs(e)),_.some((e=>e.startsWith("--remote-debugging-")))||(a?(V(null===y,"Browser should be launched with either pipe or debugging port - not both."),_.push("--remote-debugging-pipe")):_.push(`--remote-debugging-port=${y||0}`));let w=!0;const v=_.findIndex((e=>e.startsWith("--user-data-dir")));-1!==v?(b=_[v].split("=")[1],w=!1):(b=await rr(vt.join(nr(),"puppeteer_dev_chrome_profile-")),_.push(`--user-data-dir=${b}`));let k=o;if(s)V(!o,"`executablePath` must not be specified when `channel` is given."),k=ar(s);else if(!o){const{missingText:e,executablePath:t}=cr(this);if(e)throw new Error(e);k=t}if(!k)throw new Error("chromeExecutable is not found.");const S=_.includes("--remote-debugging-pipe"),E=new er(this.product,k,_,b,w);let x;E.start({handleSIGHUP:h,handleSIGTERM:u,handleSIGINT:l,dumpio:n,env:c,pipe:S});try{const e=await E.setupConnection({usePipe:S,timeout:m,slowMo:p,preferredRevision:this._preferredRevision});x=await ft.create(e,[],d,f,null!==(t=E.proc)&&void 0!==t?t:void 0,E.close.bind(E))}catch(e){throw E.kill(),e}if(g)try{await x.waitForTarget((e=>"page"===e.type()),{timeout:m})}catch(e){throw await x.close(),e}return x}defaultArgs(e={}){const t=["--allow-pre-commit-input","--disable-background-networking","--enable-features=NetworkService,NetworkServiceInProcess","--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-default-apps","--disable-dev-shm-usage","--disable-extensions","--disable-features=Translate,BackForwardCache,AvoidUnnecessaryBeforeUnloadCheckSync","--disable-hang-monitor","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-sync","--force-color-profile=srgb","--metrics-recording-only","--no-first-run","--enable-automation","--password-store=basic","--use-mock-keychain","--enable-blink-features=IdleDetection","--export-tagged-pdf"],{devtools:r=!1,headless:i=!r,args:n=[],userDataDir:s=null}=e;return s&&t.push(`--user-data-dir=${vt.resolve(s)}`),r&&t.push("--auto-open-devtools-for-tabs"),i&&t.push("chrome"===i?"--headless=chrome":"--headless","--hide-scrollbars","--mute-audio"),n.every((e=>e.startsWith("-")))&&t.push("about:blank"),t.push(...n),t}executablePath(e){return e?ar(e):cr(this).executablePath}get product(){return"chrome"}}class or{constructor(e,t,r){this._projectRoot=e,this._preferredRevision=t,this._isPuppeteerCore=r}async launch(e={}){const{ignoreDefaultArgs:t=!1,args:r=[],dumpio:i=!1,executablePath:n=null,pipe:s=!1,env:o=process.env,handleSIGINT:a=!0,handleSIGTERM:c=!0,handleSIGHUP:l=!0,ignoreHTTPSErrors:u=!1,defaultViewport:h={width:800,height:600},slowMo:d=0,timeout:f=3e4,extraPrefsFirefox:p={},waitForInitialPage:m=!0,debuggingPort:g=null}=e,y=[];t?Array.isArray(t)?y.push(...this.defaultArgs(e).filter((e=>!t.includes(e)))):y.push(...r):y.push(...this.defaultArgs(e)),y.some((e=>e.startsWith("--remote-debugging-")))||(s&&V(null===g,"Browser should be launched with either pipe or debugging port - not both."),y.push(`--remote-debugging-port=${g||0}`));let _=null,b=!0;const w=y.findIndex((e=>["-profile","--profile"].includes(e)));if(-1!==w){if(_=y[w+1],!_t.existsSync(_))throw new Error(`Firefox profile not found at '${_}'`);b=!1;const e=this.defaultPreferences(p);this.writePreferences(e,_)}else _=await this._createProfile(p),y.push("--profile"),y.push(_);await this._updateRevision();let v=n;if(!n){const{missingText:e,executablePath:t}=cr(this);if(e)throw new Error(e);v=t}if(!v)throw new Error("firefoxExecutable is not found.");const k=new er(this.product,v,y,_,b);let S;k.start({handleSIGHUP:l,handleSIGTERM:c,handleSIGINT:a,dumpio:i,env:o,pipe:s});try{const e=await k.setupConnection({usePipe:s,timeout:f,slowMo:d,preferredRevision:this._preferredRevision});S=await ft.create(e,[],u,h,k.proc,k.close.bind(k))}catch(e){throw k.kill(),e}if(m)try{await S.waitForTarget((e=>"page"===e.type()),{timeout:f})}catch(e){throw await S.close(),e}return S}executablePath(){return cr(this).executablePath}async _updateRevision(){if("latest"===this._preferredRevision){if(!this._projectRoot)throw new Error("_projectRoot is undefined. Unable to create a BrowserFetcher.");const e=new $t(this._projectRoot,{product:this.product}),t=await e.localRevisions();t[0]&&(this._preferredRevision=t[0])}}get product(){return"firefox"}defaultArgs(e={}){const{devtools:t=!1,headless:r=!t,args:i=[],userDataDir:n=null}=e,s=["--no-remote"];return"darwin"===yt.platform()?s.push("--foreground"):yt.platform().startsWith("win")&&s.push("--wait-for-browser"),n&&(s.push("--profile"),s.push(n)),r&&s.push("--headless"),t&&s.push("--devtools"),i.every((e=>e.startsWith("-")))&&s.push("about:blank"),s.push(...i),s}defaultPreferences(e){const t="dummy.test",r={"app.normandy.api_url":"","app.update.checkInstallTime":!1,"app.update.disabledForTesting":!0,"apz.content_response_timeout":6e4,"browser.contentblocking.features.standard":"-tp,tpPrivate,cookieBehavior0,-cm,-fp","browser.dom.window.dump.enabled":!0,"browser.newtabpage.activity-stream.feeds.system.topstories":!1,"browser.newtabpage.enabled":!1,"browser.pagethumbnails.capturing_disabled":!0,"browser.safebrowsing.blockedURIs.enabled":!1,"browser.safebrowsing.downloads.enabled":!1,"browser.safebrowsing.malware.enabled":!1,"browser.safebrowsing.passwords.enabled":!1,"browser.safebrowsing.phishing.enabled":!1,"browser.search.update":!1,"browser.sessionstore.resume_from_crash":!1,"browser.shell.checkDefaultBrowser":!1,"browser.startup.homepage":"about:blank","browser.startup.homepage_override.mstone":"ignore","browser.startup.page":0,"browser.tabs.disableBackgroundZombification":!1,"browser.tabs.warnOnCloseOtherTabs":!1,"browser.tabs.warnOnOpen":!1,"browser.uitour.enabled":!1,"browser.urlbar.suggest.searches":!1,"browser.usedOnWindows10.introURL":"","browser.warnOnQuit":!1,"datareporting.healthreport.documentServerURI":`http://${t}/dummy/healthreport/`,"datareporting.healthreport.logging.consoleEnabled":!1,"datareporting.healthreport.service.enabled":!1,"datareporting.healthreport.service.firstRun":!1,"datareporting.healthreport.uploadEnabled":!1,"datareporting.policy.dataSubmissionEnabled":!1,"datareporting.policy.dataSubmissionPolicyBypassNotification":!0,"devtools.jsonview.enabled":!1,"dom.disable_open_during_load":!1,"dom.file.createInChild":!0,"dom.ipc.reportProcessHangs":!1,"dom.max_chrome_script_run_time":0,"dom.max_script_run_time":0,"extensions.autoDisableScopes":0,"extensions.enabledScopes":5,"extensions.getAddons.cache.enabled":!1,"extensions.installDistroAddons":!1,"extensions.screenshots.disabled":!0,"extensions.update.enabled":!1,"extensions.update.notifyUser":!1,"extensions.webservice.discoverURL":`http://${t}/dummy/discoveryURL`,"fission.bfcacheInParent":!1,"fission.webContentIsolationStrategy":0,"focusmanager.testmode":!0,"general.useragent.updates.enabled":!1,"geo.provider.testing":!0,"geo.wifi.scan":!1,"hangmonitor.timeout":0,"javascript.options.showInConsole":!0,"media.gmp-manager.updateEnabled":!1,"network.cookie.cookieBehavior":0,"network.cookie.sameSite.laxByDefault":!1,"network.http.prompt-temp-redirect":!1,"network.http.speculative-parallel-limit":0,"network.manage-offline-status":!1,"network.sntp.pools":t,"plugin.state.flash":0,"privacy.trackingprotection.enabled":!1,"remote.enabled":!0,"security.certerrors.mitm.priming.enabled":!1,"security.fileuri.strict_origin_policy":!1,"security.notification_enable_delay":0,"services.settings.server":`http://${t}/dummy/blocklist/`,"signon.autofillForms":!1,"signon.rememberSignons":!1,"startup.homepage_welcome_url":"about:blank","startup.homepage_welcome_url.additional":"","toolkit.cosmeticAnimations.enabled":!1,"toolkit.startup.max_resumed_crashes":-1};return Object.assign(r,e)}async writePreferences(e,t){const r=Object.entries(e).map((([e,t])=>`user_pref(${JSON.stringify(e)}, ${JSON.stringify(t)});`));await ir(vt.join(t,"user.js"),r.join("\n"));const i=vt.join(t,"prefs.js");if(_t.existsSync(i)){const e=vt.join(t,"prefs.js.puppeteer");await tr(i,e)}}async _createProfile(e){const t=await rr(vt.join(nr(),"puppeteer_dev_firefox_profile-")),r=this.defaultPreferences(e);return await this.writePreferences(r,t),t}}function ar(e){const t=yt.platform();let r;switch(t){case"win32":switch(e){case"chrome":r=`${process.env.PROGRAMFILES}\\Google\\Chrome\\Application\\chrome.exe`;break;case"chrome-beta":r=`${process.env.PROGRAMFILES}\\Google\\Chrome Beta\\Application\\chrome.exe`;break;case"chrome-canary":r=`${process.env.PROGRAMFILES}\\Google\\Chrome SxS\\Application\\chrome.exe`;break;case"chrome-dev":r=`${process.env.PROGRAMFILES}\\Google\\Chrome Dev\\Application\\chrome.exe`}break;case"darwin":switch(e){case"chrome":r="/Applications/Google Chrome.app/Contents/MacOS/Google Chrome";break;case"chrome-beta":r="/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta";break;case"chrome-canary":r="/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary";break;case"chrome-dev":r="/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev"}break;case"linux":switch(e){case"chrome":r="/opt/google/chrome/chrome";break;case"chrome-beta":r="/opt/google/chrome-beta/chrome";break;case"chrome-dev":r="/opt/google/chrome-unstable/chrome"}}if(!r)throw new Error(`Unable to detect browser executable path for '${e}' on ${t}.`);try{_t.accessSync(r)}catch(t){throw new Error(`Could not find Google Chrome executable for channel '${e}' at '${r}'.`)}return r}function cr(e){const{product:t,_isPuppeteerCore:r,_projectRoot:i,_preferredRevision:n}=e;let s;if(!r){const e=process.env.PUPPETEER_EXECUTABLE_PATH||process.env.npm_config_puppeteer_executable_path||process.env.npm_package_config_puppeteer_executable_path;if(e)return{executablePath:e,missingText:_t.existsSync(e)?void 0:"Tried to use PUPPETEER_EXECUTABLE_PATH env variable to launch browser but did not find any executable at: "+e};const r="/usr/bin/chromium-browser";if("chrome"===t&&"darwin"!==yt.platform()&&"arm64"===yt.arch()&&_t.existsSync(r))return{executablePath:r,missingText:void 0};s=process.env.PUPPETEER_DOWNLOAD_PATH||process.env.npm_config_puppeteer_download_path||process.env.npm_package_config_puppeteer_download_path}if(!i)throw new Error("_projectRoot is undefined. Unable to create a BrowserFetcher.");const o=new $t(i,{product:t,path:s});if(!r&&"chrome"===t){const e=process.env.PUPPETEER_CHROMIUM_REVISION;if(e){const t=o.revisionInfo(e),r=t.local?void 0:"Tried to use PUPPETEER_CHROMIUM_REVISION env variable to launch browser but did not find executable at: "+t.executablePath;return{executablePath:t.executablePath,missingText:r}}}const a=o.revisionInfo(n),c=`Run \`npm install\` to download the correct Chromium revision (${e._preferredRevision}).`,l=a.local?void 0:`Could not find expected browser (${t}) locally. ${"chrome"===t?c:"Run `PUPPETEER_PRODUCT=firefox npm install` to download a supported Firefox browser binary."}`;return{executablePath:a.executablePath,missingText:l}}const lr="991974",ur="latest";class hr extends class{constructor(e){this._changedProduct=!1,this._isPuppeteerCore=e.isPuppeteerCore}connect(e){return(async e=>{const{browserWSEndpoint:t,browserURL:r,ignoreHTTPSErrors:i=!1,defaultViewport:n={width:800,height:600},transport:o,slowMo:a=0,targetFilter:c,isPageTarget:l}=e;V(Number(!!t)+Number(!!r)+Number(!!o)===1,"Exactly one of browserWSEndpoint, browserURL or transport must be passed to puppeteer.connect");let u=null;if(o)u=new ce("",o,a);else if(t){const e=await mt(),r=await e.create(t);u=new ce(t,r,a)}else if(r){const e=await async function(e){const t=new URL("/json/version",e),r=await(async()=>X?(await s.e(724).then(s.t.bind(s,8724,19))).fetch:globalThis.fetch)();try{const e=await r(t.toString(),{method:"GET"});if(!e.ok)throw new Error(`HTTP ${e.statusText}`);return(await e.json()).webSocketDebuggerUrl}catch(e){throw e.message=`Failed to fetch browser webSocket URL from ${t}: `+e.message,e}}(r),t=await mt(),i=await t.create(e);u=new ce(e,i,a)}const{browserContextIds:h}=await u.send("Target.getBrowserContexts");return ft.create(u,h,i,n,null,(()=>u.send("Browser.close").catch(Z)),c,l)})(e)}get devices(){return O}get errors(){return R}get networkConditions(){return gt}registerCustomQueryHandler(e,t){!function(e,t){if(K.get(e))throw new Error(`A custom query handler named "${e}" already exists`);if(!/^[a-zA-Z]+$/.test(e))throw new Error("Custom query handler names may only contain [a-zA-Z]");const r=q(t);K.set(e,r)}(e,t)}unregisterCustomQueryHandler(e){$(e)}customQueryHandlerNames(){return H()}clearCustomQueryHandlers(){H().forEach($)}}{constructor(e){const{projectRoot:t,preferredRevision:r,productName:i,...n}=e;super(n),this._projectRoot=t,this.__productName=i,this._preferredRevision=r}connect(e){return e.product&&(this._productName=e.product),super.connect(e)}get _productName(){return this.__productName}set _productName(e){this.__productName!==e&&(this._changedProduct=!0),this.__productName=e}launch(e={}){return e.product&&(this._productName=e.product),this._launcher.launch(e)}executablePath(e){return this._launcher.executablePath(e)}get _launcher(){var e,t,r,i;return this._lazyLauncher&&this._lazyLauncher.product===this._productName&&!this._changedProduct||("firefox"===this._productName?this._preferredRevision=ur:this._preferredRevision=lr,this._changedProduct=!1,this._lazyLauncher=(e=this._projectRoot,t=this._preferredRevision,r=this._isPuppeteerCore,(i=this._productName)||r||(i=process.env.PUPPETEER_PRODUCT||process.env.npm_config_puppeteer_product||process.env.npm_package_config_puppeteer_product),"firefox"===i?new or(e,t,r):(void 0!==i&&"chrome"!==i&&console.warn(`Warning: unknown product name ${i}. Falling back to chrome.`),new sr(e,t,r)))),this._lazyLauncher}get product(){return this._launcher.product}defaultArgs(e={}){return this._launcher.defaultArgs(e)}createBrowserFetcher(e){if(!this._projectRoot)throw new Error("_projectRoot is undefined. Unable to create a BrowserFetcher.");return new $t(this._projectRoot,e)}}var dr=s(2742);const fr=(0,require("module").createRequire)("file:///Users/chao/kuaishou/kcfe-vscode-extension/node_modules/puppeteer-core/lib/esm/puppeteer/compat.js");let pr;try{pr=(0,vt.dirname)(fr.resolve("./compat"))}catch(e){pr=(0,vt.dirname)((0,Rt.fileURLToPath)("file:///Users/chao/kuaishou/kcfe-vscode-extension/node_modules/puppeteer-core/lib/esm/puppeteer/compat.js"))}const mr=(0,vt.dirname)((0,vt.dirname)((0,vt.dirname)(pr)));if(!X)throw new Error("Cannot run puppeteer-core outside of Node.js");const gr=(e=>{const t=(0,dr.sync)(mr);let r=lr;const i=!0,n=void 0;return new hr({projectRoot:t,preferredRevision:r,isPuppeteerCore:i,productName:n})})();var yr=s(9669),_r=s.n(yr),br=s(2420),wr=s.n(br),vr=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};const kr=[];function Sr(e,t){return vr(this,void 0,void 0,(function*(){const r=yield function(e){return vr(this,void 0,void 0,(function*(){const t=yield _r()({method:"get",url:e,responseType:"arraybuffer"});return(yield wr().loadAsync(t.data)).files}))}(t);try{for(const t of Object.keys(r)){const i=kt().join(__dirname,e,t);r[t].dir?wt().mkdirSync(i,{recursive:!0}):kr.push(r[t].async("nodebuffer").then((e=>wt().writeFileSync(i,e))))}}catch(e){return console.error("save zip files encountered error!",e),e}}))}const Er=(e,t,r)=>vr(void 0,void 0,void 0,(function*(){var i;const n=yield gr.launch({executablePath:e,headless:!0,args:["--no-sandbox","--disabled-setupid-sandbox"]}),s=yield n.newPage();yield s.goto("https://sso.corp.kuaishou.com/cas/login",{timeout:5e4,waitUntil:"networkidle2"}),yield s.waitForSelector("#username_sso",{timeout:2e4}),yield s.type("#username_sso",t.email),yield s.type("#password_sso",t.password),yield s.click(".btn-submit"),yield s.waitForResponse((e=>e.ok()));const o=yield s.target().createCDPSession(),a=yield o.send("Network.getAllCookies");let c="";const l=null==a?void 0:a.cookies,u=[];for(const e of l)u.push(e),c+=e.name+"="+e.value+";";if(console.log("tgcCookies:"),console.log(c),!E(c)){let e=yield n.newPage();yield e.goto("https://sso.corp.kuaishou.com/cas/login?service=https%3A%2F%2Fkdev.corp.kuaishou.com%2Fsso%2Flogin%3Fredirect%3Dhttps%253A%252F%252Fkdev.corp.kuaishou.com%252Fsso%252Fuser",{timeout:5e4,waitUntil:"networkidle2"});const s=yield e.cookies();let o="";for(const e of s)o+=e.name+"="+e.value+";";console.log("kdevCookie:"),console.log(o),yield r.globalState.update(x.tgcTokens,u),yield r.globalState.update(x.SsoTokens,o),yield r.globalState.update(x.Email,t.email),yield r.globalState.update(x.Password,t.password),console.log("GlobalState.tgcToken:",u),console.log(r.globalState.get(x.SsoTokens)),e=yield n.newPage(),console.log("context.globalState.get(GlobalState.serviceUrl)"),console.log(r.globalState.get(x.serviceUrl)),yield e.goto(null!==(i=r.globalState.get(x.serviceUrl))&&void 0!==i?i:"https://sso.corp.kuaishou.com/cas/login?service=https%3A%2F%2Fkdev.corp.kuaishou.com%2Fsso%2Flogin%3Fredirect%3Dhttps%253A%252F%252Fkdev.corp.kuaishou.com%252Fsso%252Fuser",{timeout:5e4,waitUntil:"networkidle2"});const a=yield e.cookies();let c="";for(const e of a)c+=e.name+"="+e.value+";";console.log("serviceCookies"),console.log(c),yield r.globalState.update(r.globalState.get(x.serviceName),c)}})),xr=(e,t)=>vr(void 0,void 0,void 0,(function*(){console.log(e.email),process.setMaxListeners(0);let r="/Applications/Google Chrome.app/Contents/MacOS/Google Chrome";if("linux"===process.platform){const i=kt().join(__dirname,"../../../chrome-linux/","chrome");if(!wt().existsSync(i))return yield Sr("../../../chrome-linux/","https://js-ad.a.yximgs.com/kos/nlav12177/chao_test1/chrome-linux.zip"),void Promise.all(kr).then((function(){return vr(this,void 0,void 0,(function*(){yield(0,Et.execSync)(`sudo chmod -R 777 ${kt().join(__dirname,"../../../chrome-linux/")}`),yield(0,Et.execSync)(`sudo chmod -R 777 ${kt().join(__dirname,"../../../chrome-linux/chrome")}`),r=kt().join(__dirname,"../../../chrome-linux/","chrome"),yield Er(r,e,t)}))}));r=kt().join(__dirname,"../../../chrome-linux/","chrome")}yield Er(r,e,t)})),Cr=(e,t,r)=>vr(void 0,void 0,void 0,(function*(){var i;const n=yield gr.launch({executablePath:e,headless:!0,args:["--no-sandbox","--disabled-setupid-sandbox"]}),s=yield n.newPage();yield s.goto(`https://sso.corp.kuaishou.com/cas/kim/callback?code=${t.code}`,{timeout:5e4,waitUntil:"networkidle2"});const o=yield s.cookies();let a="";const c=[];for(const e of o)a+=e.name+"="+e.value+";",c.push(e);if(console.log("tgcCookies:"),console.log(a),!E(a)){let e=yield n.newPage();yield e.goto("https://sso.corp.kuaishou.com/cas/login?service=https%3A%2F%2Fkdev.corp.kuaishou.com%2Fsso%2Flogin%3Fredirect%3Dhttps%253A%252F%252Fkdev.corp.kuaishou.com%252Fsso%252Fuser",{timeout:5e4,waitUntil:"networkidle2"});const t=yield e.cookies();let s="";for(const e of t)s+=e.name+"="+e.value+";";console.log("kdevCookie:"),console.log(s),yield r.globalState.update(x.tgcTokens,c),yield r.globalState.update(x.SsoTokens,s),console.log("GlobalState.tgcToken:",c),console.log(r.globalState.get(x.SsoTokens)),e=yield n.newPage(),console.log("context.globalState.get(GlobalState.serviceUrl)"),console.log(r.globalState.get(x.serviceUrl)),yield e.goto(null!==(i=r.globalState.get(x.serviceUrl))&&void 0!==i?i:"https://sso.corp.kuaishou.com/cas/login?service=https%3A%2F%2Fkdev.corp.kuaishou.com%2Fsso%2Flogin%3Fredirect%3Dhttps%253A%252F%252Fkdev.corp.kuaishou.com%252Fsso%252Fuser",{timeout:5e4,waitUntil:"networkidle2"});const o=yield e.cookies();let a="";for(const e of o)a+=e.name+"="+e.value+";";console.log("serviceCookies"),console.log(a),yield r.globalState.update(r.globalState.get(x.serviceName),a)}})),Tr=(e,t)=>vr(void 0,void 0,void 0,(function*(){console.log(e.code),process.setMaxListeners(0);let r="/Applications/Google Chrome.app/Contents/MacOS/Google Chrome";if("linux"===process.platform){const i=kt().join(__dirname,"../../../chrome-linux/","chrome");if(!wt().existsSync(i))return yield Sr("../../../chrome-linux/","https://js-ad.a.yximgs.com/kos/nlav12177/chao_test1/chrome-linux.zip"),void Promise.all(kr).then((function(){return vr(this,void 0,void 0,(function*(){yield(0,Et.execSync)(`sudo chmod -R 777 ${kt().join(__dirname,"../../../chrome-linux/")}`),yield(0,Et.execSync)(`sudo chmod -R 777 ${kt().join(__dirname,"../../../chrome-linux/chrome")}`),r=kt().join(__dirname,"../../../chrome-linux/","chrome"),yield Cr(r,e,t)}))}));r=kt().join(__dirname,"../../../chrome-linux/","chrome")}yield Cr(r,e,t)})),Mr=(e,t,r,i)=>vr(void 0,void 0,void 0,(function*(){const n=yield gr.launch({executablePath:e,headless:!0,args:["--no-sandbox","--disabled-setupid-sandbox"]});let s=yield n.newPage();const o=i.globalState.get(x.tgcTokens);if(console.log("tgcCookies arr:"),console.log(o),yield s.setCookie(...o),yield s.goto("https://sso.corp.kuaishou.com/",{timeout:5e4,waitUntil:"networkidle2"}),console.log("通过tgc后的cookie"),console.log(yield s.cookies()),!E(o)){s=yield n.newPage(),yield s.goto(null!=r?r:"https://sso.corp.kuaishou.com/cas/login?service=https%3A%2F%2Fkdev.corp.kuaishou.com%2Fsso%2Flogin%3Fredirect%3Dhttps%253A%252F%252Fkdev.corp.kuaishou.com%252Fsso%252Fuser",{timeout:5e4,waitUntil:"networkidle2"});const e=yield s.cookies();let o="";for(const t of e)o+=t.name+"="+t.value+";";console.log("自己拿serviceCookies"),console.log(o),yield i.globalState.update(t,o)}})),Rr=(e,t,r)=>vr(void 0,void 0,void 0,(function*(){process.setMaxListeners(0);let i="/Applications/Google Chrome.app/Contents/MacOS/Google Chrome";if("linux"===process.platform){const n=kt().join(__dirname,"../../../chrome-linux/","chrome");if(!wt().existsSync(n))return yield Sr("../../../chrome-linux/","https://js-ad.a.yximgs.com/kos/nlav12177/chao_test1/chrome-linux.zip"),void Promise.all(kr).then((function(){return vr(this,void 0,void 0,(function*(){yield(0,Et.execSync)(`sudo chmod -R 777 ${kt().join(__dirname,"../../../chrome-linux/")}`),yield(0,Et.execSync)(`sudo chmod -R 777 ${kt().join(__dirname,"../../../chrome-linux/chrome")}`),i=kt().join(__dirname,"../../../chrome-linux/","chrome"),yield Mr(i,e,t,r)}))}));i=kt().join(__dirname,"../../../chrome-linux/","chrome")}yield Mr(i,e,t,r)}));var Pr=s(468);function Or(e,t,r,i,n,s,o){try{var a=e[s](o),c=a.value}catch(e){return void r(e)}a.done?t(c):Promise.resolve(c).then(i,n)}function Ar(e){return function(){var t=this,r=arguments;return new Promise((function(i,n){var s=e.apply(t,r);function o(e){Or(s,i,n,o,a,"next",e)}function a(e){Or(s,i,n,o,a,"throw",e)}o(void 0)}))}}function Lr(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ir(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nr(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})})),t}var Fr={exports:{}};!function(e){var t=function(e){var t,r=Object.prototype,i=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},s=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,i){var n=t&&t.prototype instanceof g?t:g,s=Object.create(n.prototype),o=new M(i||[]);return s._invoke=function(e,t,r){var i=h;return function(n,s){if(i===f)throw new Error("Generator is already running");if(i===p){if("throw"===n)throw s;return P()}for(r.method=n,r.arg=s;;){var o=r.delegate;if(o){var a=x(o,r);if(a){if(a===m)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=f;var c=u(e,t,r);if("normal"===c.type){if(i=r.done?p:d,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=p,r.method="throw",r.arg=c.arg)}}}(e,r,o),s}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h="suspendedStart",d="suspendedYield",f="executing",p="completed",m={};function g(){}function y(){}function _(){}var b={};c(b,s,(function(){return this}));var w=Object.getPrototypeOf,v=w&&w(w(R([])));v&&v!==r&&i.call(v,s)&&(b=v);var k=_.prototype=g.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(n,s,o,a){var c=u(e[n],e,s);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==typeof h&&i.call(h,"__await")?t.resolve(h.__await).then((function(e){r("next",e,o,a)}),(function(e){r("throw",e,o,a)})):t.resolve(h).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,a)}))}a(c.arg)}var n;this._invoke=function(e,i){function s(){return new t((function(t,n){r(e,i,t,n)}))}return n=n?n.then(s,s):s()}}function x(e,r){var i=e.iterator[r.method];if(i===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=u(i,e.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,m;var s=n.arg;return s?s.done?(r[e.resultName]=s.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function R(e){if(e){var r=e[s];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function r(){for(;++n<e.length;)if(i.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}return{next:P}}function P(){return{value:t,done:!0}}return y.prototype=_,c(k,"constructor",_),c(_,"constructor",y),y.displayName=c(_,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,a,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},S(E.prototype),c(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,i,n,s){void 0===s&&(s=Promise);var o=new E(l(t,r,i,n),s);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(k),c(k,a,"Generator"),c(k,s,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var i=t.pop();if(i in e)return r.value=i,r.done=!1,r}return r.done=!0,r}},e.values=R,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(i,n){return a.type="throw",a.arg=e,r.next=i,n&&(r.method="next",r.arg=t),!!n}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var i=r.completion;if("throw"===i.type){var n=i.arg;T(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,i){return this.delegate={iterator:R(e),resultName:r,nextLoc:i},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(Fr);var jr=Fr.exports,Dr={},Br={};function qr(e){return"string"==typeof e||e instanceof String}function Ur(e){return Array.isArray(e)}Object.defineProperty(Br,"__esModule",{value:!0}),Br.boolean=function(e){return!0===e||!1===e},Br.string=qr,Br.number=function(e){return"number"==typeof e||e instanceof Number},Br.error=function(e){return e instanceof Error},Br.func=function(e){return"function"==typeof e},Br.array=Ur,Br.stringArray=function(e){return Ur(e)&&e.every((e=>qr(e)))};var zr={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Br;var r;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.serverErrorStart=-32099,e.serverErrorEnd=-32e3,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.RequestCancelled=-32800,e.MessageWriteError=1,e.MessageReadError=2}(r=e.ErrorCodes||(e.ErrorCodes={}));class i extends Error{constructor(e,n,s){super(n),this.code=t.number(e)?e:r.UnknownErrorCode,this.data=s,Object.setPrototypeOf(this,i.prototype)}toJson(){return{code:this.code,message:this.message,data:this.data}}}e.ResponseError=i;class n{constructor(e,t){this._method=e,this._numberOfParams=t}get method(){return this._method}get numberOfParams(){return this._numberOfParams}}e.AbstractMessageType=n,e.RequestType0=class extends n{constructor(e){super(e,0),this._=void 0}},e.RequestType=class extends n{constructor(e){super(e,1),this._=void 0}},e.RequestType1=class extends n{constructor(e){super(e,1),this._=void 0}},e.RequestType2=class extends n{constructor(e){super(e,2),this._=void 0}},e.RequestType3=class extends n{constructor(e){super(e,3),this._=void 0}},e.RequestType4=class extends n{constructor(e){super(e,4),this._=void 0}},e.RequestType5=class extends n{constructor(e){super(e,5),this._=void 0}},e.RequestType6=class extends n{constructor(e){super(e,6),this._=void 0}},e.RequestType7=class extends n{constructor(e){super(e,7),this._=void 0}},e.RequestType8=class extends n{constructor(e){super(e,8),this._=void 0}},e.RequestType9=class extends n{constructor(e){super(e,9),this._=void 0}},e.NotificationType=class extends n{constructor(e){super(e,1),this._=void 0}},e.NotificationType0=class extends n{constructor(e){super(e,0),this._=void 0}},e.NotificationType1=class extends n{constructor(e){super(e,1),this._=void 0}},e.NotificationType2=class extends n{constructor(e){super(e,2),this._=void 0}},e.NotificationType3=class extends n{constructor(e){super(e,3),this._=void 0}},e.NotificationType4=class extends n{constructor(e){super(e,4),this._=void 0}},e.NotificationType5=class extends n{constructor(e){super(e,5),this._=void 0}},e.NotificationType6=class extends n{constructor(e){super(e,6),this._=void 0}},e.NotificationType7=class extends n{constructor(e){super(e,7),this._=void 0}},e.NotificationType8=class extends n{constructor(e){super(e,8),this._=void 0}},e.NotificationType9=class extends n{constructor(e){super(e,9),this._=void 0}},e.isRequestMessage=function(e){let r=e;return r&&t.string(r.method)&&(t.string(r.id)||t.number(r.id))},e.isNotificationMessage=function(e){let r=e;return r&&t.string(r.method)&&void 0===e.id},e.isResponseMessage=function(e){let r=e;return r&&(void 0!==r.result||!!r.error)&&(t.string(r.id)||t.number(r.id)||null===r.id)}}(zr);var Wr={},Kr={};!function(e){Object.defineProperty(e,"__esModule",{value:!0}),(e.Disposable||(e.Disposable={})).create=function(e){return{dispose:e}},function(e){const t={dispose(){}};e.None=function(){return t}}(e.Event||(e.Event={}));class t{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(this._callbacks){for(var r=!1,i=0,n=this._callbacks.length;i<n;i++)if(this._callbacks[i]===e){if(this._contexts[i]===t)return this._callbacks.splice(i,1),void this._contexts.splice(i,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}}invoke(...e){if(!this._callbacks)return[];for(var t=[],r=this._callbacks.slice(0),i=this._contexts.slice(0),n=0,s=r.length;n<s;n++)try{t.push(r[n].apply(i[n],e))}catch(e){console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,i,n)=>{let s;return this._callbacks||(this._callbacks=new t),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,i),s={dispose:()=>{this._callbacks.remove(e,i),s.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this)}},Array.isArray(n)&&n.push(s),s}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}r._noop=function(){},e.Emitter=r}(Kr),function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Kr,r=Br;let i=8192,n=Buffer.from("\r","ascii")[0],s=Buffer.from("\n","ascii")[0];class o{constructor(e="utf8"){this.encoding=e,this.index=0,this.buffer=Buffer.allocUnsafe(i)}append(e){var t=e;if("string"==typeof e){var r=e,n=Buffer.byteLength(r,this.encoding);(t=Buffer.allocUnsafe(n)).write(r,0,n,this.encoding)}if(this.buffer.length-this.index>=t.length)t.copy(this.buffer,this.index,0,t.length);else{var s=(Math.ceil((this.index+t.length)/i)+1)*i;0===this.index?(this.buffer=Buffer.allocUnsafe(s),t.copy(this.buffer,0,0,t.length)):this.buffer=Buffer.concat([this.buffer.slice(0,this.index),t],s)}this.index+=t.length}tryReadHeaders(){let e,t=0;for(;t+3<this.index&&(this.buffer[t]!==n||this.buffer[t+1]!==s||this.buffer[t+2]!==n||this.buffer[t+3]!==s);)t++;if(t+3>=this.index)return e;e=Object.create(null),this.buffer.toString("ascii",0,t).split("\r\n").forEach((t=>{let r=t.indexOf(":");if(-1===r)throw new Error("Message header must separate key and value using :");let i=t.substr(0,r),n=t.substr(r+1).trim();e[i]=n}));let r=t+4;return this.buffer=this.buffer.slice(r),this.index=this.index-r,e}tryReadContent(e){if(this.index<e)return null;let t=this.buffer.toString(this.encoding,0,e),r=e;return this.buffer.copy(this.buffer,0,r),this.index=this.index-r,t}get numberOfBytes(){return this.index}}(e.MessageReader||(e.MessageReader={})).is=function(e){let t=e;return t&&r.func(t.listen)&&r.func(t.dispose)&&r.func(t.onError)&&r.func(t.onClose)&&r.func(t.onPartialMessage)};class a{constructor(){this.errorEmitter=new t.Emitter,this.closeEmitter=new t.Emitter,this.partialMessageEmitter=new t.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader recevied error. Reason: ${r.string(e.message)?e.message:"unknown"}`)}}e.AbstractMessageReader=a;class c extends a{constructor(e,t="utf8"){super(),this.readable=e,this.buffer=new o(t),this._partialMessageTimeout=1e4}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e,this.readable.on("data",(e=>{this.onData(e)})),this.readable.on("error",(e=>this.fireError(e))),this.readable.on("close",(()=>this.fireClose()))}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){let e=this.buffer.tryReadHeaders();if(!e)return;let t=e["Content-Length"];if(!t)throw new Error("Header must provide a Content-Length property.");let r=parseInt(t);if(isNaN(r))throw new Error("Content-Length value must be a number.");this.nextMessageLength=r}var t=this.buffer.tryReadContent(this.nextMessageLength);if(null===t)return void this.setPartialMessageTimer();this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.messageToken++;var r=JSON.parse(t);this.callback(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(clearTimeout(this.partialMessageTimer),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}e.StreamMessageReader=c,e.IPCMessageReader=class extends a{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){this.process.on("message",e)}},e.SocketMessageReader=class extends c{constructor(e,t="utf-8"){super(e,t)}}}(Wr);var $r={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Kr,r=Br;let i="Content-Length: ",n="\r\n";(e.MessageWriter||(e.MessageWriter={})).is=function(e){let t=e;return t&&r.func(t.dispose)&&r.func(t.onClose)&&r.func(t.onError)&&r.func(t.write)};class s{constructor(){this.errorEmitter=new t.Emitter,this.closeEmitter=new t.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,r){this.errorEmitter.fire([this.asError(e),t,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer recevied error. Reason: ${r.string(e.message)?e.message:"unknown"}`)}}e.AbstractMessageWriter=s,e.StreamMessageWriter=class extends s{constructor(e,t="utf8"){super(),this.writable=e,this.encoding=t,this.errorCount=0,this.writable.on("error",(e=>this.fireError(e))),this.writable.on("close",(()=>this.fireClose()))}write(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),s=[i,r.toString(),n,n];try{this.writable.write(s.join(""),"ascii"),this.writable.write(t,this.encoding),this.errorCount=0}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},e.IPCMessageWriter=class extends s{constructor(e){super(),this.process=e,this.errorCount=0,this.queue=[],this.sending=!1;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){try{this.process.send&&(this.sending=!0,this.process.send(e,void 0,void 0,(t=>{this.sending=!1,t?(this.errorCount++,this.fireError(t,e,this.errorCount)):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())})))}catch(t){this.errorCount++,this.fireError(t,e,this.errorCount)}}},e.SocketMessageWriter=class extends s{constructor(e,t="utf8"){super(),this.socket=e,this.queue=[],this.sending=!1,this.encoding=t,this.errorCount=0,this.socket.on("error",(e=>this.fireError(e))),this.socket.on("close",(()=>this.fireClose()))}write(e){this.sending||0!==this.queue.length?this.queue.push(e):this.doWriteMessage(e)}doWriteMessage(e){let t=JSON.stringify(e),r=Buffer.byteLength(t,this.encoding),s=[i,r.toString(),n,n];try{this.sending=!0,this.socket.write(s.join(""),"ascii",(r=>{r&&this.handleError(r,e);try{this.socket.write(t,this.encoding,(t=>{this.sending=!1,t?this.handleError(t,e):this.errorCount=0,this.queue.length>0&&this.doWriteMessage(this.queue.shift())}))}catch(r){this.handleError(r,e)}}))}catch(t){this.handleError(t,e)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}}}($r);var Hr={};!function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Kr,r=Br;var i;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:t.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:t.Event.None}),e.is=function(t){let i=t;return i&&(i===e.None||i===e.Cancelled||r.boolean(i.isCancellationRequested)&&!!i.onCancellationRequested)}}(i=e.CancellationToken||(e.CancellationToken={}));const n=Object.freeze((function(e,t){let r=setTimeout(e.bind(t),0);return{dispose(){clearTimeout(r)}}}));class s{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this._emitter=void 0))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?n:(this._emitter||(this._emitter=new t.Emitter),this._emitter.event)}}e.CancellationTokenSource=class{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=i.Cancelled}dispose(){this.cancel()}}}(Hr);var Gr,Vr,Xr={};Gr=Xr,Object.defineProperty(Gr,"__esModule",{value:!0}),function(e){e.None=0,e.First=1,e.Last=2}(Vr=Gr.Touch||(Gr.Touch={})),Gr.LinkedMap=class{constructor(){this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}has(e){return this._map.has(e)}get(e){const t=this._map.get(e);if(t)return t.value}set(e,t,r=Vr.None){let i=this._map.get(e);if(i)i.value=t,r!==Vr.None&&this.touch(i,r);else{switch(i={key:e,value:t,next:void 0,previous:void 0},r){case Vr.None:this.addItemLast(i);break;case Vr.First:this.addItemFirst(i);break;case Vr.Last:default:this.addItemLast(i)}this._map.set(e,i),this._size++}}delete(e){const t=this._map.get(e);return!!t&&(this._map.delete(e),this.removeItem(t),this._size--,!0)}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let r=this._head;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.next}forEachReverse(e,t){let r=this._tail;for(;r;)t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),r=r.previous}values(){let e=[],t=this._head;for(;t;)e.push(t.value),t=t.next;return e}keys(){let e=[],t=this._head;for(;t;)e.push(t.key),t=t.next;return e}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head)this._head=e.next;else if(e===this._tail)this._tail=e.previous;else{const t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t}}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===Vr.First||t===Vr.Last)if(t===Vr.First){if(e===this._head)return;const t=e.next,r=e.previous;e===this._tail?(r.next=void 0,this._tail=r):(t.previous=r,r.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e}else if(t===Vr.Last){if(e===this._tail)return;const t=e.next,r=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=r,r.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e}}};var Jr={};function Zr(e,t){for(var r=0,i=e.length-1;i>=0;i--){var n=e[i];"."===n?e.splice(i,1):".."===n?(e.splice(i,1),r++):r&&(e.splice(i,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var Yr=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,Qr=function(e){return Yr.exec(e).slice(1)};function ei(){for(var e="",t=!1,r=arguments.length-1;r>=-1&&!t;r--){var i=r>=0?arguments[r]:"/";if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,t="/"===i.charAt(0))}return(t?"/":"")+(e=Zr(li(e.split("/"),(function(e){return!!e})),!t).join("/"))||"."}function ti(e){var t=ri(e),r="/"===hi(e,-1);return(e=Zr(li(e.split("/"),(function(e){return!!e})),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e}function ri(e){return"/"===e.charAt(0)}function ii(){var e=Array.prototype.slice.call(arguments,0);return ti(li(e,(function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))}function ni(e,t){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=ei(e).substr(1),t=ei(t).substr(1);for(var i=r(e.split("/")),n=r(t.split("/")),s=Math.min(i.length,n.length),o=s,a=0;a<s;a++)if(i[a]!==n[a]){o=a;break}var c=[];for(a=o;a<i.length;a++)c.push("..");return(c=c.concat(n.slice(o))).join("/")}function si(e){var t=Qr(e),r=t[0],i=t[1];return r||i?(i&&(i=i.substr(0,i.length-1)),r+i):"."}function oi(e,t){var r=Qr(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r}function ai(e){return Qr(e)[3]}var ci={extname:ai,basename:oi,dirname:si,sep:"/",delimiter:":",relative:ni,join:ii,isAbsolute:ri,normalize:ti,resolve:ei};function li(e,t){if(e.filter)return e.filter(t);for(var r=[],i=0;i<e.length;i++)t(e[i],i,e)&&r.push(e[i]);return r}var ui,hi=function(e,t,r){return e.substr(t,r)},di=Nr(Object.freeze({__proto__:null,resolve:ei,normalize:ti,isAbsolute:ri,join:ii,relative:ni,sep:"/",delimiter:":",dirname:si,basename:oi,extname:ai,default:ci}));function fi(){if(void 0===ui){var e=new ArrayBuffer(2),t=new Uint8Array(e),r=new Uint16Array(e);if(t[0]=1,t[1]=2,258===r[0])ui="BE";else{if(513!==r[0])throw new Error("unable to figure out endianess");ui="LE"}}return ui}function pi(){return void 0!==global.location?global.location.hostname:""}function mi(){return[]}function gi(){return 0}function yi(){return Number.MAX_VALUE}function _i(){return Number.MAX_VALUE}function bi(){return[]}function wi(){return"Browser"}function vi(){return void 0!==global.navigator?global.navigator.appVersion:""}function ki(){}function Si(){}function Ei(){return"/tmp"}var xi=Ei,Ci={EOL:"\n",tmpdir:xi,tmpDir:Ei,networkInterfaces:ki,getNetworkInterfaces:Si,release:vi,type:wi,cpus:bi,totalmem:_i,freemem:yi,uptime:gi,loadavg:mi,hostname:pi,endianness:fi},Ti=Nr(Object.freeze({__proto__:null,endianness:fi,hostname:pi,loadavg:mi,uptime:gi,freemem:yi,totalmem:_i,cpus:bi,type:wi,release:vi,networkInterfaces:ki,getNetworkInterfaces:Si,arch:function(){return"javascript"},platform:function(){return"browser"},tmpDir:Ei,tmpdir:xi,EOL:"\n",default:Ci})),Mi=Nr(Object.freeze({__proto__:null,default:{}}));Object.defineProperty(Jr,"__esModule",{value:!0});const Ri=di,Pi=Ti,Oi=Mi,Ai=Mi,Li=Wr,Ii=$r;Jr.generateRandomPipeName=function(){const e=Oi.randomBytes(21).toString("hex");return"win32"===process.platform?`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`:Ri.join(Pi.tmpdir(),`vscode-${e}.sock`)},Jr.createClientPipeTransport=function(e,t="utf-8"){let r,i=new Promise(((e,t)=>{r=e}));return new Promise(((n,s)=>{let o=Ai.createServer((e=>{o.close(),r([new Li.SocketMessageReader(e,t),new Ii.SocketMessageWriter(e,t)])}));o.on("error",s),o.listen(e,(()=>{o.removeListener("error",s),n({onConnected:()=>i})}))}))},Jr.createServerPipeTransport=function(e,t="utf-8"){const r=Ai.createConnection(e);return[new Li.SocketMessageReader(r,t),new Ii.SocketMessageWriter(r,t)]};var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});const Fi=Mi,ji=Wr,Di=$r;function Bi(e){return null==e.method&&null!=e.id}function qi(e){return function(e){return null!=e.method&&null!=e.id}(e)?"".concat(e.method,"(").concat(e.id,")"):Bi(e)?"response(".concat(e.id,")"):e.method}Ni.createClientSocketTransport=function(e,t="utf-8"){let r,i=new Promise(((e,t)=>{r=e}));return new Promise(((n,s)=>{let o=Fi.createServer((e=>{o.close(),r([new ji.SocketMessageReader(e,t),new Di.SocketMessageWriter(e,t)])}));o.on("error",s),o.listen(e,"127.0.0.1",(()=>{o.removeListener("error",s),n({onConnected:()=>i})}))}))},Ni.createServerSocketTransport=function(e,t="utf-8"){const r=Fi.createConnection(e,"127.0.0.1");return[new ji.SocketMessageReader(r,t),new Di.SocketMessageWriter(r,t)]},function(e){function t(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0});const r=Br,i=zr;e.RequestType=i.RequestType,e.RequestType0=i.RequestType0,e.RequestType1=i.RequestType1,e.RequestType2=i.RequestType2,e.RequestType3=i.RequestType3,e.RequestType4=i.RequestType4,e.RequestType5=i.RequestType5,e.RequestType6=i.RequestType6,e.RequestType7=i.RequestType7,e.RequestType8=i.RequestType8,e.RequestType9=i.RequestType9,e.ResponseError=i.ResponseError,e.ErrorCodes=i.ErrorCodes,e.NotificationType=i.NotificationType,e.NotificationType0=i.NotificationType0,e.NotificationType1=i.NotificationType1,e.NotificationType2=i.NotificationType2,e.NotificationType3=i.NotificationType3,e.NotificationType4=i.NotificationType4,e.NotificationType5=i.NotificationType5,e.NotificationType6=i.NotificationType6,e.NotificationType7=i.NotificationType7,e.NotificationType8=i.NotificationType8,e.NotificationType9=i.NotificationType9;const n=Wr;e.MessageReader=n.MessageReader,e.StreamMessageReader=n.StreamMessageReader,e.IPCMessageReader=n.IPCMessageReader,e.SocketMessageReader=n.SocketMessageReader;const s=$r;e.MessageWriter=s.MessageWriter,e.StreamMessageWriter=s.StreamMessageWriter,e.IPCMessageWriter=s.IPCMessageWriter,e.SocketMessageWriter=s.SocketMessageWriter;const o=Kr;e.Disposable=o.Disposable,e.Event=o.Event,e.Emitter=o.Emitter;const a=Hr;e.CancellationTokenSource=a.CancellationTokenSource,e.CancellationToken=a.CancellationToken;const c=Xr;var l,u,h,d,f,p,m;t(Jr),t(Ni),function(e){e.type=new i.NotificationType("$/cancelRequest")}(l||(l={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(u=e.Trace||(e.Trace={})),function(e){e.fromString=function(t){switch(t=t.toLowerCase()){default:return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Verbose:return"verbose";default:return"off"}}}(u=e.Trace||(e.Trace={})),function(e){e.Text="text",e.JSON="json"}(e.TraceFormat||(e.TraceFormat={})),function(e){e.fromString=function(t){return"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(h=e.TraceFormat||(e.TraceFormat={})),function(e){e.type=new i.NotificationType("$/setTraceNotification")}(d=e.SetTraceNotification||(e.SetTraceNotification={})),function(e){e.type=new i.NotificationType("$/logTraceNotification")}(f=e.LogTraceNotification||(e.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(p=e.ConnectionErrors||(e.ConnectionErrors={}));class g extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,g.prototype)}}function y(e,t,n,s){let y=0,_=0,b=0;const w="2.0";let v,k,S,E,x=Object.create(null),C=Object.create(null),T=new c.LinkedMap,M=Object.create(null),R=Object.create(null),P=u.Off,O=h.Text,A=m.New,L=new o.Emitter,I=new o.Emitter,N=new o.Emitter,F=new o.Emitter;function j(e){return"req-"+e.toString()}function D(e){}function B(){return A===m.Listening}function q(){return A===m.Closed}function U(){return A===m.Disposed}function z(){A!==m.New&&A!==m.Listening||(A=m.Closed,I.fire(void 0))}function W(){S||0===T.size||(S=setImmediate((()=>{S=void 0,function(){if(0===T.size)return;let e=T.shift();try{i.isRequestMessage(e)?function(e){if(U())return;function n(r,n,s){let o={jsonrpc:w,id:e.id};r instanceof i.ResponseError?o.error=r.toJson():o.result=void 0===r?null:r,$(o,n,s),t.write(o)}function s(r,i,n){let s={jsonrpc:w,id:e.id,error:r.toJson()};$(s,i,n),t.write(s)}!function(e){if(P!==u.Off&&E)if(O===h.Text){let t;P===u.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),E.log(`Received request '${e.method} - (${e.id})'.`,t)}else H("receive-request",e)}(e);let o,c,l=x[e.method];l&&(o=l.type,c=l.handler);let d=Date.now();if(c||v){let l=new a.CancellationTokenSource,u=String(e.id);R[u]=l;try{let a;a=void 0===e.params||void 0!==o&&0===o.numberOfParams?c?c(l.token):v(e.method,l.token):r.array(e.params)&&(void 0===o||o.numberOfParams>1)?c?c(...e.params,l.token):v(e.method,...e.params,l.token):c?c(e.params,l.token):v(e.method,e.params,l.token);let h=a;a?h.then?h.then((t=>{delete R[u],n(t,e.method,d)}),(t=>{delete R[u],t instanceof i.ResponseError?s(t,e.method,d):t&&r.string(t.message)?s(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,d):s(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,d)})):(delete R[u],n(a,e.method,d)):(delete R[u],function(r,i,n){void 0===r&&(r=null);let s={jsonrpc:w,id:e.id,result:r};$(s,i,n),t.write(s)}(a,e.method,d))}catch(t){delete R[u],t instanceof i.ResponseError?n(t,e.method,d):t&&r.string(t.message)?s(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,d):s(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,d)}}else s(new i.ResponseError(i.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,d)}(e):i.isNotificationMessage(e)?function(e){if(U())return;let t,i;if(e.method===l.type.method)i=e=>{let t=e.id,r=R[String(t)];r&&r.cancel()};else{let r=C[e.method];r&&(i=r.handler,t=r.type)}if(i||k)try{!function(e){if(P!==u.Off&&E&&e.method!==f.type.method)if(O===h.Text){let t;P===u.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),E.log(`Received notification '${e.method}'.`,t)}else H("receive-notification",e)}(e),void 0===e.params||void 0!==t&&0===t.numberOfParams?i?i():k(e.method):r.array(e.params)&&(void 0===t||t.numberOfParams>1)?i?i(...e.params):k(e.method,...e.params):i?i(e.params):k(e.method,e.params)}catch(t){t.message?n.error(`Notification handler '${e.method}' failed with message: ${t.message}`):n.error(`Notification handler '${e.method}' failed unexpectedly.`)}else N.fire(e)}(e):i.isResponseMessage(e)?function(e){if(!U())if(null===e.id)e.error?n.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):n.error("Received response message without id. No further error information provided.");else{let t=String(e.id),r=M[t];if(function(e,t){if(P!==u.Off&&E)if(O===h.Text){let r;if(P===u.Verbose&&(e.error&&e.error.data?r=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?r=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),t){let i=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";E.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${i}`,r)}else E.log(`Received response ${e.id} without active response promise.`,r)}else H("receive-response",e)}(e,r),r){delete M[t];try{if(e.error){let t=e.error;r.reject(new i.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");r.resolve(e.result)}}catch(e){e.message?n.error(`Response handler '${r.method}' failed with message: ${e.message}`):n.error(`Response handler '${r.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void n.error("Received empty message.");n.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);let t=e;if(r.string(t.id)||r.number(t.id)){let e=String(t.id),r=M[e];r&&r.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{W()}}()})))}e.onClose(z),e.onError((function(e){L.fire([e,void 0,void 0])})),t.onClose(z),t.onError((function(e){L.fire(e)}));let K=e=>{try{if(i.isNotificationMessage(e)&&e.method===l.type.method){let r=j(e.params.id),n=T.get(r);if(i.isRequestMessage(n)){let i=s&&s.cancelUndispatched?s.cancelUndispatched(n,D):void 0;if(i&&(void 0!==i.error||void 0!==i.result))return T.delete(r),i.id=n.id,$(i,e.method,Date.now()),void t.write(i)}}!function(e,t){var r;i.isRequestMessage(t)?e.set(j(t.id),t):i.isResponseMessage(t)?e.set(null===(r=t.id)?"res-unknown-"+(++b).toString():"res-"+r.toString(),t):e.set("not-"+(++_).toString(),t)}(T,e)}finally{W()}};function $(e,t,r){if(P!==u.Off&&E)if(O===h.Text){let i;P===u.Verbose&&(e.error&&e.error.data?i=`Error data: ${JSON.stringify(e.error.data,null,4)}\n\n`:e.result?i=`Result: ${JSON.stringify(e.result,null,4)}\n\n`:void 0===e.error&&(i="No result returned.\n\n")),E.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-r}ms`,i)}else H("send-response",e)}function H(e,t){if(!E||P===u.Off)return;const r={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};E.log(r)}function G(){if(q())throw new g(p.Closed,"Connection is closed.");if(U())throw new g(p.Disposed,"Connection is disposed.")}function V(e){return void 0===e?null:e}function X(e,t){let r,i=e.numberOfParams;switch(i){case 0:r=null;break;case 1:r=V(t[0]);break;default:r=[];for(let e=0;e<t.length&&e<i;e++)r.push(V(t[e]));if(t.length<i)for(let e=t.length;e<i;e++)r.push(null)}return r}let J={sendNotification:(e,...i)=>{let n,s;if(G(),r.string(e))switch(n=e,i.length){case 0:s=null;break;case 1:s=i[0];break;default:s=i}else n=e.method,s=X(e,i);let o={jsonrpc:w,method:n,params:s};!function(e){if(P!==u.Off&&E)if(O===h.Text){let t;P===u.Verbose&&(t=e.params?`Params: ${JSON.stringify(e.params,null,4)}\n\n`:"No parameters provided.\n\n"),E.log(`Sending notification '${e.method}'.`,t)}else H("send-notification",e)}(o),t.write(o)},onNotification:(e,t)=>{G(),r.func(e)?k=e:t&&(r.string(e)?C[e]={type:void 0,handler:t}:C[e.method]={type:e,handler:t})},sendRequest:(e,...n)=>{let s,o,c;if(G(),function(){if(!B())throw new Error("Call listen() first.")}(),r.string(e))switch(s=e,n.length){case 0:o=null;break;case 1:a.CancellationToken.is(n[0])?(o=null,c=n[0]):o=V(n[0]);break;default:const e=n.length-1;a.CancellationToken.is(n[e])?(c=n[e],o=2===n.length?V(n[0]):n.slice(0,e).map((e=>V(e)))):o=n.map((e=>V(e)))}else{s=e.method,o=X(e,n);let t=e.numberOfParams;c=a.CancellationToken.is(n[t])?n[t]:void 0}let d=y++,f=new Promise(((e,r)=>{let n={jsonrpc:w,id:d,method:s,params:o},a={method:s,timerStart:Date.now(),resolve:e,reject:r};!function(e){if(P!==u.Off&&E)if(O===h.Text){let t;P===u.Verbose&&e.params&&(t=`Params: ${JSON.stringify(e.params,null,4)}\n\n`),E.log(`Sending request '${e.method} - (${e.id})'.`,t)}else H("send-request",e)}(n);try{t.write(n)}catch(e){a.reject(new i.ResponseError(i.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&(M[String(d)]=a)}));return c&&c.onCancellationRequested((()=>{J.sendNotification(l.type,{id:d})})),f},onRequest:(e,t)=>{G(),r.func(e)?v=e:t&&(r.string(e)?x[e]={type:void 0,handler:t}:x[e.method]={type:e,handler:t})},trace:(e,t,i)=>{let n=!1,s=h.Text;void 0!==i&&(r.boolean(i)?n=i:(n=i.sendNotification||!1,s=i.traceFormat||h.Text)),P=e,O=s,E=P===u.Off?void 0:t,!n||q()||U()||J.sendNotification(d.type,{value:u.toString(e)})},onError:L.event,onClose:I.event,onUnhandledNotification:N.event,onDispose:F.event,dispose:()=>{if(U())return;A=m.Disposed,F.fire(void 0);let i=new Error("Connection got disposed.");Object.keys(M).forEach((e=>{M[e].reject(i)})),M=Object.create(null),R=Object.create(null),T=new c.LinkedMap,r.func(t.dispose)&&t.dispose(),r.func(e.dispose)&&e.dispose()},listen:()=>{G(),function(){if(B())throw new g(p.AlreadyListening,"Connection is already listening")}(),A=m.Listening,e.listen(K)},inspect:()=>{console.log("inspect")}};return J.onNotification(f.type,(e=>{P!==u.Off&&E&&E.log(e.message,P===u.Verbose?e.verbose:void 0)})),J}e.ConnectionError=g,(e.ConnectionStrategy||(e.ConnectionStrategy={})).is=function(e){let t=e;return t&&r.func(t.cancelUndispatched)},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(m||(m={})),e.createMessageConnection=function(t,r,i,o){i||(i=e.NullLogger);let a=void 0!==(c=t).listen&&void 0===c.read?t:new n.StreamMessageReader(t);var c;let l=function(e){return void 0!==e.write&&void 0===e.end}(r)?r:new s.StreamMessageWriter(r);return y(a,l,i,o)}}(Dr);var Ui=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ir(this,"_ipcPaused",!1),Ir(this,"_ipcQueue",[]),this._webview=t}var t,r,i,n,s,o;return t=e,r=[{key:"onIpcRequest",value:(o=Ar(jr.mark((function e(t,r,i){var n;return jr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(t,r.params);case 3:n=e.sent,this.sendIpcResponse(r,n),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),this.sendIpcResponse(r,e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e,t,r){return o.apply(this,arguments)})},{key:"notify",value:function(e,t){this.postMessage({method:e.method,params:t})}},{key:"sendIpcResponse",value:function(e,t){this.postMessage(t instanceof Dr.ResponseError?{id:e.id,error:{code:t.code,message:t.message,data:t.data,stack:t.stack}}:t instanceof Error?{id:e.id,error:t.message}:{id:e.id,params:t})}},{key:"enqueueIpcMessage",value:function(t){this._ipcQueue.length>e.IpcQueueThreshold||this._ipcQueue.push(t)}},{key:"postMessage",value:(s=Ar(jr.mark((function e(t){var r,i,n=arguments;return jr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(n.length>1&&void 0!==n[1])||n[1],!this._ipcPaused){e.next=11;break}if(!Bi(t)){e.next=8;break}return e.next=5,this.postMessageCore(t);case 5:if(!e.sent){e.next=8;break}return e.abrupt("return",!0);case 8:return r&&this.enqueueIpcMessage(t),console.error("WebviewPanel: FAILED posting ".concat(qi(t)," to the webview; Webview is invisible and can't receive messages")),e.abrupt("return",!1);case 11:if(void 0===this._flushingPromise){e.next=17;break}return e.next=14,this._flushingPromise;case 14:if(e.sent){e.next=17;break}return console.log("WebviewPanel: FAILED posting ".concat(qi(t)," to the webview")),e.abrupt("return",!1);case 17:return e.next=19,this.postMessageCore(t);case 19:return!(i=e.sent)&&r&&this.enqueueIpcMessage(t),e.abrupt("return",i);case 22:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"postMessageCore",value:(n=Ar(jr.mark((function e(t){var r;return jr.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this._webview){e.next=5;break}r=!1,e.next=8;break;case 5:return e.next=7,this._webview.postMessage(t);case 7:r=e.sent;case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),r=!1;case 14:return r||(this._ipcPaused=!0),console.log("WebviewPanel: ".concat(r?"Completed":"FAILED"," posting ").concat(qi(t)," to the webview")),e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this,[[0,10]])}))),function(e){return n.apply(this,arguments)})}],i=[{key:"getInstance",value:function(t){return this._instance=new e(t),this._instance}}],r&&Lr(t.prototype,r),i&&Lr(t,i),e}();Ir(Ui,"IpcQueueThreshold",100);var zi=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};const Wi={Cookie:" "},Ki=new class{constructor(){this.httpAgent=_r().create({baseURL:this.getBaseUrl()}),this.httpAgent.defaults.timeout=2e4,this.httpAgent.interceptors.request.use((e=>{var t,r,i;return Wi.Cookie=null!==(r=null===(t=null==e?void 0:e.params)||void 0===t?void 0:t.cookie)&&void 0!==r?r:"",e.headers?e.headers.Cookie=null!==(i=null==Wi?void 0:Wi.Cookie)&&void 0!==i?i:"":e.headers=null!=Wi?Wi:{},console.log("sso 传参: ",e.headers),e})),this.httpAgent.interceptors.response.use(this.resInterceptor,(e=>(console.error(e),Promise.reject(e.toJSON()))))}getBaseUrl(){return"https://kdev.corp.kuaishou.com/"}resInterceptor(e){var t,r,i,n;return 200!==e.status||200!==e.data.status?(console.debug(`kdev 接口请求失败1：${e.config.url}: `,e.data),{status:200!==e.status?e.status:e.data.status,message:(null===(t=e.data)||void 0===t?void 0:t.message)||`请求后端服务错误: ${e.data.status}`,data:(null===(r=e.data)||void 0===r?void 0:r.data)||e.data}):(console.debug(`kdev 接口请求成功：${e.config.url}: `,null===(i=e.data)||void 0===i?void 0:i.data),(null===(n=e.data)||void 0===n?void 0:n.data)||{})}get(e,t,r){return zi(this,void 0,void 0,(function*(){try{return yield this.httpAgent.get(e,t)}catch(e){return e}}))}post(e,t,r,i){return zi(this,void 0,void 0,(function*(){try{return yield this.httpAgent.post(e,t,r)}catch(e){return e}}))}delete(e,t){return this.httpAgent.delete(e,t)}put(e,t,r){return this.httpAgent.put(e,t,r)}getApi(e,t){return(r,i)=>this.get(e,Object.assign(Object.assign({},t),{params:r}),i)}postApi(e,t){return(r,i)=>this.post(e,r,t,i)}},$i=new class{constructor(){this.getUserInfo=Ki.getApi("/api/kdev/user/permission")}};var Hi=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};const Gi=new class{constructor(){this.httpAgent=_r().create({baseURL:this.getBaseUrl()}),this.httpAgent.defaults.timeout=5e4,this.httpAgent.interceptors.response.use(this.resInterceptor,(e=>(console.error(e),Promise.reject(e.toJSON()))))}getBaseUrl(){return"https://kim.corp.kuaishou.com/"}resInterceptor(e){return console.log("dev:",null==e?void 0:e.data),console.debug(`dev 接口请求成功：${e.config.url}: `,null==e?void 0:e.data),(null==e?void 0:e.data)||{}}get(e,t,r){return Hi(this,void 0,void 0,(function*(){try{return yield this.httpAgent.get(e,t)}catch(e){return e}}))}post(e,t,r,i){return Hi(this,void 0,void 0,(function*(){try{return yield this.httpAgent.post(e,t,r)}catch(e){return e}}))}delete(e,t){return this.httpAgent.delete(e,t)}put(e,t,r){return this.httpAgent.put(e,t,r)}getApi(e,t){return(r,i)=>this.get(e,Object.assign(Object.assign({},t),{params:r}),i)}postApi(e,t){return(r,i)=>this.post(e,r,t,i)}},Vi=new class{constructor(){this.getClientInfo=Gi.getApi("/oauth/clientInfo"),this.getQrImgBase64=Gi.getApi("/oauth/qrImgBase64"),this.getQrConnect=Gi.getApi("/api/v1/qrConnect")}};var Xi,Ji=s(7091);!function(e){e.QRCODE_SCAN_NEVER="QRCODE_SCAN_NEVER",e.QRCODE_SCAN_ING="QRCODE_SCAN_ING",e.QRCODE_SCAN_FAIL="QRCODE_SCAN_FAIL",e.QRCODE_SCAN_SUC="QRCODE_SCAN_SUC"}(Xi||(Xi={}));const Zi=new Ji.RequestType("sso/login/password"),Yi=new Ji.RequestType("api/kdev/user/permission"),Qi=new Ji.RequestType("api/callback"),en=new Ji.RequestType("api/initFromValues"),tn=new Ji.RequestType("api/v1/qrConnect"),rn=new Ji.RequestType("oauth/clientInfo"),nn=new Ji.RequestType("oauth/qrImgBase64"),sn=new Ji.RequestType("oauth/qrToSso"),on={on:function(e,t){var r,i,n;console.log("on:",e),this.handler||Object.defineProperty(this,"handler",{configurable:!0,enumerable:!1,value:{},writable:!0}),(null===(r=this.handler)||void 0===r?void 0:r[e])||null===(i=this.handler)||void 0===i||(i[e]=[]),null===(n=this.handler)||void 0===n||(n[e]=[t]),console.log("on handle:",this.handler),console.log(this.handler)},emit:function(e){var t;console.log("emit!!!!!"),console.log(e);let i=null===(t=this.handler)||void 0===t?void 0:t[e];if(console.log("fnArr"),console.log(i),!i||r(i)||E(i))return console.log("直接false"),!1;for(let e=0;e<i.length;e++)i[e](arguments[1],arguments[2])}};var an=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};class cn{constructor(e,t,r){this.extensionUri=e,this.context=t,this.api=r,this.webviewMessageHandler=(e,t)=>an(this,void 0,void 0,(function*(){const r=Ui.getInstance(t);switch(console.log("methods:"),console.log(e.method),e.method){case Zi.method:r.onIpcRequest(Zi,e,((e,t)=>an(this,void 0,void 0,(function*(){return console.log("onRequest"),console.log(e),console.log(t),yield xr(t,this.context),{state:{email:null==t?void 0:t.email,cookie:this.context.globalState.get(x.SsoTokens)}}}))));break;case Yi.method:r.onIpcRequest(Yi,e,((e,t)=>an(this,void 0,void 0,(function*(){console.log("UserInfoRequestType"),console.log(e),console.log(t);const r=yield $i.getUserInfo(Object.assign(Object.assign({},t),{cookie:this.context.globalState.get(x.SsoTokens)}));return this.context.globalState.update(x.UserInfo,r),console.log("extension userInfo"),console.log(r),r}))));break;case Qi.method:r.onIpcRequest(Qi,e,((e,t)=>an(this,void 0,void 0,(function*(){var e;on.emit("loginCallback",null!==(e=this.context.globalState.get(this.context.globalState.get(x.serviceName)))&&void 0!==e?e:this.context.globalState.get(x.SsoTokens),this.context.globalState.get(x.UserInfo))}))));break;case en.method:r.onIpcRequest(en,e,((e,t)=>an(this,void 0,void 0,(function*(){var e,t;return{email:null!==(e=this.context.globalState.get(x.Email))&&void 0!==e?e:"",password:null!==(t=this.context.globalState.get(x.Password))&&void 0!==t?t:""}}))));break;case rn.method:console.log("ClientInfoRequestType.method"),r.onIpcRequest(rn,e,((e,t)=>an(this,void 0,void 0,(function*(){console.log(e);const r=yield Vi.getClientInfo(Object.assign({},t));return console.log("extension clientInfo:",r),r}))));break;case nn.method:console.log("server 收到请求"),r.onIpcRequest(nn,e,((e,t)=>an(this,void 0,void 0,(function*(){return console.log(e),yield Vi.getQrImgBase64(Object.assign({},t))}))));break;case tn.method:r.onIpcRequest(tn,e,((e,t)=>an(this,void 0,void 0,(function*(){return console.log(e),yield Vi.getQrConnect(Object.assign({},t))}))));break;case sn.method:r.onIpcRequest(sn,e,((e,t)=>an(this,void 0,void 0,(function*(){return console.log("onRequest"),console.log(e),console.log(t),yield Tr(t,this.context),console.log("this.context.globalState.get(GlobalState.SsoTokens):",this.context.globalState.get(x.SsoTokens)),{state:{cookie:this.context.globalState.get(x.SsoTokens)}}}))))}}))}reload(){this.view&&(this.view.webview.html="",this.view.webview.html=this.getHtmlForWebview(this.view.webview))}dispose(){this._disposable&&this._disposable.dispose()}resolveWebviewView(e,t,r){return an(this,void 0,void 0,(function*(){console.log("重启sso resolveWebviewView"),this.view=e,e.webview.options={enableScripts:!0,localResourceRoots:[this.extensionUri]},e.webview.html="",e.webview.html=this.getHtmlForWebview(e.webview),e.webview.onDidReceiveMessage((t=>{this.webviewMessageHandler(t,e.webview)}))}))}getHtmlForWebview(e){const t=JSON.parse((0,Pr.readFile)(kt().join(this.extensionUri.path,"dist/ui/sso/asset-manifest.json"))),r=t.files["main.js"],n=t.files["main.css"],s=i.Uri.file(kt().join(this.extensionUri.path,"dist/ui/sso",r)).with({scheme:"vscode-resource"}),o=i.Uri.file(kt().join(this.extensionUri.path,"dist/ui/sso",n)).with({scheme:"vscode-resource"}),a=(0,Pr.getNonce)();return`<!DOCTYPE html>\n\t\t\t<html lang="en">\n\t\t\t\t<head>\n\t\t\t\t\t<meta charset="UTF-8">\n\n\t\t\t\t\t\x3c!--\n\t\t\t\t\t\tUse a content security policy to only allow loading images from https or from our extension directory,\n\t\t\t\t\t\tand only allow scripts that have a specific nonce.\n\t\t\t\t\t--\x3e\n\t\t\t\t\t<meta http-equiv="Content-Security-Policy" content="default-src 'none'; style-src ${e.cspSource} https://*.vscode-cdn.net cdn.example.org third-party.org 'unsafe-inline'; script-src 'nonce-${a}'; img-src * 'self' data: https: https://*.vscode-cdn.net;">\n\n\t\t\t\t\t<meta name="viewport" content="width=device-width, initial-scale=1.0">\n\n\t\t\t\t\t<link href="${o}" rel="stylesheet">\n\t\t\t\t\t<base href="${i.Uri.file(kt().join(this.extensionUri.path,"build")).with({scheme:"vscode-resource"})}/">\n\t\t\t\t\t\n\t\t\t\t\t<title>kcfe</title>\n\t\t\t\t</head>\n\t\t\t\t<body>\n\t\t\t\t\t<noscript>You need to enable JavaScript to run this app.</noscript>\n\t\t\t\t\t<div id="root">\n\t\t\t\t\t</div>\n\t\t\t\t</body>\n\t\t\t\t<script nonce="${a}">\n\t\t\t\t\tconst WEBVIEW_MODULE = 'sidebar';\n\t\t\t\t<\/script>\n\t\t\t\t<script nonce="${a}" src="${s}"><\/script>\n\t\t\t</html>`}}cn.viewType="sso.dev.panel";var ln=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{c(i.next(e))}catch(e){s(e)}}function a(e){try{c(i.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}c((i=i.apply(e,t||[])).next())}))};let un=null,hn=null;function dn(e){const t={isLogin(){return ln(this,void 0,void 0,(function*(){console.log("进入isLogin");const t=yield $i.getUserInfo({cookie:e.globalState.get(x.SsoTokens)});return console.log("api isLogin:",null==t?void 0:t.userName),!r(null==t?void 0:t.userName)&&(console.log(null==t?void 0:t.userName),!0)}))},getCookie(t,r){return ln(this,void 0,void 0,(function*(){return console.log("context.globalState.get(serviceName)自己拿:",e.globalState.get(t)),console.log("要自己去拿"),yield Rr(t,r,e),e.globalState.get(t)}))},getUserInfo(){return ln(this,void 0,void 0,(function*(){return e.globalState.get(x.UserInfo)}))},onLogin(t,r,i){return ln(this,void 0,void 0,(function*(){yield e.globalState.update(x.serviceName,t),yield e.globalState.update(x.serviceUrl,r),console.log("触发到了sso的onLogin"),on.on("loginCallback",(function(e,t){i(e,t)}))}))},logout(){return ln(this,void 0,void 0,(function*(){return console.log("sso开始退出登录"),yield e.globalState.update(x.SsoTokens,""),!0}))},showSsoWebview(){return ln(this,void 0,void 0,(function*(){yield i.commands.executeCommand("setContext","sso.sub.show",!0),yield i.commands.executeCommand("workbench.view.extension.sso-activitybar")}))},hideSsoWebview(){return ln(this,void 0,void 0,(function*(){yield i.commands.executeCommand("setContext","sso.sub.show",!1)}))}};console.log('Congratulations, your extension "sso" is now active!'),un=i.commands.registerCommand("sso.sub.show",(()=>{i.window.showInformationMessage("Hello World from kcfe-sso")}));const n=new cn(e.extensionUri,e,t);return hn=i.window.registerWebviewViewProvider(cn.viewType,n,{webviewOptions:{retainContextWhenHidden:!0}}),e.subscriptions.push(un),e.subscriptions.push(hn),t}function fn(){console.log("sso开始销毁"),un.dispose(),hn.dispose(),console.log("sso结束销毁")}})(),module.exports=o})();